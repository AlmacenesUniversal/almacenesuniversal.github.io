/*! For license information please see main-es2015.83c5eb992ae675b308d8.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+Nuo":function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return r.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return r.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return i.DefaultTextLayerFactory}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return i.TextLayerBuilder}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return o.EventBus}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return o.NullL10n}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return o.ProgressBar}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return s.PDFLinkService}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return s.SimpleLinkService}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return a.DownloadManager}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return u.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return c.PDFHistory}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return h.PDFPageView}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return d.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return f.PDFViewer}});var r=n(1),i=n(8),o=n(3),s=n(7),a=n(9),l=n(11),u=n(13),c=n(15),h=n(16),d=n(18),f=n(20)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var r=n(2),i=n(3),o=n(7);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var u=function(){function e(t){var n=t.pageDiv,r=t.pdfPage,o=t.linkService,a=t.downloadManager,l=t.imageResourcesPath,u=void 0===l?"":l,c=t.renderInteractiveForms,h=void 0!==c&&c,d=t.l10n,f=void 0===d?i.NullL10n:d;s(this,e),this.pageDiv=n,this.pdfPage=r,this.linkService=o,this.downloadManager=a,this.imageResourcesPath=u,this.renderInteractiveForms=h,this.l10n=f,this.div=null,this._cancelled=!1}return l(e,[{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";this.pdfPage.getAnnotations({intent:n}).then((function(n){if(!t._cancelled){var i={viewport:e.clone({dontFlip:!0}),div:t.div,annotations:n,page:t.pdfPage,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,linkService:t.linkService,downloadManager:t.downloadManager};if(t.div)r.AnnotationLayer.update(i);else{if(0===n.length)return;t.div=document.createElement("div"),t.div.className="annotationLayer",t.pageDiv.appendChild(t.div),i.div=t.div,r.AnnotationLayer.render(i),t.l10n.translate(t.div)}}}))}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]),e}();t.AnnotationLayerBuilder=u,t.DefaultAnnotationLayerFactory=function(){function e(){s(this,e)}return l(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.NullL10n;return new u({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:r,linkService:new o.SimpleLinkService,l10n:s})}}]),e}()},function(e,t,r){"use strict";var i;i="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n("Q4Nv"),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(h).includes(e)&&e!==h.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(d).includes(e)&&e!==d.UNKNOWN},t.isPortraitOrientation=function(e){return e.width<=e.height},t.clamp=_,t.getPDFFileNameFromURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(m(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0]).includes("%"))try{o=r.exec(decodeURIComponent(o))[0]}catch(s){}return o||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,i=t.length;r<i;++r){var o=t[r].split("="),s=o[0].toLowerCase(),a=o.length>1?o[1]:null;n[decodeURIComponent(s)]=decodeURIComponent(a)}return n},t.backtrackBeforeAllVisibleElements=g,t.getVisibleElements=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.scrollTop,o=i+e.clientHeight,s=e.scrollLeft,a=s+e.clientWidth;function l(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>i}function u(e){var t=e.div;return t.offsetLeft+t.clientLeft+t.clientWidth>s}var c=[],h=t.length,d=0===h?0:p(t,r?u:l);d>0&&d<h&&!r&&(d=g(d,t,i));for(var f=r?a:-1,m=d;m<h;m++){var v=t[m],y=v.div,b=y.offsetLeft+y.clientLeft,_=y.offsetTop+y.clientTop,w=y.clientWidth,S=y.clientHeight,A=b+w,C=_+S;if(-1===f)C>=o&&(f=C);else if((r?b:_)>f)break;if(!(C<=i||_>=o||A<=s||b>=a)){var E=Math.max(0,i-_)+Math.max(0,C-o),k=Math.max(0,s-b)+Math.max(0,A-a),T=(S-E)*(w-k)*100/S/w|0;c.push({id:v.id,x:b,y:_,view:v,percent:T})}}var x=c[0],I=c[c.length-1];return n&&c.sort((function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id})),{first:x,last:I,views:c}},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.getPageSizeInches=function(e){var t,n=e.userUnit,r=e.rotate,i=function(e){if(Array.isArray(e))return e}(t=e.view)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),4!==n.length);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t)||function(e,t){if(e){if("string"==typeof e)return l(e,4);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,4):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r%180!=0,s=(i[2]-i[0])/72*n,a=(i[3]-i[1])/72*n;return{width:o?a:s,height:o?s:a}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,r=0,i=1,o=1,s=1;;){var a=r+o,l=i+s;if(l>8)break;n<=a/l?(o=a,s=l):(r=a,i=l)}return n-r/i<o/s-n?n===e?[r,i]:[i,r]:n===e?[o,s]:[s,o]},t.getOutputScale=function(e){var t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);return{sx:t,sy:t,scaled:1!==t}},t.scrollIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(r){for(var i=e.offsetTop+e.clientTop,o=e.offsetLeft+e.clientLeft;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&"hidden"===getComputedStyle(r).overflow;)if(r.dataset._scaleY&&(i/=r.dataset._scaleY,o/=r.dataset._scaleX),i+=r.offsetTop,o+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(r.scrollLeft=o+=t.left)),r.scrollTop=i}else console.error("offsetParent is not set -- cannot scroll")},t.watchScroll=function(e,t){var n=function(n){i||(i=window.requestAnimationFrame((function(){i=null;var n=e.scrollLeft,o=r.lastX;n!==o&&(r.right=n>o),r.lastX=n;var s=e.scrollTop,a=r.lastY;s!==a&&(r.down=s>a),r.lastY=s,t(r)})))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r},t.binarySearchFirstItem=p,t.normalizeWheelEventDelta=function(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.waitOnEventOrTimeout=function(e){var t=e.target,n=e.name,r=e.delay,i=void 0===r?0:r;return new Promise((function(e,r){if("object"!==function(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(t)||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function o(r){t instanceof b?t._off(n,s):t.removeEventListener(n,s),l&&clearTimeout(l),e(r)}var s=o.bind(null,v.EVENT);t instanceof b?t._on(n,s):t.addEventListener(n,s);var a=o.bind(null,v.TIMEOUT),l=setTimeout(a,i)}))},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,i=0,o=0;o<r;++o)t(e[o])?n.push(e[o]):(e[i]=e[o],++i);for(var s=0;i<r;++s,++i)e[i]=n[s]},t.WaitOnType=t.animationStarted=t.ProgressBar=t.EventBus=t.NullL10n=t.SpreadMode=t.ScrollMode=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=t.AutoPrintRegExp=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){u(o,r,i,s,a,"next",e)}function a(e){u(o,r,i,s,a,"throw",e)}s(void 0)}))}}t.CSS_UNITS=96/72,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var h={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=h;var d={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function f(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,(function(e,n){return n in t?t[n]:"{{"+n+"}}"})):e}function p(e,t){var n=0,r=e.length-1;if(r<0||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function g(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=t[e-1].div).offsetTop+r.clientTop);for(var o=e-2;o>=0&&!((r=t[o].div).offsetTop+r.clientTop+r.clientHeight<=i);--o)e=o;return e}function m(e){for(var t=0,n=e.length;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}t.SpreadMode=d,t.AutoPrintRegExp=/\bprint\s*\(/,t.NullL10n={getLanguage:function(){return c(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}}),e)})))()},getDirection:function(){return c(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}}),e)})))()},get:function(e,t,n){return c(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(n,t));case 1:case"end":return e.stop()}}),e)})))()},translate:function(e){return c(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}};var v={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=v;var y=new Promise((function(e){window.requestAnimationFrame(e)}));t.animationStarted=y;var b=function(){function e(t){o(this,e),this._listeners=Object.create(null)}return a(e,[{key:"on",value:function(e,t){this._on(e,t,{external:!0})}},{key:"off",value:function(e,t){this._off(e,t,{external:!0})}},{key:"dispatch",value:function(e){var t=this._listeners[e];if(t&&0!==t.length){var n,r=Array.prototype.slice.call(arguments,1);t.slice(0).forEach((function(e){var t=e.listener;if(e.external)return n||(n=[]),void n.push(t);t.apply(null,r)})),n&&(n.forEach((function(e){e.apply(null,r)})),n=null)}}},{key:"_on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this._listeners[e];r||(this._listeners[e]=r=[]),r.push({listener:t,external:!0===(n&&n.external)})}},{key:"_off",value:function(e,t){var n=this._listeners[e];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].listener===t)return void n.splice(r,1)}}]),e}();function _(e,t,n){return Math.min(Math.max(e,t),n)}t.EventBus=b,t.ProgressBar=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.height,i=n.width,s=n.units;o(this,e),this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=r||100,this.width=i||100,this.units=s||"%",this.div.style.height=this.height+this.units,this.percent=0}return a(e,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&(this.bar.style.width="calc(100% - ".concat(t,"px)"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=_(e,0,100),this._updateBar()}}]),e}()},function(e,t,n){"use strict";e.exports=n(5)},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=Object.create((t&&t.prototype instanceof h?t:h).prototype),o=new A(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var c={};function h(){}function d(){}function f(){}var p={};p[o]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(C([])));m&&m!==n&&r.call(m,o)&&(p=m);var v=f.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,n){var i;this._invoke=function(o,s){function a(){return new n((function(i,a){!function i(o,s,a,l){var c=u(e[o],e,s);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"===t(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,a,l)}),(function(e){i("throw",e,a,l)})):n.resolve(d).then((function(e){h.value=e,a(h)}),(function(e){return i("throw",e,a,l)}))}l(c.arg)}(o,s,i,a)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=v.constructor=f,f.constructor=d,f[a]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[s]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),v[a]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(6)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var r=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}t.PDFLinkService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,r=t.externalLinkTarget,i=void 0===r?null:r,s=t.externalLinkRel,a=void 0===s?null:s,l=t.externalLinkEnabled,u=void 0===l||l,c=t.ignoreDestinationZoom,h=void 0!==c&&c;o(this,e),this.eventBus=n,this.externalLinkTarget=i,this.externalLinkRel=a,this.externalLinkEnabled=u,this._ignoreDestinationZoom=h,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return a(e,[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(e){var t=this;new Promise((function(n,r){"string"!=typeof e?n({namedDest:"",explicitDest:e}):t.pdfDocument.getDestination(e).then((function(t){n({namedDest:e,explicitDest:t})}))})).then((function(n){Array.isArray(n.explicitDest)?function n(r){var i,o=r.namedDest,s=r.explicitDest,a=s[0];if(a instanceof Object){if(null===(i=t._cachedPageNumber(a)))return void t.pdfDocument.getPageIndex(a).then((function(e){t.cachePageRef(e+1,a),n({namedDest:o,explicitDest:s})})).catch((function(){console.error('PDFLinkService.navigateTo: "'.concat(a,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))}))}else{if(!Number.isInteger(a))return void console.error('PDFLinkService.navigateTo: "'.concat(a,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));i=a+1}!i||i<1||i>t.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(i,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):(t.pdfHistory&&(t.pdfHistory.pushCurrentPosition(),t.pdfHistory.push({namedDest:o,explicitDest:s,pageNumber:i})),t.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:s,ignoreDestinationZoom:t._ignoreDestinationZoom}))}(n):console.error('PDFLinkService.navigateTo: "'.concat(n.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(e,'".'))}))}},{key:"getDestinationHash",value:function(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){var t=JSON.stringify(e);return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(e.includes("=")){var o=(0,r.parseQueryString)(e);if("search"in o&&this.eventBus.dispatch("findfromurlhash",{source:this,query:o.search.replace(/"/g,""),phraseSearch:"true"===o.phrase}),"page"in o&&(t=0|o.page||1),"zoom"in o){var s=o.zoom.split(","),a=s[0],l=parseFloat(a);a.includes("Fit")?"Fit"===a||"FitB"===a?n=[null,{name:a}]:"FitH"===a||"FitBH"===a||"FitV"===a||"FitBV"===a?n=[null,{name:a},s.length>1?0|s[1]:null]:"FitR"===a?5!==s.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:a},0|s[1],0|s[2],0|s[3],0|s[4]]:console.error('PDFLinkService.setHash: "'.concat(a,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},s.length>1?0|s[1]:null,s.length>2?0|s[2]:null,l?l/100:a]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in o&&this.eventBus.dispatch("pagemode",{source:this,mode:o.pagemode}),"nameddest"in o&&this.navigateTo(o.nameddest)}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(u){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(!("object"===i(n)&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;var r=e[1];if("object"!==i(r)||"string"!=typeof r.name)return!1;var o=!0;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;o=!1;break;default:return!1}for(var s=2;s<t;s++){var a=e[s];if(!("number"==typeof a||o&&null===a))return!1}return!0}(n))return void this.navigateTo(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":this.page>1&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return this._pagesRefCache&&this._pagesRefCache[t]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}]),e}(),t.SimpleLinkService=function(){function e(){o(this,e),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return a(e,[{key:"navigateTo",value:function(e){}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTextLayerFactory=t.TextLayerBuilder=void 0;var r=n(2);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a=function(){function e(t){var n=t.textLayerDiv,r=t.eventBus,o=t.pageIndex,s=t.viewport,a=t.findController,l=void 0===a?null:a,u=t.enhanceTextSelection,c=void 0!==u&&u;i(this,e),this.textLayerDiv=n,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=o,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=s,this.textDivs=[],this.findController=l,this.textLayerRenderTask=null,this.enhanceTextSelection=c,this._onUpdateTextLayerMatches=null,this._bindMouse()}return s(e,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var n=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:n,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:t,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((function(){e.textLayerDiv.appendChild(n),e._finishRendering(),e._updateMatches()}),(function(e){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(t){t.pageIndex!==e.pageIdx&&-1!==t.pageIndex||e._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"_convertMatches",value:function(e,t){if(!e)return[];for(var n=this.textContentItemsStr,r=0,i=0,o=n.length-1,s=this.findController.state.query.length,a=[],l=0,u=e.length;l<u;l++){for(var c=e[l];r!==o&&c>=i+n[r].length;)i+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");var h={begin:{divIdx:r,offset:c-i}};for(c+=t?t[l]:s;r!==o&&c>i+n[r].length;)i+=n[r].length,r++;h.end={divIdx:r,offset:c-i},a.push(h)}return a}},{key:"_renderMatches",value:function(e){if(0!==e.length){var t=this.findController,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,o=n===t.selected.pageIdx,s=t.selected.matchIdx,a=null,l={divIdx:-1,offset:void 0},u=s,c=u+1;if(t.state.highlightAll)u=0,c=e.length;else if(!o)return;for(var h=u;h<c;h++){var d=e[h],f=d.begin,p=d.end,g=o&&h===s,m=g?" selected":"";if(g&&t.scrollMatchIntoView({element:i[f.divIdx],pageIndex:n,matchIndex:s}),a&&f.divIdx===a.divIdx?_(a.divIdx,a.offset,f.offset):(null!==a&&_(a.divIdx,a.offset,l.offset),b(f)),f.divIdx===p.divIdx)_(f.divIdx,f.offset,p.offset,"highlight"+m);else{_(f.divIdx,f.offset,l.offset,"highlight begin"+m);for(var v=f.divIdx+1,y=p.divIdx;v<y;v++)i[v].className="highlight middle"+m;b(p,"highlight end"+m)}a=p}a&&_(a.divIdx,a.offset,l.offset)}function b(e,t){var n=e.divIdx;i[n].textContent="",_(n,0,e.offset,t)}function _(e,t,n,o){var s=i[e],a=r[e].substring(t,n),l=document.createTextNode(a);if(o){var u=document.createElement("span");return u.className=o,u.appendChild(l),void s.appendChild(u)}s.appendChild(l)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var e=this.findController,t=this.matches,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,o=-1,s=0,a=t.length;s<a;s++){for(var l=t[s],u=Math.max(o,l.begin.divIdx),c=l.end.divIdx;u<=c;u++){var h=i[u];h.textContent=r[u],h.className=""}o=l.end.divIdx+1}e&&e.highlightMatches&&(this.matches=this._convertMatches(e.pageMatches[n]||null,e.pageMatchesLength[n]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var e=this,t=this.textLayerDiv,n=null;t.addEventListener("mousedown",(function(r){if(e.enhanceTextSelection&&e.textLayerRenderTask)return e.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var i=t.querySelector(".endOfContent");if(i){var o=r.target!==t;if(o=o&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select")){var s=t.getBoundingClientRect(),a=Math.max(0,(r.pageY-s.top)/s.height);i.style.top=(100*a).toFixed(2)+"%"}i.classList.add("active")}})),t.addEventListener("mouseup",(function(){if(e.enhanceTextSelection&&e.textLayerRenderTask)n=setTimeout((function(){e.textLayerRenderTask&&e.textLayerRenderTask.expandTextDivs(!1),n=null}),300);else{var r=t.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))}}))}}]),e}();t.TextLayerBuilder=a,t.DefaultTextLayerFactory=function(){function e(){i(this,e)}return s(e,[{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return new a({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:r,eventBus:i})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=n(2);var i=n(10).viewerCompatibilityParams.disableCreateObjectURL||!1;function o(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}t.DownloadManager=function(){function e(t){var n=t.disableCreateObjectURL,r=void 0===n?i:n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.disableCreateObjectURL=r}var t;return(t=[{key:"downloadUrl",value:function(e,t){(0,r.createValidAbsoluteUrl)(e,"http://example.com")&&o(e+"#pdfjs.action=download",t)}},{key:"downloadData",value:function(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([e],{type:n}),t):o((0,r.createObjectURL)(e,n,this.disableCreateObjectURL),t)}},{key:"download",value:function(e,t,n){navigator.msSaveBlob?navigator.msSaveBlob(e,n)||this.downloadUrl(t,n):this.disableCreateObjectURL?this.downloadUrl(t,n):o(URL.createObjectURL(e),n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewerCompatibilityParams=void 0;var r=Object.create(null),i="undefined"!=typeof navigator&&navigator.userAgent||"",o="undefined"!=typeof navigator&&navigator.platform||"",s="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,a=/Android/.test(i),l=/Trident/.test(i),u=/\b(iPad|iPhone|iPod)(?=;)/.test(i)||"MacIntel"===o&&s>1,c=/CriOS/.test(i);(l||c)&&(r.disableCreateObjectURL=!0),(u||a)&&(r.maxCanvasPixels=5242880);var h=Object.freeze(r);t.viewerCompatibilityParams=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r};function o(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,l,"next",e)}function l(e){o(s,r,i,a,l,"throw",e)}a(void 0)}))}}n(12);var a=document.webL10n;t.GenericL10n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._lang=t,this._ready=new Promise((function(e,n){a.setLanguage(t,(function(){e(a)}))}))}var t,n,r,o,l,u;return t=e,(n=[{key:"getLanguage",value:(u=s(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getLanguage());case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getDirection",value:(l=s(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getDirection());case 4:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"get",value:(o=s(i.default.mark((function e(t,n,r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.get(t,n,r));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"translate",value:(r=s(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.translate(t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()},function(e,t,n){"use strict";document.webL10n=function(e,t,n){var r={},i="",o="textContent",s="",a={},l="loading";function u(e,t,n){t=t||function(e){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",e,!0),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(i){n()}}function c(e,t,n){var i=r[e];if(!i){if(console.warn("#"+e+" is undefined."),!n)return null;i=n}var o={};for(var s in i){var a=i[s];a=d(a=h(a,t,e,s),t,e),o[s]=a}return o}function h(e,t,n,i){var o=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!o||!o.length)return e;var s,l=o[1],u=o[2];return t&&u in t?s=t[u]:u in r&&(s=r[u]),l in a&&(e=(0,a[l])(e,s,n,i)),e}function d(e,t,n){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,(function(e,i){return t&&i in t?t[i]:i in r?r[i]:(console.log("argument {{"+i+"}} for #"+n+" is undefined."),e)}))}function f(e){var n=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(i){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}(e);if(n.id){var r=c(n.id,n.args);if(r){if(r[o]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[o]=r[o];else{for(var i=e.childNodes,s=!1,a=0,l=i.length;a<l;a++)3===i[a].nodeType&&/\S/.test(i[a].nodeValue)&&(s?i[a].nodeValue="":(i[a].nodeValue=r[o],s=!0));if(!s){var u=t.createTextNode(r[o]);e.insertBefore(u,e.firstChild)}}delete r[o]}for(var h in r)e[h]=r[h]}else console.warn("#"+n.id+" is undefined.")}}return a.plural=function(e,t,n,i){var l=parseFloat(t);if(isNaN(l))return e;if(i!=o)return e;a._pluralRules||(a._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var r={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return i in r?r[i]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(s));var u="["+a._pluralRules(l)+"]";return 0===l&&n+"[zero]"in r?e=r[n+"[zero]"][i]:1==l&&n+"[one]"in r?e=r[n+"[one]"][i]:2==l&&n+"[two]"in r?e=r[n+"[two]"][i]:n+u in r?e=r[n+u][i]:n+"[other]"in r&&(e=r[n+"[other]"][i]),e},{get:function(e,t,n){var r,i=e.lastIndexOf("."),s=o;i>0&&(s=e.substring(i+1),e=e.substring(0,i)),n&&((r={})[s]=n);var a=c(e,t,r);return a&&s in a?a[s]:"{{"+e+"}}"},getData:function(){return r},getText:function(){return i},getLanguage:function(){return s},setLanguage:function(e,n){!function(e,n){e&&(e=e.toLowerCase()),n=n||function(){},r={},i="",s="",s=e;var a=t.querySelectorAll('link[type="application/l10n"]'),c=a.length;if(0!==c){var h,d,f=0;d=function(){++f>=c&&(n(),l="complete")};for(var p=0;p<c;p++)new y(a[p]).load(e,d)}else{var g=(h=t.querySelector('script[type="application/l10n"]'))?JSON.parse(h.innerHTML):null;if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(r=g.locales[e])){var m=g.default_locale.toLowerCase();for(var v in g.locales){if((v=v.toLowerCase())===e){r=g.locales[e];break}v===m&&(r=g.locales[m])}}n()}else console.log("no resource to load, early way out");l="complete"}function y(e){var t=e.href;this.load=function(e,n){!function(e,t,n,s){var a=e.replace(/[^\/]*$/,"")||"./";function l(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}u(e,(function(e){i+=e,function(e,i){var s={},c=/^\s*|\s*$/,h=/^\s*#|^\s*$/,d=/^\s*\[(.*)\]\s*$/,f=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;function g(e,n,r){var i=e.replace(c,"").split(/[\r\n]+/),o="*",u=t.split("-",1)[0],g=!1,v="";!function e(){for(;;){if(!i.length)return void r();var c=i.shift();if(!h.test(c)){if(n){if(v=d.exec(c)){o=v[1].toLowerCase(),g="*"!==o&&o!==t&&o!==u;continue}if(g)continue;if(v=f.exec(c))return void m(a+v[1],e)}var y=c.match(p);y&&3==y.length&&(s[y[1]]=l(y[2]))}}}()}function m(e,t){u(e,(function(e){g(e,!1,t)}),(function(){console.warn(e+" not found."),t()}))}g(e,!0,(function(){!function(e){for(var t in e){var i,s,a=t.lastIndexOf(".");a>0?(i=t.substring(0,a),s=t.substring(a+1)):(i=t,s=o),r[i]||(r[i]={}),r[i][s]=e[t]}n&&n()}(s)}))}(e)}),s)}(t,e,n,(function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),s="",n()}))}}}(e,(function(){n&&n()}))},getDirection:function(){var e=s.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function(e){for(var n=function(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||t.documentElement),r=n.length,i=0;i<r;i++)f(n[i]);f(e)},getReadyState:function(){return l},ready:function(n){n&&("complete"==l||"interactive"==l?e.setTimeout((function(){n()})):t.addEventListener&&t.addEventListener("localized",(function e(){t.removeEventListener("localized",e),n()})))}}}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=n(2),i=n(14),o=n(3);var s={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=s;var a={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},l=null;function u(e){if(!l){var t=Object.keys(a).join("");l=new RegExp("[".concat(t,"]"),"g")}return e.replace(l,(function(e){return a[e]}))}t.PDFFindController=function(){function e(t){var n=t.linkService,r=t.eventBus;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._linkService=n,this._eventBus=r,this._reset(),r._on("findbarclose",this._onFindBarClose.bind(this))}var t;return(t=[{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(e,t){var n=this;if(t){var r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(s.PENDING),this._firstPageCapability.promise.then((function(){if(n._pdfDocument&&(!r||n._pdfDocument===r)){n._extractText();var t=!n._highlightMatches,i=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===e?n._findTimeout=setTimeout((function(){n._nextMatch(),n._findTimeout=null}),250):n._dirtyMatch?n._nextMatch():"findagain"===e?(n._nextMatch(),t&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===e?(i?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}}))}}},{key:"scrollMatchIntoView",value:function(e){var t=e.element,n=void 0===t?null:t,r=e.pageIndex,i=void 0===r?-1:r,s=e.matchIndex,a=void 0===s?-1:s;this._scrollMatches&&n&&-1!==a&&a===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,(0,o.scrollIntoView)(n,{top:-50,left:-400},!0))}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,r.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":var n=this._selected.pageIdx+1,r=this._linkService;return n>=1&&n<=r.pagesCount&&n!==r.page&&!r.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(e,t,n){function r(t){var n=e[t];if(t<e.length-1&&n.match===e[t+1].match)return n.skipped=!0,!0;for(var r=t-1;r>=0;r--){var i=e[r];if(!i.skipped){if(i.match+i.matchLength<n.match)break;if(i.match+i.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}e.sort((function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match}));for(var i=0,o=e.length;i<o;i++)r(i)||(t.push(e[i].match),n.push(e[i].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(t>0){var r=e.charCodeAt(t),o=e.charCodeAt(t-1);if((0,i.getCharacterType)(r)===(0,i.getCharacterType)(o))return!1}var s=t+n-1;if(s<e.length-1){var a=e.charCodeAt(s),l=e.charCodeAt(s+1);if((0,i.getCharacterType)(a)===(0,i.getCharacterType)(l))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,r){for(var i=[],o=e.length,s=-o;-1!==(s=n.indexOf(e,s+o));)r&&!this._isEntireWord(n,s,o)||i.push(s);this._pageMatches[t]=i}},{key:"_calculateWordMatch",value:function(e,t,n,r){for(var i=[],o=e.match(/\S+/g),s=0,a=o.length;s<a;s++)for(var l=o[s],u=l.length,c=-u;-1!==(c=n.indexOf(l,c+u));)r&&!this._isEntireWord(n,c,u)||i.push({match:c,matchLength:u,skipped:!1});this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(i,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._pageContents[e],n=this._query,r=this._state,i=r.entireWord,o=r.phraseSearch;if(0!==n.length){r.caseSensitive||(t=t.toLowerCase(),n=n.toLowerCase()),o?this._calculatePhraseMatch(n,e,t,i):this._calculateWordMatch(n,e,t,i),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[e].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var e=this;if(!(this._extractTextPromises.length>0))for(var t=Promise.resolve(),n=function(n,i){var o=(0,r.createPromiseCapability)();e._extractTextPromises[n]=o.promise,t=t.then((function(){return e._pdfDocument.getPage(n+1).then((function(e){return e.getTextContent({normalizeWhitespace:!0})})).then((function(t){for(var r=t.items,i=[],s=0,a=r.length;s<a;s++)i.push(r[s].str);e._pageContents[n]=u(i.join("")),o.resolve(n)}),(function(t){console.error("Unable to get text content for page ".concat(n+1),t),e._pageContents[n]="",o.resolve(n)}))}))},i=0,o=this._linkService.pagesCount;i<o;i++)n(i)}},{key:"_updatePage",value:function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var e=this,t=this._state.findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<r;i++)!0!==this._pendingFindMatches[i]&&(this._pendingFindMatches[i]=!0,this._extractTextPromises[i].then((function(t){delete e._pendingFindMatches[t],e._calculateMatch(t)})))}if(""!==this._query){if(!this._resumePageIdx){var o=this._offset;if(this._pagesToSearch=r,null!==o.matchIdx){if(!t&&o.matchIdx+1<this._pageMatches[o.pageIdx].length||t&&o.matchIdx>0)return o.matchIdx=t?o.matchIdx-1:o.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}}else this._updateUIState(s.FOUND)}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,r=this._state.findPrevious;return n?(t.matchIdx=r?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?s.WRAPPED:s.FOUND,-1!==r&&r!==this._selected.pageIdx&&this._updatePage(r)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then((function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null),t._resumePageIdx&&(t._resumePageIdx=null,t._dirtyMatch=!0),t._updateUIState(s.FOUND),t._highlightMatches=!1,t._updateAllPages())}))}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var o=0;o<t;o++)r+=this._pageMatches[o]&&this._pageMatches[o].length||0;r+=n+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=u(this._state.query)),this._normalizedQuery}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){return function(e){return e<11904}(e)?function(e){return 0==(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?r.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?r.ALPHA_LETTER:r.PUNCT:function(e){return 3584==(65408&e)}(e)?r.THAI_LETTER:160===e?r.SPACE:r.ALPHA_LETTER:function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e)?r.HAN_LETTER:function(e){return e>=12448&&e<=12543}(e)?r.KATAKANA_LETTER:function(e){return e>=12352&&e<=12447}(e)?r.HIRAGANA_LETTER:function(e){return e>=65376&&e<=65439}(e)?r.HALFWIDTH_KATAKANA_LETTER:r.ALPHA_LETTER},t.CharacterType=void 0;var r={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDestHashesEqual=l,t.isDestArraysEqual=u,t.PDFHistory=void 0;var r=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){return document.location.hash}function l(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,r.parseQueryString)(e).nameddest===t)}function u(e,t){function n(e,t){if(i(e)!==i(t))return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"===i(e)&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!n(e[r],t[r]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0,o=e.length;r<o;r++)if(!n(e[r],t[r]))return!1;return!0}t.PDFHistory=function(){function e(t){var n=this,r=t.linkService,i=t.eventBus;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.linkService=r,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",(function(e){n._isViewerInPresentationMode=e.active||e.switchInProgress})),this.eventBus._on("pagesinit",(function(){n._isPagesLoaded=!1,n.eventBus._on("pagesloaded",(function e(t){n.eventBus._off("pagesloaded",e),n._isPagesLoaded=!!t.pagesCount}))}))}var t;return(t=[{key:"initialize",value:function(e){var t=e.fingerprint,n=e.resetHistory,r=void 0!==n&&n,i=e.updateUrl,o=void 0!==i&&i;if(t&&"string"==typeof t){this._initialized&&this.reset();var s=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===o,this._initialized=!0,this._bindEvents();var l=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(l,!0)||r){var u=this._parseCurrentHash(!0),c=u.hash,h=u.page,d=u.rotation;return!c||s||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:c,page:h,rotation:d},!0)}var f=l.destination;this._updateInternalState(f,l.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==f.rotation&&(this._initialRotation=f.rotation),f.dest?(this._initialBookmark=JSON.stringify(f.dest),this._destination.page=null):f.hash?this._initialBookmark=f.hash:f.page&&(this._initialBookmark="page=".concat(f.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(e){var t=this,n=e.namedDest,r=void 0===n?null:n,i=e.explicitDest,o=e.pageNumber;if(this._initialized)if(r&&"string"!=typeof r)console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid namedDest parameter.'));else if(Array.isArray(i))if(Number.isInteger(o)&&o>0&&o<=this.linkService.pagesCount||null===o&&!this._destination){var s=r||JSON.stringify(i);if(s){var a=!1;if(this._destination&&(l(this._destination.hash,s)||u(this._destination.dest,i))){if(this._destination.page)return;a=!0}this._popStateInProgress&&!a||(this._pushOrReplaceState({dest:i,hash:s,page:o,rotation:this.linkService.rotation},a),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){t._popStateInProgress=!1}))))}}else console.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};if(this._updateInternalState(e,i.uid),this._updateUrl&&e&&e.hash){var o=document.location.href.split("#")[0];o.startsWith("file://")||(t="".concat(o,"#").concat(e.hash))}r?window.history.replaceState(i,"",t):(this._maxUid=this._uid,window.history.pushState(i,"",t))}},{key:"_tryPushCurrentPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var t=this._position;if(e&&((t=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(t,!0);else if(this._destination.hash!==t.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}}else this._pushOrReplaceState(t)}}},{key:"_isValidState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;var n=performance.getEntriesByType("navigation"),r=o(n,1),s=r[0];if(!s||"reload"!==s.type)return!1}return!(!Number.isInteger(e.uid)||e.uid<0)&&null!==e.destination&&"object"===i(e.destination)}},{key:"_updateInternalState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=unescape(a()).substring(1),n=(0,r.parseQueryString)(t),i=n.nameddest||"",o=0|n.page;return Number.isInteger(o)&&o>0&&o<=this.linkService.pagesCount&&!(e&&i.length>0)||(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(e){var t=this,n=e.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout((function(){t._popStateInProgress||t._tryPushCurrentPosition(!0),t._updateViewareaTimeout=null}),1e3))}},{key:"_popState",value:function(e){var t=this,n=e.state,i=a(),o=this._currentHash!==i;if(this._currentHash=i,n){if(this._isValidState(n)){this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then((function(){t._blockHashChange--})));var s=n.destination;this._updateInternalState(s,n.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,r.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.navigateTo(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then((function(){t._popStateInProgress=!1}))}}else{this._uid++;var l=this._parseCurrentHash();this._pushOrReplaceState({hash:l.hash,page:l.page,rotation:l.rotation},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r,i=(r=n(4))&&r.__esModule?r:{default:r},o=n(3),s=n(2),a=n(17);function l(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}var u=n(10).viewerCompatibilityParams.maxCanvasPixels||16777216;t.PDFPageView=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t.container,r=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||o.DEFAULT_SCALE,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:o.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||u,this.eventBus=t.eventBus,this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.renderer=t.renderer||o.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.l10n=t.l10n||o.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=a.RenderingStates.INITIAL,this.resume=null,this.error=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var i=document.createElement("div");i.className="page",i.style.width=Math.floor(this.viewport.width)+"px",i.style.height=Math.floor(this.viewport.height)+"px",i.setAttribute("data-page-number",this.id),this.div=i,n.appendChild(i)}var t;return(t=[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*o.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.stats=e.stats,this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(t),this.renderingState=a.RenderingStates.INITIAL;var n=this.div;n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px";for(var r=n.childNodes,i=e&&this.zoomLayer||null,o=t&&this.annotationLayer&&this.annotationLayer.div||null,s=r.length-1;s>=0;s--){var l=r[s];i!==l&&o!==l&&n.removeChild(l)}n.removeAttribute("data-loaded"),o?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),i||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",n.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e,t){if(this.scale=e||this.scale,void 0!==t&&(this.rotation=t),this.viewport=this.viewport.clone({scale:this.scale*o.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});var n=!1;if(this.canvas&&this.maxCanvasPixels>0){var r=this.outputScale;(Math.floor(this.viewport.width)*r.sx|0)*(Math.floor(this.viewport.height)*r.sy|0)>this.maxCanvasPixels&&(n=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&n)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now()});this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!e&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.viewport.width,r=this.viewport.height,i=this.div;e.style.width=e.parentNode.style.width=i.style.width=Math.floor(n)+"px",e.style.height=e.parentNode.style.height=i.style.height=Math.floor(r)+"px";var o=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,s=Math.abs(o),a=1,l=1;90!==s&&270!==s||(a=r/n,l=n/r);var u="rotate("+o+"deg) scale("+a+","+l+")";if(e.style.transform=u,this.textLayer){var c=this.textLayer.viewport,h=this.viewport.rotation-c.rotation,d=Math.abs(h),f=n/c.width;90!==d&&270!==d||(f=n/c.height);var p,g,m=this.textLayer.textLayerDiv;switch(d){case 0:p=g=0;break;case 90:p=0,g="-"+m.style.height;break;case 180:p="-"+m.style.width,g="-"+m.style.height;break;case 270:p="-"+m.style.width,g=0;break;default:console.error("Bad rotation value.")}m.style.transform="rotate("+d+"deg) scale("+f+", "+f+") translate("+p+", "+g+")",m.style.transformOrigin="0% 0%"}t&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var e=this;this.renderingState!==a.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var t=this.div,n=this.pdfPage;if(!n)return this.renderingState=a.RenderingStates.FINISHED,this.loadingIconDiv&&(t.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=a.RenderingStates.RUNNING;var r=document.createElement("div");r.style.width=t.style.width,r.style.height=t.style.height,r.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?t.insertBefore(r,this.annotationLayer.div):t.appendChild(r);var u=null;if(this.textLayerMode!==o.TextLayerMode.DISABLE&&this.textLayerFactory){var c=document.createElement("div");c.className="textLayer",c.style.width=r.style.width,c.style.height=r.style.height,this.annotationLayer&&this.annotationLayer.div?t.insertBefore(c,this.annotationLayer.div):t.appendChild(c),u=this.textLayerFactory.createTextLayerBuilder(c,this.id-1,this.viewport,this.textLayerMode===o.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=u;var h=null;this.renderingQueue&&(h=function(t){if(!e.renderingQueue.isHighestPriority(e))return e.renderingState=a.RenderingStates.PAUSED,void(e.resume=function(){e.renderingState=a.RenderingStates.RUNNING,t()});t()});var d=function(){var r,o=(r=i.default.mark((function r(o){return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f===e.paintTask&&(e.paintTask=null),!(o instanceof s.RenderingCancelledException)){r.next=4;break}return e.error=null,r.abrupt("return");case 4:if(e.renderingState=a.RenderingStates.FINISHED,e.loadingIconDiv&&(t.removeChild(e.loadingIconDiv),delete e.loadingIconDiv),e._resetZoomLayer(!0),e.error=o,e.stats=n.stats,e.eventBus.dispatch("pagerendered",{source:e,pageNumber:e.id,cssTransform:!1,timestamp:performance.now()}),!o){r.next=12;break}throw o;case 12:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function s(e){l(o,n,i,s,a,"next",e)}function a(e){l(o,n,i,s,a,"throw",e)}s(void 0)}))});return function(e){return o.apply(this,arguments)}}(),f=this.renderer===o.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);f.onRenderContinue=h,this.paintTask=f;var p=f.promise.then((function(){return d(null).then((function(){if(u){var e=n.streamTextContent({normalizeWhitespace:!0});u.setTextContentStream(e),u.render()}}))}),(function(e){return d(e)}));return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(t,n,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display")),t.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),p}},{key:"paintOnCanvas",value:function(e){var t=(0,s.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){g.cancel()}},r=this.viewport,i=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then((function(e){i.setAttribute("aria-label",e)})),i.setAttribute("hidden","hidden");var a=!0,l=function(){a&&(i.removeAttribute("hidden"),a=!1)};e.appendChild(i),this.canvas=i,i.mozOpaque=!0;var u=i.getContext("2d",{alpha:!1}),c=(0,o.getOutputScale)(u);if(this.outputScale=c,this.useOnlyCssZoom){var h=r.clone({scale:o.CSS_UNITS});c.sx*=h.width/r.width,c.sy*=h.height/r.height,c.scaled=!0}if(this.maxCanvasPixels>0){var d=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));c.sx>d||c.sy>d?(c.sx=d,c.sy=d,c.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var f=(0,o.approximateFraction)(c.sx),p=(0,o.approximateFraction)(c.sy);i.width=(0,o.roundToDivide)(r.width*c.sx,f[0]),i.height=(0,o.roundToDivide)(r.height*c.sy,p[0]),i.style.width=(0,o.roundToDivide)(r.width,f[1])+"px",i.style.height=(0,o.roundToDivide)(r.height,p[1])+"px",this.paintedViewportMap.set(i,r);var g=this.pdfPage.render({canvasContext:u,transform:c.scaled?[c.sx,0,0,c.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});return g.onContinue=function(e){l(),n.onRenderContinue?n.onRenderContinue(e):e()},g.promise.then((function(){l(),t.resolve(void 0)}),(function(e){l(),t.reject(e)})),n}},{key:"paintOnSvg",value:function(e){var t=this,n=!1,r=function(){if(n)throw new s.RenderingCancelledException("Rendering cancelled, page ".concat(t.id),"svg")},i=this.pdfPage,l=this.viewport.clone({scale:o.CSS_UNITS});return{promise:i.getOperatorList().then((function(n){return r(),new s.SVGGraphics(i.commonObjs,i.objs).getSVG(n,l).then((function(n){r(),t.svg=n,t.paintedViewportMap.set(n,l),n.style.width=e.style.width,n.style.height=e.style.height,t.renderingState=a.RenderingStates.FINISHED,e.appendChild(n)}))})),onRenderContinue:function(e){e()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=t.RenderingStates=void 0;var r={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=r,t.PDFRenderingQueue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var t;return(t=[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(e,t,n){var r=e.views,i=r.length;if(0===i)return null;for(var o=0;o<i;++o){var s=r[o].view;if(!this.isViewFinished(s))return s}if(n){var a=e.last.id;if(t[a]&&!this.isViewFinished(t[a]))return t[a]}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}return null}},{key:"isViewFinished",value:function(e){return e.renderingState===r.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case r.FINISHED:return!1;case r.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case r.RUNNING:this.highestPriorityPage=e.renderingId;break;case r.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally((function(){t.renderHighestPriority()})).catch((function(e){console.error('renderView: "'.concat(e,'"'))}))}return!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var r=n(19),i=n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.PDFSinglePageViewer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,o=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(n);if(r){var i=u(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return l(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).eventBus._on("pagesinit",(function(e){t._ensurePageViewVisible()})),t}return(t=[{key:"_resetView",value:function(){s(u(c.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),s(u(c.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(e){var t=this,n=e.pageDiv,r=e.pageSpot,i=void 0===r?null:r,o=e.pageNumber,a=void 0===o?null:o;a&&this._setCurrentPageNumber(a);var l=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),s(u(c.prototype),"_scrollIntoView",this).call(this,{pageDiv:n,pageSpot:i,pageNumber:a}),this._updateScrollDown=function(){t.scroll.down=l,t._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(e){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_viewerElement",get:function(){return(0,i.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,i.shadow)(this,"_isScrollModeHorizontal",!1)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(c.prototype,t),c}(r.BaseViewer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var r=n(3),i=n(17),o=n(1),s=n(2),a=n(16),l=n(7),u=n(8);function c(e){var t=[];this.push=function(n){var r=t.indexOf(n);r>=0&&t.splice(r,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,i){if(e=n,i){for(var o=new Set,s=0,a=i.length;s<a;++s)o.add(i[s].id);(0,r.moveToEndOfArray)(t,(function(e){return o.has(e.id)}))}for(;t.length>e;)t.shift().destroy()}}function h(e,t){return t===e||Math.abs(t-e)<1e-15}t.BaseViewer=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Cannot initialize BaseViewer.");this._name=this.constructor.name,this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.eventBus=t.eventBus,this.linkService=t.linkService||new l.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=Number.isInteger(t.textLayerMode)?t.textLayerMode:r.TextLayerMode.ENABLE,this.imageResourcesPath=t.imageResourcesPath||"",this.renderInteractiveForms=t.renderInteractiveForms||!1,this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||r.RendererType.CANVAS,this.enableWebGL=t.enableWebGL||!1,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||r.NullL10n,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new i.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=(0,r.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=r.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then((function(){n.eventBus.dispatch("baseviewerinit",{source:n})}))}var t;return(t=[{key:"getPageView",value:function(e){return this._pages[e]}},{key:"_setCurrentPageNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._currentPageNumber===e?(t&&this._resetCurrentPageView(),!0):0<e&&e<=this.pagesCount&&(this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels&&this._pageLabels[e-1]}),t&&this._resetCurrentPageView(),!0)}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(e){var t=this;if(this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=e,e){var n=e.numPages,i=e.getPage(1);this._pagesCapability.promise.then((function(){t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:n})})),this._onBeforeDraw=function(e){var n=t._pages[e.pageNumber-1];n&&t._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(e){e.cssTransform||t._onePageRenderedCapability.settled||(t._onePageRenderedCapability.resolve(),t.eventBus._off("pagerendered",t._onAfterDraw),t._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),i.then((function(i){t._firstPageCapability.resolve(i);for(var o=t.currentScale,s=i.getViewport({scale:o*r.CSS_UNITS}),l=t.textLayerMode!==r.TextLayerMode.DISABLE?t:null,u=1;u<=n;++u){var c=new a.PDFPageView({container:t._viewerElement,eventBus:t.eventBus,id:u,scale:o,defaultViewport:s.clone(),renderingQueue:t.renderingQueue,textLayerFactory:l,textLayerMode:t.textLayerMode,annotationLayerFactory:t,imageResourcesPath:t.imageResourcesPath,renderInteractiveForms:t.renderInteractiveForms,renderer:t.renderer,enableWebGL:t.enableWebGL,useOnlyCssZoom:t.useOnlyCssZoom,maxCanvasPixels:t.maxCanvasPixels,l10n:t.l10n});t._pages.push(c)}var h=t._pages[0];h&&(h.setPdfPage(i),t.linkService.cachePageRef(1,i.ref)),t._spreadMode!==r.SpreadMode.NONE&&t._updateSpreadMode(),t._onePageRenderedOrForceFetch().then((function(){if(t.findController&&t.findController.setDocument(e),e.loadingParams.disableAutoFetch||n>7500)t._pagesCapability.resolve();else{var r=n-1;if(r<=0)t._pagesCapability.resolve();else for(var i=function(n){e.getPage(n).then((function(e){var i=t._pages[n-1];i.pdfPage||i.setPdfPage(e),t.linkService.cachePageRef(n,e.ref),0==--r&&t._pagesCapability.resolve()}),(function(e){console.error("Unable to get page ".concat(n," to initialize viewer"),e),0==--r&&t._pagesCapability.resolve()}))},o=2;o<=n;++o)i(o)}})),t.eventBus.dispatch("pagesinit",{source:t}),t.defaultRenderingQueue&&t.update()})).catch((function(e){console.error("Unable to initialize viewer",e)}))}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++)this._pages[t].setPageLabel(this._pageLabels&&this._pageLabels[t])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=r.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new c(10),this._location=null,this._pagesRotation=0,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,s.createPromiseCapability)(),this._onePageRenderedCapability=(0,s.createPromiseCapability)(),this._pagesCapability=(0,s.createPromiseCapability)(),this._scrollMode=r.ScrollMode.VERTICAL,this._spreadMode=r.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(e){var t=e.pageSpot;(0,r.scrollIntoView)(e.pageDiv,void 0===t?null:t)}},{key:"_setScaleUpdatePages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),h(this._currentScale,e))r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{for(var i=0,o=this._pages.length;i<o;i++)this._pages[i].update(e);if(this._currentScale=e,!n){var s,a=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(a=this._location.pageNumber,s=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:a,destArray:s,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{var i=this._pages[this._currentPageNumber-1];if(!i)return;var o=this.isInPresentationMode||this.removePageBorders,s=o?0:r.SCROLLBAR_PADDING,a=o?0:r.VERTICAL_PADDING;if(!o&&this._isScrollModeHorizontal){var l=[a,s];s=l[0],a=l[1]}var u=(this.container.clientWidth-s)/i.width*i.scale,c=(this.container.clientHeight-a)/i.height*i.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=u;break;case"page-height":n=c;break;case"page-fit":n=Math.min(u,c);break;case"auto":var h=(0,r.isPortraitOrientation)(i)?u:Math.min(c,u);n=Math.min(r.MAX_AUTO_SCALE,h);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(e,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(e){var t=e.pageNumber,n=e.destArray,i=void 0===n?null:n,o=e.allowNegativeOffset,s=void 0!==o&&o,a=e.ignoreDestinationZoom,l=void 0!==a&&a;if(this.pdfDocument){var u=Number.isInteger(t)&&this._pages[t-1];if(u)if(!this.isInPresentationMode&&i){var c,h=0,d=0,f=0,p=0,g=u.rotation%180!=0,m=(g?u.height:u.width)/u.scale/r.CSS_UNITS,v=(g?u.width:u.height)/u.scale/r.CSS_UNITS,y=0;switch(i[1].name){case"XYZ":y=i[4],h=null!==(h=i[2])?h:0,d=null!==(d=i[3])?d:v;break;case"Fit":case"FitB":y="page-fit";break;case"FitH":case"FitBH":y="page-width",null===(d=i[2])&&this._location&&(h=this._location.left,d=this._location.top);break;case"FitV":case"FitBV":h=i[2],f=m,p=v,y="page-height";break;case"FitR":f=i[4]-(h=i[2]),c=(this.container.clientHeight-(this.removePageBorders?0:r.VERTICAL_PADDING))/(p=i[5]-(d=i[3]))/r.CSS_UNITS,y=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:r.SCROLLBAR_PADDING))/f/r.CSS_UNITS),Math.abs(c));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(i[1].name,'" is not a valid destination type.'))}if(l||(y&&y!==this._currentScale?this.currentScaleValue=y:this._currentScale===r.UNKNOWN_SCALE&&(this.currentScaleValue=r.DEFAULT_SCALE_VALUE)),"page-fit"!==y||i[4]){var b=[u.viewport.convertToViewportPoint(h,d),u.viewport.convertToViewportPoint(h+f,d+p)],_=Math.min(b[0][0],b[1][0]),w=Math.min(b[0][1],b[1][1]);s||(_=Math.max(_,0),w=Math.max(w,0)),this._scrollIntoView({pageDiv:u.div,pageSpot:{left:_,top:w},pageNumber:t})}else this._scrollIntoView({pageDiv:u.div,pageNumber:t})}else this._setCurrentPageNumber(t,!0);else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(t,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,o="#page="+i;o+="&zoom="+r;var s=this.container,a=this._pages[i-1].getPagePoint(s.scrollLeft-e.x,s.scrollTop-e.y),l=Math.round(a[0]),u=Math.round(a[1]);this._location={pageNumber:i,scale:r,top:u,left:l,rotation:this._pagesRotation,pdfOpenParams:o+=","+l+","+u}}},{key:"_updateHelper",value:function(e){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;if(0!==n){var r=Math.max(10,2*n+1);this._buffer.resize(r,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,r.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(e){return!!this.pdfDocument&&(e<1||e>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(e,'" is out of bounds.')),!1):this._getVisiblePages().views.some((function(t){return t.id===e})))}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==i.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);if(this._pagesRequests.has(e))return this._pagesRequests.get(e);var n=this.pdfDocument.getPage(e.id).then((function(n){return e.pdfPage||e.setPdfPage(n),t._pagesRequests.delete(e),n})).catch((function(n){console.error("Unable to get page for page view",n),t._pagesRequests.delete(e)}));return this._pagesRequests.set(e,n),n}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),r=this.renderingQueue.getHighestPriority(n,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!r&&(this._ensurePdfPageLoaded(r).then((function(){t.renderingQueue.renderView(r)})),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return new u.TextLayerBuilder({textLayerDiv:e,eventBus:i,pageIndex:t,viewport:n,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&r})}},{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.NullL10n;return new o.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,imageResourcesPath:n,renderInteractiveForms:i,linkService:this.linkService,downloadManager:this.downloadManager,l10n:s})}},{key:"getPagesOverview",value:function(){var e=this._pages.map((function(e){var t=e.pdfPage.getViewport({scale:1});return{width:t.width,height:t.height,rotation:t.rotation}}));if(!this.enablePrintAutoRotate)return e;var t=(0,r.isPortraitOrientation)(e[0]);return e.map((function(e){return t===(0,r.isPortraitOrientation)(e)?e:{width:e.height,height:e.width,rotation:(e.rotation+90)%360}}))}},{key:"_updateScrollMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===r.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===r.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===r.SpreadMode.NONE)for(var i=0,o=n.length;i<o;++i)t.appendChild(n[i].div);else for(var s=this._spreadMode-1,a=null,l=0,u=n.length;l<u;++l)null===a?((a=document.createElement("div")).className="spread",t.appendChild(a)):l%2===s&&(a=a.cloneNode(!1),t.appendChild(a)),a.appendChild(n[l].div);e&&(this._setCurrentPageNumber(e,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every((function(e){return e&&e.pdfPage}))}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(e,'" is not a valid page.')))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(e){if(this.pdfDocument){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(e,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==r.UNKNOWN_SCALE?this._currentScale:r.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,r.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==e){this._pagesRotation=e;for(var t=this._currentPageNumber,n=0,i=this._pages.length;n<i;n++){var o=this._pages[n];o.update(o.scale,e)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===r.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===r.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===r.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!(0,r.isValidScrollMode)(e))throw new Error("Invalid scroll mode: ".concat(e));this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!(0,r.isValidSpreadMode)(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var r=n(19),i=n(2);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.PDFViewer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(d,e);var t,n,r,o=(n=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(r){var i=h(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return c(this,e)});function d(){return a(this,d),o.apply(this,arguments)}return(t=[{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,n=e.pageSpot,r=void 0===n?null:n,i=e.pageNumber,o=void 0===i?null:i;if(!r&&!this.isInPresentationMode){var s=t.offsetLeft+t.clientLeft,a=this.container,u=a.scrollLeft;(this._isScrollModeHorizontal||s<u||s+t.clientWidth>u+a.clientWidth)&&(r={left:0,top:0})}l(h(d.prototype),"_scrollIntoView",this).call(this,{pageDiv:t,pageSpot:r,pageNumber:o})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():l(h(d.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(e){if(!this.isInPresentationMode){var t,n=this._currentPageNumber,r=!1,i=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,void 0):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(o.percent<100)break;if(o.id===n){r=!0;break}}}catch(a){i.e(a)}finally{i.f()}r||(n=e[0].id),this._setCurrentPageNumber(n)}}},{key:"_viewerElement",get:function(){return(0,i.shadow)(this,"_viewerElement",this.viewer)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(d.prototype,t),d}(r.BaseViewer)}])},e.exports=r()},"/6Yf":function(e,t,n){"use strict";var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function s(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var a=n("qOnz");n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var l=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new a.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var r=i(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=o(s.value,2),l=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});l.resolve(c)}catch(h){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return e=this,void 0,n=function(){var e;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(s(s([],o(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),o(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(r,i){function o(e){try{a(n.next(e))}catch(t){i(t)}}function s(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(o,s)}a((n=n.apply(e,[])).next())}));var e,t,n},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,s=e.options,a=void 0===s?{}:s,l=this.normalizeInstanceIdentifier(void 0===r?"[DEFAULT]":r);if(this.isInitialized(l))throw Error(this.name+"("+l+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:l,options:a});try{for(var c=i(this.instancesDeferred.entries()),h=c.next();!h.done;h=c.next()){var d=o(h.value,2),f=d[1];l===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){t={error:p}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(u,l),u},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var o=i(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(e,t)}catch(l){}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},0:function(e,t,n){e.exports=n("zUnb")},1:function(e,t){},2:function(e,t){},"2QA8":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},3:function(e,t){},"3N8a":function(e,t,n){"use strict";var r=n("quSY");class i extends r.a{constructor(e,t){super()}schedule(e,t=0){return this}}n.d(t,"a",(function(){return o}));class o extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},4:function(e,t){},5:function(e,t){},"5+tZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function l(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(l((n,r)=>Object(a.a)(e(n,r)).pipe(Object(s.a)((e,i)=>t(n,e,r,i))),n)):("number"==typeof t&&(n=t),t=>t.lift(new u(e,n)))}class u{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends i.a{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new o.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,e,t,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,r,i){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"6nsN":function(e,t,n){"use strict";n.r(t);var r=n("zIRd");(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function o(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var s=e[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function r(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var s=n.setTimeout;r.prototype.c=function(e){s(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new r;return t.prototype.s=function(e){var t=this.f();e.Qa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,s=new t((function(e,t){i=e,o=t}));return this.Qa(r(e,i),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Qa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=o(e),s=r.next();!s.done;s=r.next())i(s.value).Qa(t,n)}))},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),t),r=n.next()}while(!r.done)}))},t}));var s=s||{},a=this||self,l=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var A=Date.now;function C(e,t){function n(){}n.prototype=t.prototype,e.ab=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function k(e,t,n){this.code=I+e,this.message=t||P[e]||"",this.a=n||null}function T(e){var t=e&&e.code;return t?new k(t.substring(I.length),e.message,e.serverResponse):null}C(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var x,I="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ta,secureTokenEndpoint:e.Za,identityPlatformEndpoint:e.Wa};return null}function N(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function D(e){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");D.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function V(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,C(D,Error),D.prototype.name="CustomError",C(L,D),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var U=new F((function(){return new q}),(function(e){e.reset()}));function B(){var e=yt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function q(){this.next=this.b=this.a=null}V.prototype.add=function(e,t){var n=U.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,s=0;s<n;s++)if(s in o){var a=o[s];t.call(void 0,a,s,e)&&(r[i++]=a)}return r},W=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},K=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Q(e,t){return 0<=H(e,t)}function $(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Y(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1)}))}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,se=/\x00/g,ae=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function ue(e,t){return e<t?-1:e>t?1:0}e:{var ce=a.navigator;if(ce){var he=ce.userAgent;if(he){Z=he;break e}}Z=""}function de(e){return le(Z,e)}function fe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function pe(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<me.length;o++)n=me[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ye(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(s){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(s){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function be(e,t){this.a=e===Ae&&t||"",this.b=Se}function _e(e){return e instanceof be&&e.constructor===be&&e.b===Se?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}be.prototype.sa=!0,be.prototype.ra=function(){return this.a},be.prototype.toString=function(){return"Const{"+this.a+"}"};var we,Se={},Ae={};function Ce(){if(void 0===we){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}we=e}else we=e}return we}function Ee(e,t){this.a=t===Pe?e:""}function ke(e){return e instanceof Ee&&e.constructor===Ee?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Te(e,t){var n=_e(e);if(!Ie.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Ce();return new Ee(e=t?t.createScriptURL(e):e,Pe)}(e=n.replace(xe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof be?_e(e):encodeURIComponent(String(e))})))}Ee.prototype.sa=!0,Ee.prototype.ra=function(){return this.a.toString()},Ee.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xe=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pe={};function Oe(e,t){this.a=t===je?e:""}function Re(e){return e instanceof Oe&&e.constructor===Oe?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Oe.prototype.sa=!0,Oe.prototype.ra=function(){return this.a.toString()},Oe.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ne=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,De=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Oe)return e;if(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e))e=new Oe(e,je);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(De);e=t&&Ne.test(t[1])?new Oe(e,je):null}return e}function Fe(e){return e instanceof Oe?e:(e="object"==typeof e&&e.sa?e.ra():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Oe(e,je))}var je={},Ve=new Oe("about:invalid#zClosurez",je);function Ue(e,t,n){this.a=n===Be?e:""}Ue.prototype.sa=!0,Ue.prototype.ra=function(){return this.a.toString()},Ue.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function qe(e,t,n,r){return e=e instanceof Oe?e:Fe(e),t=t||a,n=n instanceof be?_e(n):n||"",t.open(Re(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function ze(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=h;var We,Ke,Qe=de("Opera"),$e=de("Trident")||de("MSIE"),Ye=de("Edge"),Xe=Ye||$e,Je=de("Gecko")&&!(le(Z.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Ze=le(Z.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=a.document;return e?e.documentMode:void 0}e:{var tt="",nt=(Ke=Z,Je?/rv:([^\);]+)(\)|;)/.exec(Ke):Ye?/Edge\/([\d\.]+)/.exec(Ke):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ke):Ze?/WebKit\/(\S+)/.exec(Ke):Qe?/(?:Version)[ \/]?(\S+)/.exec(Ke):void 0);if(nt&&(tt=nt?nt[1]:""),$e){var rt=et();if(null!=rt&&rt>parseFloat(tt)){We=String(rt);break e}}We=tt}var it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=ee(String(We)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=ue(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ue(0==s[2].length,0==a[2].length)||ue(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}var st=a.document&&$e&&(et()||parseInt(We,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ke){}var at=!$e||9<=Number(st);function lt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ut(e,t){fe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:dt.hasOwnProperty(n)?e.setAttribute(dt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ct,ht,dt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ft(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){s="function"==typeof o.item;break e}}s=!1}z(s?J(o):o,r)}}}function pt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function gt(e){a.setTimeout((function(){throw e}),0)}function mt(e,t){ht||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);ht=function(){e.then(bt)}}else ht=function(){var e=bt;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!de("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ct||(ct=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=pt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=w((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Gb;n.Gb=null,e()}},function(e){r.next={Gb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),ct(e)):a.setImmediate(e)}}(),vt||(ht(),vt=!0),yt.add(e,t)}var vt=!1,yt=new V;function bt(){for(var e;e=B();){try{e.a.call(e.b)}catch(t){gt(t)}j(U,e)}vt=!1}function _t(e,t){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Nt(n,St,e)}),(function(e){if(!(e instanceof Ut))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Nt(n,At,e)}))}catch(r){Nt(this,At,r)}}var wt=0,St=2,At=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Et=new F((function(){return new Ct}),(function(e){e.reset()}));function kt(e,t,n){var r=Et.get();return r.g=e,r.b=t,r.f=n,r}function Tt(e){if(e instanceof _t)return e;var t=new _t(h);return Nt(t,St,e),t}function xt(e){return new _t((function(t,n){n(e)}))}function It(e,t,n){Dt(e,t,n,null)||mt(S(t,e))}function Pt(e){return new _t((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)It(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Ot(e,t){e.b||e.a!=St&&e.a!=At||Lt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Rt(e,t,n,r){var i=kt(null,null,null);return i.a=new _t((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(s){o(s)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Ut?o(t):e(i)}catch(s){o(s)}}:o})),i.a.c=e,Ot(e,i),i.a}function Nt(e,t,n){e.a==wt&&(e===n&&(t=At,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Dt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Lt(e),t!=At||n instanceof Ut||function(e,t){e.g=!0,mt((function(){e.g&&Vt.call(null,t)}))}(e,n)))}function Dt(e,t,n,r){if(e instanceof _t)return Ot(e,kt(t||h,n||null,r)),!0;if(N(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}var s=!1;try{t.call(e,(function(e){s||(s=!0,n.call(i,e))}),o)}catch(a){o(a)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Lt(e){e.h||(e.h=!0,mt(e.gc,e))}function Mt(e){var t=null;return e.b&&(e.b=(t=e.b).next,t.next=null),e.b||(e.f=null),t}function Ft(e,t,n,r){if(n==At&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,jt(t,n,r);else try{t.c?t.g.call(t.f):jt(t,n,r)}catch(i){Vt.call(null,i)}j(Et,t)}function jt(e,t,n){t==St?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}_t.prototype.then=function(e,t,n){return Rt(this,p(e)?e:null,p(t)?t:null,n)},_t.prototype.$goog_Thenable=!0,(e=_t.prototype).oa=function(e,t){return(e=kt(e,e,t)).c=!0,Ot(this,e),this},e.o=function(e,t){return Rt(this,null,e,t)},e.cancel=function(e){if(this.a==wt){var t=new Ut(e);mt((function(){!function e(t,n){if(t.a==wt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==t&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==wt&&1==i?e(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Mt(r),Ft(r,o,At,n)))}t.c=null}else Nt(t,At,n)}(this,t)}),this)}},e.$c=function(e){this.a=wt,Nt(this,St,e)},e.ad=function(e){this.a=wt,Nt(this,At,e)},e.gc=function(){for(var e;e=Mt(this);)Ft(this,e,this.a,this.i);this.h=!1};var Vt=gt;function Ut(e){D.call(this,e)}function Bt(){0!=qt&&(Ht[m(this)]=this),this.xa=this.xa,this.pa=this.pa}C(Ut,D),Ut.prototype.name="cancel";var qt=0,Ht={};function zt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=qt)){var t=m(e);if(0!=qt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Bt.prototype.xa=!1,Bt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Gt=Object.freeze||function(e){return e},Wt=!$e||9<=Number(st),Kt=$e&&!ot("9"),Qt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",h,t),a.removeEventListener("test",h,t)}catch(n){}return e}();function $t(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Yt(e,t){if($t.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{Ge(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}$t.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Yt,$t);var Xt=Gt({2:"touch",3:"pen",4:"mouse"});Yt.prototype.preventDefault=function(){Yt.ab.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Kt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Yt.prototype.g=function(){return this.a};var Jt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function en(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Va=i,this.key=++Zt,this.va=this.Pa=!1}function tn(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Va=null}function nn(e){this.src=e,this.a={},this.b=0}function rn(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(tn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function on(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Va==r)return i}return-1}nn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=on(e,t,r,i);return-1<s?(t=e[s],n||(t.Pa=!1)):((t=new en(t,this.src,o,!!r,i)).Pa=n,e.push(t)),t};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function ln(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else n=bn(n),e&&e[Jt]?wn(e,t,n,g(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=vn(e);if(a||(e[sn]=a=new nn(e)),!(n=a.add(t,n,r,s,o)).proxy)if(r=function(){var e=mn,t=Wt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(fn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=bn(n),e&&e[Jt]?Sn(e,t,n,g(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=bn(n),e&&e[Jt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=on(o=e.a[t],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=vn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=on(t,n,r,i)),(n=-1<e?t[e]:null)&&dn(n))}function dn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[Jt])rn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(fn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vn(t))?(rn(n,e),0==n.b&&(n.src=null,t[sn]=null)):tn(e)}}}function fn(e){return e in an?an[e]:an[e]="on"+e}function pn(e,t,n,r){var i=!0;if((e=vn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(e,t){var n=e.listener,r=e.Va||e.src;return e.Pa&&dn(e),n.call(r,t)}function mn(e,t){if(e.va)return!0;if(!Wt){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Yt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=pn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=pn(r[i],e,!1,t),n=n&&o}return n}return gn(e,new Yt(t,this))}function vn(e){return(e=e[sn])instanceof nn?e:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(e){return p(e)?e:(e[yn]||(e[yn]=function(t){return e.handleEvent(t)}),e[yn])}function _n(){Bt.call(this),this.v=new nn(this),this.ac=this,this.gb=null}function wn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Sn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function An(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.va&&s.capture==n){var a=s.listener,l=s.Va||s.src;s.Pa&&rn(e.v,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function Cn(e,t,n){if(p(e))n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function En(e){var t=null;return new _t((function(n,r){-1==(t=Cn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function kn(e){if(e.W&&"function"==typeof e.W)return e.W();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Tn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.W||"function"!=typeof e.W){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function xn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function In(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}C(_n,Bt),_n.prototype[Jt]=!0,_n.prototype.addEventListener=function(e,t,n,r){ln(this,e,t,n,r)},_n.prototype.removeEventListener=function(e,t,n,r){hn(this,e,t,n,r)},_n.prototype.dispatchEvent=function(e){var t,n=this.gb;if(n)for(t=[];n;n=n.gb)t.push(n);n=this.ac;var r=e.type||e;if("string"==typeof e)e=new $t(e,n);else if(e instanceof $t)e.target=e.target||n;else{var i=e;ve(e=new $t(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.b=t[o];i=An(s,r,!0,e)&&i}if(i=An(s=e.b=n,r,!0,e)&&i,i=An(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=An(s=e.b=t[o],r,!1,e)&&i;return i},_n.prototype.Da=function(){if(_n.ab.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)tn(n[r]);delete t.a[e],t.b--}}this.gb=null},(e=xn.prototype).W=function(){In(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return In(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Pn(this.b,e)?this.b[e]:t},e.set=function(e,t){Pn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var On=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Rn?(this.i=void 0!==t?t:e.i,Nn(this,e.c),this.l=e.l,this.a=e.a,Dn(this,e.g),this.f=e.f,Ln(this,er(e.b)),this.h=e.h):e&&(n=String(e).match(On))?(this.i=!!t,Nn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Dn(this,n[4]),this.f=Un(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function Nn(e,t,n){e.c=n?Un(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Ln(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&($n(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),Zn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Bn(t,Wn)),e.b=new Qn(t,e.i))}function Mn(e,t,n){e.b.set(t,n)}function Fn(e,t){return e.b.get(t)}function jn(e){return e instanceof Rn?new Rn(e):new Rn(e,void 0)}function Vn(e,t,n,r){var i=new Rn(null,void 0);return e&&Nn(i,e),t&&(i.a=t),n&&Dn(i,n),r&&(i.f=r),i}function Un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,qn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Bn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Bn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bn(n,"/"==n.charAt(0)?Gn:zn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Bn(n,Kn)),e.join("")},Rn.prototype.resolve=function(e){var t=new Rn(this),n=!!e.c;n?Nn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Dn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Ln(t,er(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,Kn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function $n(e){e.a||(e.a=new xn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yn(e){var t=Tn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=kn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Xn(e,t){$n(e),t=tr(e,t),Pn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&In(e)))}function Jn(e,t){return $n(e),t=tr(e,t),Pn(e.a.b,t)}function Zn(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(tr(e,t),J(n)),e.b+=n.length)}function er(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new xn(e.a),t.b=e.b),t}function tr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nr(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),e(t,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),sr(i,r),r.push(":"),e(t,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":sr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new rr,e,t),t.join("")}function rr(){}(e=Qn.prototype).add=function(e,t){$n(this),this.c=null,e=tr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){$n(this),this.a.forEach((function(n,r){z(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){$n(this);for(var e=this.a.W(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.W=function(e){$n(this);var t=[];if("string"==typeof e)Jn(this,e)&&(t=X(t,this.a.get(tr(this,e))));else{e=this.a.W();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},e.set=function(e,t){return $n(this),this.c=null,Jn(this,e=tr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(e,t){t.push('"',e.replace(or,(function(e){var t=ir[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ir[e]=t),t})),'"')}function ar(){var e=Er();return $e&&!!st&&11==st||/Edge\/\d+/.test(e)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ur(e,t){t=t||a.window;var n="about:blank";e&&(n=Re(Me(e)||Ve)),t.location.href=n}function cr(e){return!!((e=(e||Er()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function hr(e){e=e||a.window;try{e.close()}catch(t){}}function dr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Sr(Er())==wr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Oe?n:Me(void 0!==n.href?n.href:String(n))||Ve,n=e.target||n.target,i=[],e)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(e[s]?1:0))}var s=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ye(s=pt(document,"A"),"HTMLAnchorElement"),t=t instanceof Oe?t:Fe(t),s.href=Re(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=qe("",r,n,s),e=Re(t),s&&(Xe&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+ze(e)+'">',e=new Ue(e=(r=Ce())?r.createHTML(e):e,null,Be),r=s.document)&&(r.write(function(e){return e instanceof Ue&&e.constructor===Ue?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(s=qe(t,r,n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new _t((function(t){"complete"==a.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).o((function(t){throw hn(window,"load",e),t}))}function mr(e){return e=e||Er(),!("file:"!==Pr()&&"ionic:"!==Pr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var e=a.window;try{return!(!e||e==e.top)}catch(t){return!1}}function yr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function br(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":yr()?"Worker":"Browser"}function _r(){var e=br();return"ReactNative"===e||"Node"===e}var wr="Firefox";function Sr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?wr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":"Chrome":"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Cr(e,t){t=t||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=br())?r=Sr(i=Er()):"Worker"===r&&(r=Sr(i=Er())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Er(){return a.navigator&&a.navigator.userAgent||""}function kr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Tr(){try{var e=a.localStorage,t=Lr();if(e)return e.setItem(t,"1"),e.removeItem(t),!ar()||!!a.indexedDB}catch(n){return yr()&&!!a.indexedDB}return!1}function xr(){return(Ir()||"chrome-extension:"===Pr()||mr())&&!_r()&&Tr()&&!yr()}function Ir(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return a.location&&a.location.protocol||null}function Or(e){return!cr(e=e||Er())&&Sr(e)!=wr}function Rr(e){return void 0===e?null:nr(e)}function Nr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}function Dr(e){if(null!==e)return JSON.parse(e)}function Lr(e){return e||Math.floor(1e9*Math.random()).toString()}function Mr(e){return"Safari"!=Sr(e=e||Er())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function jr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Er(),t=br(),this.b=cr(e)||"ReactNative"===t}function Vr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Ur(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Br(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}jr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Ir()&&"chrome-extension:"!==Pr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,Hr={};function zr(e){Hr[e]||(Hr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Gr.abcd}catch(Ke){qr=!1}function Wr(e,t,n){qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Kr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Wr(e,n,t[n])}function Qr(e){var t={};return Kr(t,e),t}function $r(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Wr(t,n,$r(e[n]));return t}function Yr(e){var t=e&&(e[ti]?"phone":null);if(!(t&&e&&e[ei]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",e[ei]),Wr(this,"displayName",e[Jr]||null);var n=null;e[Zr]&&(n=new Date(e[Zr]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",t)}function Xr(e){try{var t=new ni(e)}catch(n){t=null}return t}Yr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Zr="enrolledAt",ei="mfaEnrollmentId",ti="phoneInfo";function ni(e){Yr.call(this,e),Wr(this,"phoneNumber",e[ti])}function ri(e){var t={},n=e[ai],r=e[ui],i=e[ci];if(e=Xr(e[li]),!i||i!=oi&&i!=si&&!n||i==si&&!r||i==ii&&!e)throw Error("Invalid checkActionCode response!");i==si?(t[di]=n||null,t[pi]=n||null,t[hi]=r):(t[di]=r||null,t[pi]=r||null,t[hi]=n||null),t[fi]=e||null,Wr(this,mi,i),Wr(this,gi,$r(t))}C(ni,Yr),ni.prototype.w=function(){var e=ni.ab.w.call(this);return e.phoneNumber=this.phoneNumber,e};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",si="VERIFY_AND_CHANGE_EMAIL",ai="email",li="mfaInfo",ui="newEmail",ci="requestType",hi="email",di="fromEmail",fi="multiFactorInfo",pi="previousEmail",gi="data",mi="operation";function vi(e){var t=Fn(e=jn(e),yi)||null,n=Fn(e,bi)||null,r=Fn(e,Si)||null;if(r=r&&Ci[r]||null,!t||!n||!r)throw new k("argument-error",yi+", "+bi+"and "+Si+" are required in a valid action code URL.");Kr(this,{apiKey:t,operation:r,code:n,continueUrl:Fn(e,_i)||null,languageCode:Fn(e,wi)||null,tenantId:Fn(e,Ai)||null})}var yi="apiKey",bi="oobCode",_i="continueUrl",wi="languageCode",Si="mode",Ai="tenantId",Ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:si,verifyEmail:"VERIFY_EMAIL"};function Ei(e){try{return new vi(e)}catch(t){return null}}function ki(e){var t=e[Oi];if(void 0===t)throw new k("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ti];if(n&&"object"==typeof n){t=n[Di];var r=n[Ri];if(n=n[Ni],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",Ri+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",Ni+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new k("argument-error",Di+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(t=e[Pi])&&"object"==typeof t){if("string"==typeof(t=t[Li])&&t.length)this.f=t;else if(void 0!==t)throw new k("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==t)throw new k("argument-error",Pi+" property must be a non null object when specified.");if(void 0!==(t=e[Ii])&&"boolean"!=typeof t)throw new k("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[xi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new k("argument-error",xi+" property must be a non empty string when specified.");this.i=e||null}var Ti="android",xi="dynamicLinkDomain",Ii="handleCodeInApp",Pi="iOS",Oi="url",Ri="installApp",Ni="minimumVersion",Di="packageName",Li="bundleId";function Mi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Fi=null;function ji(e){var t=Ui(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Vi(e){try{return new ji(e)}catch(t){return null}}function Ui(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=function(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Fi){Fi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;t(i<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,(function(e){t.push(e)})),t}(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var s=r[t++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))}else o=r[t++],s=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(e.join(""))}catch(l){}return null}ji.prototype.T=function(){return this.f},ji.prototype.l=function(){return this.c},ji.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Hi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:qi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:qi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:qi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Bi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function zi(e){for(var t in Hi)if(Hi[t].fa==e)return Hi[t];return null}function Gi(e){var t={};t["facebook.com"]=Yi,t["google.com"]=Ji,t["github.com"]=Xi,t["twitter.com"]=Zi;var n=e&&e[Ki];try{if(n)return t[n]?new t[n](e):new $i(e);if(void 0!==e[Wi])return new Qi(e)}catch(r){}return null}var Wi="idToken",Ki="providerId";function Qi(e){var t=e[Ki];if(!t&&e[Wi]){var n=Vi(e[Wi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Wr(this,"providerId",t),Wr(this,"isNewUser",n)}function $i(e){Qi.call(this,e),Wr(this,"profile",$r((e=Dr(e.rawUserInfo||"{}"))||{}))}function Yi(e){if($i.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(e){if($i.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Ji(e){if($i.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(e){if($i.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",e.screenName||null)}function eo(e){var t=jn(e),n=Fn(t,"link"),r=Fn(jn(n),"link");return t=Fn(t,"deep_link_id"),Fn(jn(t),"link")||t||r||n||e}function to(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?no:ro}C($i,Qi),C(Yi,$i),C(Xi,$i),C(Ji,$i),C(Zi,$i);var no="enroll",ro="signin";function io(){}function oo(e,t){return e.then((function(e){if(e[Gs]){var n=Vi(e[Gs]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==I+"user-not-found"?new k("user-mismatch"):e}))}function so(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Wr(this,"providerId",e),Wr(this,"signInMethod",e)}function ao(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function lo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new so(e.providerId,e.pendingToken)}catch(t){}return null}function uo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Wr(this,"idToken",t.idToken),t.accessToken&&Wr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Wr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Wr(this,"accessToken",t.oauthToken),Wr(this,"secret",t.oauthTokenSecret)}Wr(this,"providerId",e),Wr(this,"signInMethod",n)}function co(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Yn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ho(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new uo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function fo(e,t){this.Qc=t||[],Kr(this,{providerId:e,isOAuthProvider:!0}),this.Ib={},this.pb=(zi(e)||{}).Ja||null,this.ob=null}function po(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,e,[])}function go(e){fo.call(this,e,qi),this.a=[]}function mo(){go.call(this,"facebook.com")}function vo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new mo).credential({accessToken:t})}function yo(){go.call(this,"github.com")}function bo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new yo).credential({accessToken:t})}function _o(){go.call(this,"google.com"),this.Ca("profile")}function wo(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new _o).credential({idToken:n,accessToken:t})}function So(){fo.call(this,"twitter.com",Bi)}function Ao(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new uo("twitter.com",n,"twitter.com")}function Co(e,t,n){this.a=e,this.f=t,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(e){return e&&e.email&&e.password?new Co(e.email,e.password,e.signInMethod):null}function ko(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(e,t){if(!(t=xo(t)))throw new k("argument-error","Invalid email link!");return new Co(e,t.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function xo(e){return(e=Ei(e=eo(e)))&&e.operation===oi?e:null}function Io(e){if(!(e.eb&&e.cb||e.La&&e.ea))throw new k("internal-error");this.a=e,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function Po(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Io(t)}return null}function Oo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.eb,code:e.a.cb}}function Ro(e){try{this.a=e||r.a.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function No(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Io({eb:e,cb:t})}function Do(e){if(e.temporaryProof&&e.phoneNumber)return new Io({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return wo(o,n);case"facebook.com":return vo(n);case"github.com":return bo(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==t.indexOf("saml.")?new so(t,s):new uo(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new go(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Lo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Mo(e,t,n,r,i,o,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Fo(e){return(e=e||{}).type?new Mo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&T(e.error),e.postBody,e.tenantId):null}function jo(){this.b=null,this.a=[]}to.prototype.Ha=function(){return Tt(this.a?this.a:this.b)},to.prototype.w=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ka=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.w=function(){},so.prototype.ka=function(e){return da(e,ao(this))},so.prototype.b=function(e,t){var n=ao(this);return n.idToken=t,fa(e,n)},so.prototype.c=function(e,t){return oo(pa(e,ao(this)),t)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},uo.prototype.ka=function(e){return da(e,co(this))},uo.prototype.b=function(e,t){var n=co(this);return n.idToken=t,fa(e,n)},uo.prototype.c=function(e,t){return oo(pa(e,co(this)),t)},uo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},fo.prototype.Ka=function(e){return this.Ib=ge(e),this},C(po,fo),C(go,fo),go.prototype.Ca=function(e){return Q(this.a,e)||this.a.push(e),this},go.prototype.Qb=function(){return J(this.a)},go.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new uo(this.providerId,n,this.providerId)},C(mo,go),Wr(mo,"PROVIDER_ID","facebook.com"),Wr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(yo,go),Wr(yo,"PROVIDER_ID","github.com"),Wr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),C(_o,go),Wr(_o,"PROVIDER_ID","google.com"),Wr(_o,"GOOGLE_SIGN_IN_METHOD","google.com"),C(So,fo),Wr(So,"PROVIDER_ID","twitter.com"),Wr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),Co.prototype.ka=function(e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?$a(e,Sa,{email:this.a,oobCode:this.f}):$a(e,za,{email:this.a,password:this.f})},Co.prototype.b=function(e,t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?$a(e,Aa,{idToken:t,email:this.a,oobCode:this.f}):$a(e,Ma,{idToken:t,email:this.a,password:this.f})},Co.prototype.c=function(e,t){return oo(this.ka(e),t)},Co.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(ko,{PROVIDER_ID:"password"}),Kr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ka=function(e){return e.fb(Oo(this))},Io.prototype.b=function(e,t){var n=Oo(this);return n.idToken=t,$a(e,Wa,n)},Io.prototype.c=function(e,t){var n=Oo(this);return n.operation="REAUTH",oo(e=$a(e,Ka,n),t)},Io.prototype.w=function(){var e={providerId:"phone"};return this.a.eb&&(e.verificationId=this.a.eb),this.a.cb&&(e.verificationCode=this.a.cb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Ro.prototype.fb=function(e,t){var n=this.a.a;return Tt(t.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=g(e)?e.session:null,o=g(e)?e.phoneNumber:e;return(i&&i.type==no?i.Ha().then((function(e){return function(e,t){return $a(e,ja,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Ha().then((function(t){return function(e,t){return $a(e,Va,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return $a(e,Da,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Kr(Ro,{PROVIDER_ID:"phone"}),Kr(Ro,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Uo=null;function Bo(e){var t="unauthorized-domain",n=void 0,r=jn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function qo(e,t,n){k.call(this,e,n),(e=t||{}).Jb&&Wr(this,"email",e.Jb),e.ea&&Wr(this,"phoneNumber",e.ea),e.credential&&Wr(this,"credential",e.credential),e.Zb&&Wr(this,"tenantId",e.Zb)}function Ho(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:Do(e),Zb:e.tenantId};if(e.email)n.Jb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new qo(t,n,e.message)}return null}function zo(){}function Go(){}function Wo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Ko(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function $o(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Yo(e,t,n){this.reset(e,t,n,void 0,void 0)}function Xo(e){this.f=e,this.b=this.c=this.a=null}function Jo(e,t){this.name=e,this.value=t}C(Bo,k),C(qo,k),qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ve(e,t),e},qo.prototype.toJSON=function(){return this.w()},zo.prototype.c=null,C(Go,zo),Go.prototype.a=function(){var e=Wo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Go.prototype.b=function(){var e={};return Wo(this)&&(e[0]=!0,e[1]=!0),e},Vo=new Go,C(Ko,zo),Ko.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(e=Qo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,$o(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yo.prototype.a=null,Yo.prototype.reset=function(e,t,n,r,i){r||A(),delete this.a},Jo.prototype.toString=function(){return this.name};var Zo=new Jo("SEVERE",1e3),es=new Jo("WARNING",900),ts=new Jo("CONFIG",700),ns=new Jo("FINE",500);Xo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(M("Root logger has no level set."),null)}(this).value)for(p(t)&&(t=t()),e=new Yo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var rs={},is=null;function os(e){var t;if(is||(is=new Xo(""),rs[""]=is,is.c=ts),!(t=rs[e])){t=new Xo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=os(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,rs[e]=t}return t}function ss(e,t){e&&e.log(ns,t,void 0)}function as(e){this.f=e}function ls(e){_n.call(this),this.u=e,this.h=void 0,this.readyState=us,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=os("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C(as,zo),as.prototype.a=function(){return new ls(this.f)},as.prototype.b=function(e){return function(){return e}}({}),C(ls,_n);var us=0;function cs(e){e.c.read().then(e.pc.bind(e)).catch(e.Ua.bind(e))}function hs(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ds(e)}function ds(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function fs(e){_n.call(this),this.headers=new xn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ps,this.u=this.S=!1}(e=ls.prototype).open=function(e,t){if(this.readyState!=us)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ds(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,hs(this)),this.readyState=us},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ds(this)),this.a&&(this.readyState=3,ds(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,cs(this)):e.text().then(this.tc.bind(this),this.Ua.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?hs(this):ds(this),3==this.readyState&&cs(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,hs(this))},e.sc=function(e){this.a&&(this.response=e,hs(this))},e.Ua=function(e){var t=this.i;t&&t.log(es,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&hs(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(es,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),C(fs,_n);var ps="";fs.prototype.b=os("goog.net.XhrIo");var gs=/^https?$/i,ms=["POST","PUT"];function vs(e){return"content-type"==e.toLowerCase()}function ys(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,bs(e),ws(e)}function bs(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function _s(e){if(e.c&&void 0!==s)if(e.C[1]&&4==As(e)&&2==Cs(e))ss(e.b,Es(e,"Local request error detected and ignored"));else if(e.i&&4==As(e))Cn(e.Vb,0,e);else if(e.dispatchEvent("readystatechange"),4==As(e)){ss(e.b,Es(e,"Request complete")),e.c=!1;try{var t,n=Cs(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(On)[1]||null;if(!o&&a.self&&a.self.location){var l=a.self.location.protocol;o=l.substr(0,l.length-1)}i=!gs.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var u=2<As(e)?e.a.statusText:""}catch(c){ss(e.b,"Can not get status: "+c.message),u=""}e.h=u+" ["+Cs(e)+"]",bs(e)}}finally{ws(e)}}}function ws(e,t){if(e.a){Ss(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(Zo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ss(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function As(e){return e.a?e.a.readyState:0}function Cs(e){try{return 2<As(e)?e.a.status:-1}catch(t){return-1}}function Es(e,t){return t+" ["+e.R+" "+e.l+" "+Cs(e)+"]"}function ks(e){var t=Fs;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ts(e,t,n){e.a=!0,e.c=n,e.f=!t,Os(e)}function xs(e){if(e.a){if(!e.v)throw new Rs(e);e.v=!1}}function Is(e,t,n,r){e.g.push([t,n,r]),e.a&&Os(e)}function Ps(e){return K(e.g,(function(e){return p(e[1])}))}function Os(e){if(e.h&&e.a&&Ps(e)){var t=e.h,n=Ls[t];n&&(a.clearTimeout(n.a),delete Ls[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var l=o.call(i||e.s,t);void 0!==l&&(e.f=e.f&&(l==t||l instanceof Error),e.c=t=l),(N(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(u){t=u,e.f=!0,Ps(e)||(n=!0)}}e.c=t,r&&(l=w(e.m,e,!0),r=w(e.m,e,!1),t instanceof ks?(Is(t,l,r),t.C=!0):t.then(l,r)),n&&(t=new Ds(t),Ls[t.a]=t,e.h=t.a)}function Rs(){D.call(this)}function Ns(){D.call(this)}function Ds(e){this.a=a.setTimeout(w(this.c,this),0),this.b=e}(e=fs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ss(this.b,Es(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ss(this.b,Es(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),fs.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?_s(this):this.Jc())},e.Jc=function(){_s(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ps:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ss(this.b,"Can not get response: "+t.message),null}},ks.prototype.cancel=function(e){if(this.a)this.c instanceof ks&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ns(this),xs(this),Ts(this,!1,e))}},ks.prototype.m=function(e,t){this.i=!1,Ts(this,e,t)},ks.prototype.then=function(e,t,n){var r,i,o=new _t((function(e,t){r=e,i=t}));return Is(this,r,(function(e){e instanceof Ns?o.cancel():i(e)})),o.then(e,t,n)},ks.prototype.$goog_Thenable=!0,C(Rs,D),Rs.prototype.message="Deferred has already fired",Rs.prototype.name="AlreadyCalledError",C(Ns,D),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Ds.prototype.c=function(){throw delete Ls[this.a],this.b};var Ls={};function Ms(e){var t={},n=t.document||document,r=ke(e).toString(),i=pt(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new ks(o),l=null,h=null!=t.timeout?t.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){js(i,!0);var e=new Bs(Us,"Timeout reached for loading script "+r);xs(s),Ts(s,!1,e)}),h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(js(i,t.xd||!1,l),xs(s),Ts(s,!0,null))},i.onerror=function(){js(i,!0,l);var e=new Bs(Vs,"Error while loading script "+r);xs(s),Ts(s,!1,e)},ve(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ut(i,o),function(e,t){ye(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=c(t.document):(null===u&&(u=c(a.document)),t=u),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function Fs(){if(this&&this.Wb){var e=this.Wb;e&&"SCRIPT"==e.tagName&&js(e,!0,this.Ma)}}function js(e,t,n){null!=n&&a.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Vs=0,Us=1;function Bs(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),D.call(this,n),this.code=e}function qs(e){this.f=e}function Hs(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ws,this.g=ge(e.secureTokenHeaders||Ks),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Qs,this.a=ge(e.firebaseHeaders||$s),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==br(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!yr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=yr()?new as(self):_r()?new qs(n):new Ko,this.b=null}C(Bs,D),C(qs,zo),qs.prototype.a=function(){return new this.f},qs.prototype.b=function(){return{}};var zs,Gs="idToken",Ws=new jr(3e4,6e4),Ks={"Content-Type":"application/x-www-form-urlencoded"},Qs=new jr(3e4,6e4),$s={"Content-Type":"application/json"};function Ys(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Xs(e,t){t&&(e.l=Js("https://securetoken.googleapis.com/v1/token",t),e.h=Js("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Js("https://identitytoolkit.googleapis.com/v2/",t))}function Js(e,t){return e=jn(e),t=jn(t.url),e.f=e.a+e.f,Nn(e,t.c),e.a=t.a,Dn(e,t.g),e.toString()}function Zs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ea(e,t,n,r,i,o,s){(function(){var e=Er();return!((e="Chrome"!=Sr(e)?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||$e&&st&&!(9<st))})()||yr()?e=w(e.u,e):(zs||(zs=new _t((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(a[na]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Is(e,null,t,void 0)}(Ms(Te(ta,{onload:na})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=w(e.s,e)),e(t,n,r,i,o,s)}Hs.prototype.T=function(){return this.b},Hs.prototype.u=function(e,t,n,r,i,o){if(yr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new fs(this.f);if(o){s.g=Math.max(0,o);var l=setTimeout((function(){s.dispatchEvent("timeout")}),o)}wn(s,"complete",(function(){l&&clearTimeout(l);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ss(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),Sn(s,"ready",(function(){l&&clearTimeout(l),zt(this)})),Sn(s,"timeout",(function(){l&&clearTimeout(l),zt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.R=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Vo.a(),e.C=function(e){return e.c||(e.c=e.b())}(e.D?e.D:Vo),e.a.onreadystatechange=w(e.Vb,e);try{ss(e.b,Es(e,"Opening Xhr")),e.O=!0,e.a.open(n,String(t),!0),e.O=!1}catch(s){return ss(e.b,Es(e,"Error opening Xhr: "+s.message)),void ys(e,s)}t=r||"";var o=new xn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)z(e,t,void 0);else for(var n=Tn(e),r=kn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=vs,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!Q(ms,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ss(e),0<e.g&&(e.u=function(e){return $e&&ot(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),ss(e.b,Es(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=w(e.Ma,e)):e.s=Cn(e.Ma,e.g,e)),ss(e.b,Es(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){ss(e.b,Es(e,"Send error: "+s.message)),ys(e,s)}}(s,e,n,r,i)};var ta=new be(Ae,"https://apis.google.com/js/client.js?onload=%{onload}"),na="__fcb"+Math.floor(1e6*Math.random()).toString();function ra(e){if("string"!=typeof(e=e.email)||!pr.test(e))throw new k("invalid-email")}function ia(e){"email"in e&&ra(e)}function oa(e){if(!e[Gs]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ge(e));throw new k("internal-error")}}function sa(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}Hs.prototype.s=function(e,t,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Hs.prototype.zb=function(){return $a(this,Fa,{})},Hs.prototype.Bb=function(e,t){return $a(this,La,{idToken:e,email:t})},Hs.prototype.Cb=function(e,t){return $a(this,Ma,{idToken:e,password:t})};var aa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function la(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ua(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function ca(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Jn(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function ha(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ho(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ho(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ho(e)):e.errorMessage&&(t=Ya(e.errorMessage)),t)throw t;oa(e)}function da(e,t){return t.returnIdpCredential=!0,$a(e,Ua,t)}function fa(e,t){return t.returnIdpCredential=!0,$a(e,qa,t)}function pa(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,$a(e,Ba,t)}function ga(e){if(!e.oobCode)throw new k("invalid-action-code")}(e=Hs.prototype).Db=function(e,t){var n={idToken:e},r=[];return fe(aa,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,La,n)},e.vb=function(e,t){return ve(e={requestType:"PASSWORD_RESET",email:e},t),$a(this,Pa,e)},e.wb=function(e,t){return ve(e={requestType:"EMAIL_SIGNIN",email:e},t),$a(this,Ta,e)},e.ub=function(e,t){return ve(e={requestType:"VERIFY_EMAIL",idToken:e},t),$a(this,xa,e)},e.Eb=function(e,t,n){return ve(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),$a(this,Ia,e)},e.fb=function(e){return $a(this,Ga,e)},e.nb=function(e,t){return $a(this,Na,{oobCode:e,newPassword:t})},e.Ra=function(e){return $a(this,va,{oobCode:e})},e.jb=function(e){return $a(this,ma,{oobCode:e})};var ma={endpoint:"setAccountInfo",A:ga,Z:"email",B:!0},va={endpoint:"resetPassword",A:ga,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},ya={endpoint:"signupNewUser",A:function(e){if(ra(e),!e.password)throw new k("weak-password")},G:oa,V:!0,B:!0},ba={endpoint:"createAuthUri",B:!0},_a={endpoint:"deleteAccount",N:["idToken"]},wa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Sa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ra,G:oa,V:!0,B:!0},Aa={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ra,G:oa,V:!0},Ca={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:la,G:oa,B:!0,Na:!0},Ea={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:la,G:oa,B:!0,Na:!0},ka={endpoint:"getAccountInfo"},Ta={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");ra(e)},Z:"email",B:!0},xa={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Ia={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Pa={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");ra(e)},Z:"email",B:!0},Oa={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ra={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Na={endpoint:"resetPassword",A:ga,Z:"email",B:!0},Da={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},La={endpoint:"setAccountInfo",N:["idToken"],A:ia,V:!0},Ma={endpoint:"setAccountInfo",N:["idToken"],A:function(e){if(ia(e),!e.password)throw new k("weak-password")},G:oa,V:!0},Fa={endpoint:"signupNewUser",G:oa,V:!0,B:!0},ja={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Va={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Ua={endpoint:"verifyAssertion",A:ua,Ya:ca,G:ha,V:!0,B:!0},Ba={endpoint:"verifyAssertion",A:ua,Ya:ca,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw Ya(e.errorMessage);oa(e)},V:!0,B:!0},qa={endpoint:"verifyAssertion",A:function(e){if(ua(e),!e.idToken)throw new k("internal-error")},Ya:ca,G:ha,V:!0},Ha={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:oa,V:!0,B:!0},za={endpoint:"verifyPassword",A:function(e){if(ra(e),!e.password)throw new k("wrong-password")},G:oa,V:!0,B:!0},Ga={endpoint:"verifyPhoneNumber",A:sa,G:oa,B:!0},Wa={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");sa(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ho(e);oa(e)}},Ka={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:sa,G:oa,B:!0},Qa={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Gs]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function $a(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.N))return xt(new k("internal-error"));var r,i=!!t.Na,o=t.Ub||"POST";return Tt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,s){var a=jn(t+n);Mn(a,"key",e.c),s&&Mn(a,"cb",Date.now().toString());var l="GET"==r;if(l)for(var u in i)i.hasOwnProperty(u)&&Mn(a,u,i[u]);return new _t((function(t,n){ea(e,a.toString(),(function(e){e?e.error?n(Xa(e,o||{})):t(e):n(new k("network-request-failed"))}),r,l?void 0:nr(Nr(i)),e.a,e.v.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Hb,t.lb||!1)})).then((function(e){return r=e,t.Ya?t.Ya(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function Ya(e){return Xa({error:{errors:[{message:e}],code:400,message:e}})}function Xa(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ve(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Rr(e)),new k("internal-error",t)}function Ja(e){this.b=e,this.a=null,this.rb=function(e){return(nl||(nl=new _t((function(e,t){function n(){Fr(),kr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Fr(),t(Error("Network Error"))},timeout:el.get()})}if(kr("gapi.iframes.Iframe"))e();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():t(Error("Network Error"))},Tt(Ms(r=Te(Za,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw nl=null,e})))).then((function(){return new _t((function(t,n){kr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),tl.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Za=new be(Ae,"https://apis.google.com/js/api.js?onload=%{onload}"),el=new jr(3e4,6e4),tl=new jr(5e3,15e3),nl=null;function rl(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Vn((e=jn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=e,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function il(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ol(e){try{return r.a.app(e).auth().Ga()}catch(t){return[]}}function sl(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function al(e){var t=lr();return function(e){return $a(e,Oa,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=jn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:fr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new Bo(lr())}))}function ll(e){return e.m||(e.m=gr().then((function(){if(!e.u){var t=e.c,n=e.i,r=ol(e.b),i=new rl(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.v=new Ja(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.rb.then((function(){e.a.register("authEvent",t,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Fo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Tt(n)}return n.status="ERROR",Tt(n)}))}(e)}))),e.m}function ul(e){return e.l||(e.C=e.c?Cr(e.c,ol(e.b)):null,e.l=new Hs(e.g,R(e.i),e.C),e.f&&Xs(e.l,e.f)),e.l}function cl(e,t,n,r,i,o,s,a,l,u,c,h){return(e=new il(e,t,n,r,i,h)).l=o,e.g=s,e.i=a,e.b=ge(l||null),e.f=u,e.yb(c).toString()}function hl(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function dl(e){this.b=e,this.a={},this.f=w(this.c,this)}rl.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},il.prototype.yb=function(e){return this.h=e,this},il.prototype.toString=function(){if(this.v){var e=jn(this.v.url);e=Vn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Vn("https",this.u,null,"/__/auth/handler");if(Mn(e,"apiKey",this.s),Mn(e,"appName",this.c),Mn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().la()}catch(l){n=null}for(var i in t.ob=n,Mn(e,"providerId",this.a.providerId),t=Nr((n=this.a).Ib))t[i]=t[i].toString();i=n.Qc,t=ge(t);for(var o=0;o<i.length;o++){var s=i[o];s in t&&delete t[s]}n.pb&&n.ob&&!t[n.pb]&&(t[n.pb]=n.ob),pe(t)||Mn(e,"customParameters",Rr(t))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Mn(e,"scopes",n.join(",")),this.l?Mn(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Mn(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Mn(e,"v",this.i):Xn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(e,a)&&Mn(e,a,this.b[a]);return this.h?Mn(e,"tid",this.h):Xn(e.b,"tid"),this.f?Mn(e,"eid",this.f):Xn(e.b,"eid"),(a=ol(this.c)).length&&Mn(e,"fw",a.join(",")),e.toString()},(e=sl.prototype).Ob=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,s=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return ll(e).then((function(){return function(e,t){return e.rb.then((function(){return new _t((function(n){e.a.send(t.type,t,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&hr(e),t(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(e){return new _t((function(t){return function n(){En(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!s)return En(n).then((function(){t(r)}))}))},e.Xb=function(){var e=Er();return!Or(e)&&!Mr(e)},e.Tb=function(){return!1},e.Mb=function(e,t,n,r,i,o,s,a){if(!e)return xt(new k("popup-blocked"));if(s&&!Or())return this.ma().o((function(t){hr(e),i(t)})),r(),Tt();this.a||(this.a=al(ul(this)));var l=this;return this.a.then((function(){var t=l.ma().o((function(t){throw hr(e),i(t),t}));return r(),t})).then((function(){Lo(n),s||ur(cl(l.s,l.g,l.b,t,n,null,o,l.c,void 0,l.i,a,l.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(l.a=null),e}))},e.Nb=function(e,t,n,r){this.a||(this.a=al(ul(this)));var i=this;return this.a.then((function(){Lo(t),ur(cl(i.s,i.g,i.b,e,t,lr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return ll(this).then((function(){return e.v.rb})).o((function(){throw e.a=null,new k("network-request-failed")}))},e.$b=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Sa=function(e){Y(this.h,(function(t){return t==e}))},(e=hl.prototype).get=function(e){return Tt(this.a.getItem(e)).then((function(e){return e&&Dr(e)}))},e.set=function(e,t){return Tt(this.a.setItem(e,Rr(t)))},e.U=function(e){return Tt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var fl,pl=[];function gl(e,t,n){pe(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function ml(e){this.a=e}function vl(e){this.c=e,this.b=!1,this.a=[]}function yl(e,t,n,r){var i,o,s,a,l=n||{},u=null;if(e.b)return xt(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _t((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),c),e.a.push(u={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(a),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return bl(e,u),t})).o((function(t){throw bl(e,u),t}))}function bl(e,t){if(t){var n=t.messageChannel;n&&(n.port1.removeEventListener("message",t.onMessage),n.port1.close()),Y(e.a,(function(e){return e==t}))}}function _l(){if(!Al())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;yr()&&self?(this.v=function(){var e=yr()?self:null;if(z(pl,(function(n){n.b==e&&(t=n)})),!t){var t=new dl(e);pl.push(t)}return t}(),gl(this.v,"keyChanged",(function(t,n){return xl(e).then((function(t){return 0<t.length&&z(e.a,(function(e){e(t)})),{keyProcessed:Q(t,n.key)}}))})),gl(this.v,"ping",(function(){return Tt(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?Tt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Tt(null)}().then((function(t){(e.h=t)&&(e.g=new vl(new ml(t)),yl(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Q(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function wl(e){return e.i||(e.i=function e(t){return new _t((function(n,r){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(e){try{e.preventDefault()}catch(t){}r(Error(e.target.error))},i.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){r(t)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(e){return new _t((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(t).then((function(){return e(t)})).then((function(e){n(e)})).o((function(e){r(e)}))}}))}(e)),e.i}function Sl(e,t){var n=0;return new _t((function r(i,o){wl(e).then(t).then(i).o((function(t){if(!(3<++n))return wl(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Al(){try{return!!a.indexedDB}catch(Ke){return!1}}function Cl(e){return e.objectStore("firebaseLocalStorage")}function El(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function kl(e){return new _t((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Tl(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?yl(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Tt()}function xl(e){return wl(e).then((function(e){var t=Cl(El(e,!1));return t.getAll?kl(t.getAll()):new _t((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Il(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Pl(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Tt().then((function(){if(Al()){var e=Lr(),r="__sak"+e;return fl||(fl=new _l),(n=fl).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){z(t.a,(function(t){t(e)}))})),e}))}function Ol(){this.a={},this.type="inMemory"}function Rl(){if(!function(){var e="Node"==br();if(!(e=Nl()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Nl()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Nl(){try{var e=a.localStorage,t=Lr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Dl(){this.type="nullStorage"}function Ll(){if(!function(){var e="Node"==br();if(!(e=Ml()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Ml()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ml(){try{var e=a.sessionStorage,t=Lr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Fl(){var e={};e.Browser=Ul,e.Node=Bl,e.ReactNative=ql,e.Worker=Hl,this.a=e[br()]}dl.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];z(r,(function(t){i.push(Tt().then((function(){return t(e.origin,e.data.data)})))})),Pt(i).then((function(r){var i=[];z(r,(function(e){i.push({fulfilled:e.Pb,value:e.value,reason:e.reason?e.reason.message:void 0})})),z(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},ml.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},vl.prototype.close=function(){for(;0<this.a.length;)bl(this,this.a[0]);this.b=!0},(e=_l.prototype).set=function(e,t){var n=this,r=!1;return Sl(this,(function(t){return kl((t=Cl(El(t,!0))).get(e))})).then((function(i){return Sl(n,(function(o){if(o=Cl(El(o,!0)),i)return i.value=t,kl(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=e,s.value=t,kl(o.add(s))}))})).then((function(){return n.c[e]=t,Tl(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Sl(this,(function(t){return kl(Cl(El(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Sl(this,(function(r){return n=!0,t.b++,kl(Cl(El(r,!0)).delete(e))})).then((function(){return delete t.c[e],Tl(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){Il(e),function t(){e.f=setTimeout((function(){e.l=xl(e).then((function(t){0<t.length&&z(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e})),0==this.a.length&&Il(this)},(e=Pl.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Y(this.a,(function(t){return t==e}))},(e=Ol.prototype).get=function(e){return Tt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Tt()},e.U=function(e){return delete this.a[e],Tt()},e.ca=function(){},e.ia=function(){},(e=Rl.prototype).get=function(e){var t=this;return Tt().then((function(){return Dr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Tt().then((function(){var r=Rr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Tt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&ln(a.window,"storage",e)},e.ia=function(e){a.window&&hn(a.window,"storage",e)},(e=Dl.prototype).get=function(){return Tt(null)},e.set=function(){return Tt()},e.U=function(){return Tt()},e.ca=function(){},e.ia=function(){},(e=Ll.prototype).get=function(e){var t=this;return Tt().then((function(){return Dr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Tt().then((function(){var r=Rr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Tt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var jl,Vl,Ul={F:Rl,bb:Ll},Bl={F:Rl,bb:Ll},ql={F:hl,bb:Dl},Hl={F:Rl,bb:Dl},zl={rd:"local",NONE:"none",td:"session"};function Gl(){var e=!(Mr(Er())||!vr()),t=Or(),n=Tr();this.m=e,this.h=t,this.l=n,this.a={},jl||(jl=new Fl),e=jl;try{this.g=!ar()&&Br()||!a.indexedDB?new e.a.F:new Pl(yr()?new Ol:new e.a.F)}catch(r){this.g=new Ol,this.h=!0}try{this.i=new e.a.bb}catch(r){this.i=new Ol}this.v=new Ol,this.f=w(this.Yb,this),this.b={}}function Wl(){return Vl||(Vl=new Gl),Vl}function Kl(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Ql(e,t){return"firebase:"+e.name+(t?":"+t:"")}function $l(e,t,n){return n=Ql(t,n),"local"==t.F&&(e.b[n]=null),Kl(e,t.F).U(n)}function Yl(e){e.c&&(clearInterval(e.c),e.c=null)}function Xl(e){this.a=e,this.b=Wl()}(e=Gl.prototype).get=function(e,t){return Kl(this,e.F).get(Ql(e,t))},e.set=function(e,t,n){var r=Ql(e,n),i=this,o=Kl(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=Ql(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),pe(this.a)&&(Kl(this,"local").ca(this.f),this.h||(ar()||!Br())&&a.indexedDB||!this.l||function(e){Yl(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Yt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Yb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Ql(e,t),this.a[e]&&(Y(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),pe(this.a)&&(Kl(this,"local").ia(this.f),Yl(this))},e.Yb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Kl(this,"local").ia(this.f):Yl(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.mb(t))},$e&&st&&10==st&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else z(e,w(this.mb,this))},e.mb=function(e){this.a[e]&&z(this.a[e],(function(e){e()}))};var Jl,Zl={name:"authEvent",F:"local"};function eu(){this.a=Wl()}function tu(e,t){this.b=nu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Jl&&(Jl=a.Int32Array?new Int32Array(uu):uu),this.reset()}C(tu,(function(){this.b=-1}));for(var nu=64,ru=nu-1,iu=[],ou=0;ou<ru;ou++)iu[ou]=0;var su=X(128,iu);function au(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){var o=(0|n[t-16])+(((i=0|n[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[t-7])+(((r=0|n[t-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+s|0}r=0|e.a[0],i=0|e.a[1];var a=0|e.a[2],l=0|e.a[3],u=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&c^~u&h)+(0|Jl[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=u,u=l+s|0,l=a,a=i,i=r,r=s+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+l|0,e.a[4]=e.a[4]+u|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function lu(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(au(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(au(e),i=0)}}e.c=i,e.g+=n}tu.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var uu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cu(){tu.call(this,8,hu)}C(cu,tu);var hu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function du(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new eu,this.g=new Xl(this.h),this.f=null,this.b=[],this.a=this.c=null}function fu(e){return new k("invalid-cordova-configuration",e)}function pu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function gu(e){return e.f||(e.f=e.ma().then((function(){return new _t((function(t){e.Ea((function n(r){return t(r),e.Sa(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),mu(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=eo(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Dr(Fn(o=jn(i),"firebaseError")||null))?T(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}pu(e,i)}))}var n=new Mo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=En(500).then((function(){return mu(e).then((function(){r||pu(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Uo||(Uo=new jo),function(e){var t=Uo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=kr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function mu(e){var t=null;return function(e){return e.b.get(Zl,e.a).then((function(e){return Fo(e)}))}(e.g).then((function(n){return t=n,$l((n=e.g).b,Zl,n.a)})).then((function(){return t}))}function vu(e){this.a=e,this.b=Wl()}(e=du.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(mr(void 0)?gr().then((function(){return new _t((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):xt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw fu("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw fu("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw fu("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw fu("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},e.Ob=function(e,t){return t(new k("operation-not-supported-in-this-environment")),Tt()},e.Mb=function(){return xt(new k("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(e,t,n,r){if(this.c)return xt(new k("redirect-operation-pending"));var i=this,o=a.document,s=null,l=null,u=null,c=null;return this.c=Tt().then((function(){return Lo(t),gu(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Mo(t,r,null,o,new k("no-auth-event"),null,i),l=kr("BuildInfo.packageName",a);if("string"!=typeof l)throw new k("invalid-cordova-configuration");var u=kr("BuildInfo.displayName",a),c={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!Er().toLowerCase().match(/android/))return xt(new k("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(e){var t=new cu;lu(t,e),e=[];var n=8*t.g;lu(t,su,56>t.c?56-t.c:t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(au(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return W(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),c.sessionId=o;var h=cl(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(Zl,s.w(),t)})).then((function(){var t=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new k("invalid-cordova-configuration");t=Er(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new _t((function(e,t){l=function(){var t=kr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(l),c=function(){Vr()&&u()},o.addEventListener("resume",u=function(){s||(s=En(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(e){return mu(i).then((function(){throw e}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),l&&i.Sa(l),i.c=null}))},e.Ea=function(e){this.b.push(e),gu(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Mo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},e.Sa=function(e){Y(this.b,(function(t){return t==e}))};var yu={name:"pendingRedirect",F:"session"};function bu(e){return $l(e.b,yu,e.a)}function _u(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Lu,this.C=new Uu,this.g=new vu(Nu(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=wu(this.D,this.v,this.m,x,this.J)}function wu(e,t,n,i,o){var s=r.a.SDK_VERSION||null;return mr()?new du(e,t,n,s,i,o):new sl(e,t,n,s,i,o)}function Su(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Au(e){e.a.Xb()&&Su(e).o((function(t){var n=new Mo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Iu(t)&&e.s(n)})),e.a.Tb()||Mu(e.b)}function Cu(e,t){Q(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(yu,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?bu(e.g).then((function(){Su(e).o((function(t){var n=new Mo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Iu(t)&&e.s(n)}))})):Au(e)})).o((function(){Au(e)}))}function Eu(e,t){Y(e.h,(function(e){return e==t}))}_u.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=wu(this.D,this.v,this.m,null,this.J),this.i={}},_u.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Mu(this.b),t};var ku=new jr(2e3,1e4),Tu=new jr(3e4,6e4);function xu(e,t,n,r,i,o,s){return e.a.Mb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,s)}function Iu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Pu(e,t,n,r,i){var o;return function(e){return e.b.set(yu,"pending",e.a)}(e.g).then((function(){return e.a.Nb(t,n,r,i).o((function(t){if(Iu(t))throw new k("operation-not-supported-in-this-environment");return o=t,bu(e.g).then((function(){throw o}))})).then((function(){return e.a.$b()?new _t((function(){})):bu(e.g).then((function(){return e.qa()})).then((function(){})).o((function(){}))}))}))}function Ou(e,t,n,r,i){return e.a.Ob(r,(function(e){t.na(n,null,e,i)}),ku.get())}_u.prototype.qa=function(){return this.b.qa()};var Ru={};function Nu(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Du(e,t,n,r){var i=Nu(t,n,r);return Ru[i]||(Ru[i]=new _u(e,t,n,r)),Ru[i]}function Lu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mu(e){e.g||(e.g=!0,Vu(e,!1,null,null))}function Fu(e){e.g&&!e.i&&Vu(e,!1,null,null)}function ju(e,t){if(e.b=function(){return Tt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Vu(e,t,n,r){t?r?function(e,t){if(e.b=function(){return xt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):ju(e,n):ju(e,{user:null}),e.f=[],e.c=[]}function Uu(){}function Bu(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(e){this.ib=e},enumerable:!1})}function qu(e,t){this.a=t,Wr(this,"verificationId",e)}function Hu(e,t,n,r){return new Ro(e).fb(t,n).then((function(e){return new qu(e,r)}))}function zu(e){var t=Ui(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:e,expirationTime:Ur(1e3*t.exp),authTime:Ur(1e3*t.auth_time),issuedAtTime:Ur(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Gu(e,t,n){var r=t&&t[Ku];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new to(null,r),this.b=[];var i=this;z(t[Wu]||[],(function(e){(e=Xr(e))&&i.b.push(e)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Lu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Lu.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Vu(this,!0,null,e.a),Tt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,s=t.T(),a=!!t.c.match(/Redirect$/);n(r,i,s,o).then((function(t){Vu(e,a,t,null)})).o((function(t){Vu(e,a,null,t)}))}(this,e,t):xt(new k("invalid-auth-event")):(Vu(this,!1,null,null),Tt())}else xt(new k("invalid-auth-event"))},Lu.prototype.qa=function(){var e=this;return new _t((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=En(Tu.get()).then((function(){e.b||(e.g=!0,Vu(e,!0,null,t))}))}(e))}))},Uu.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Tt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):xt(new k("invalid-auth-event"))}else xt(new k("invalid-auth-event"))},qu.prototype.confirm=function(e){return e=No(this.verificationId,e),this.a(e)};var Wu="mfaInfo",Ku="mfaPendingCredential";function Qu(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new Gu(e,t,n),Wr(this,"resolver",this.b)}function $u(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Qu(t,e.serverResponse,n,e.message)}catch(r){}return null}function Yu(){}function Xu(e){Wr(this,"factorId",e.fa),this.a=e}function Ju(e){if(Xu.call(this,e),this.a.fa!=Ro.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zu(e,t){for(var n in $t.call(this,e),t)this[n]=t[n]}function ec(e,t){this.a=e,this.b=[],this.c=w(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&z(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ei]=e.uid),e.displayName&&(r[Jr]=e.displayName),e.enrollmentTime&&(r[Zr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ti]=e.phoneNumber);try{t=new ni(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),tc(this,n)}function tc(e,t){e.b=t,Wr(e,"enrolledFactors",t)}function nc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function ic(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function oc(e,t){e.b=Vi(t[Gs]||""),e.a=t.refreshToken,ic(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function sc(e,t){this.a=e||null,this.b=t||null,Kr(this,{lastSignInTime:Ur(t||null),creationTime:Ur(e||null)})}function ac(e,t,n,r,i,o){Kr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function lc(e,t,n){this.J=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.a.SDK_VERSION?Cr(r.a.SDK_VERSION):null;this.a=new Hs(this.l,R(x),i),e.emulatorConfig&&Xs(this.a,e.emulatorConfig),this.b=new rc(this.a),mc(this,t[Gs]),oc(this.b,t),Wr(this,"refreshToken",this.b.a),bc(this,n||{}),_n.call(this),this.R=!1,this.s&&xr()&&(this.i=Du(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(e){return new nc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.b.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(e){o.wa(e.h)},this.ja=null,this.Aa=function(e){Xs(o.a,e.c)},this.X=null,this.$=[],this.Ba=function(e){hc(o,e.f)},this.ba=null,this.O=new ec(this,n),Wr(this,"multiFactor",this.O)}function uc(e,t){e.ja&&hn(e.ja,"languageCodeChanged",e.Oa),(e.ja=t)&&ln(t,"languageCodeChanged",e.Oa)}function cc(e,t){e.X&&hn(e.X,"emulatorConfigChanged",e.Aa),(e.X=t)&&ln(t,"emulatorConfigChanged",e.Aa)}function hc(e,t){e.$=t,Zs(e.a,r.a.SDK_VERSION?Cr(r.a.SDK_VERSION,e.$):null)}function dc(e,t){e.ba&&hn(e.ba,"frameworkChanged",e.Ba),(e.ba=t)&&ln(t,"frameworkChanged",e.Ba)}function fc(e){try{return r.a.app(e.m).auth()}catch(t){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function pc(e){e.D||e.u.b||(e.u.start(),hn(e,"tokenChanged",e.aa),ln(e,"tokenChanged",e.aa))}function gc(e){hn(e,"tokenChanged",e.aa),e.u.stop()}function mc(e,t){e.za=t,Wr(e,"_lat",t)}function vc(e){for(var t=[],n=0;n<e.S.length;n++)t.push(e.S[n](e));return Pt(t).then((function(){return e}))}function yc(e){e.i&&!e.R&&(e.R=!0,Cu(e.i,e))}function bc(e,t){Kr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new sc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function _c(){}function wc(e){return Tt().then((function(){if(e.D)throw new k("app-deleted")}))}function Sc(e){return W(e.providerData,(function(e){return e.providerId}))}function Ac(e,t){t&&(Cc(e,t.providerId),e.providerData.push(t))}function Cc(e,t){Y(e.providerData,(function(e){return e.providerId==t}))}function Ec(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Wr(e,t,n)}function kc(e,t){e!=t&&(Kr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),Wr(e,"metadata",t.metadata?function(e){return new sc(e.a,e.b)}(t.metadata):new sc),z(t.providerData,(function(t){Ac(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.b,t.b),Wr(e,"refreshToken",e.b.a),tc(e.O,t.O.b))}function Tc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return $a(e.a,ka,{idToken:t}).then(w(e.Kc,e))}(e,t).then((function(){return n||Ec(e,"isAnonymous",!1),t}))}))}function xc(e,t){t[Gs]&&e.za!=t[Gs]&&(oc(e.b,t),e.dispatchEvent(new Zu("tokenChanged")),mc(e,t[Gs]),Ec(e,"refreshToken",e.b.a))}function Ic(e,t){return Tc(e).then((function(){if(Q(Sc(e),t))return vc(e).then((function(){throw new k("provider-already-linked")}))}))}function Pc(e,t,n){return Qr({user:e,credential:Do(t),additionalUserInfo:t=Gi(t),operationType:n})}function Oc(e,t){return xc(e,t),e.reload().then((function(){return e}))}function Rc(e,t,n,i,o){if(!xr())return xt(new k("operation-not-supported-in-this-environment"));if(e.h&&!o)return xt(e.h);var s=zi(n.providerId),a=Lr(e.uid+":::"),l=null;(!Or()||vr())&&e.s&&n.isOAuthProvider&&(l=cl(e.s,e.l,e.m,t,n,null,a,r.a.SDK_VERSION||null,null,null,e.tenantId));var u=dr(l,s&&s.ua,s&&s.ta);return i=i().then((function(){if(Dc(e),!o)return e.I().then((function(){}))})).then((function(){return xu(e.i,u,t,n,a,!!l,e.tenantId)})).then((function(){return new _t((function(n,r){e.na(t,null,new k("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Ou(e.i,e,t,u,a)}))})).then((function(e){return u&&hr(u),e?Qr(e):null})).o((function(e){throw u&&hr(u),e})),Lc(e,i,o)}function Nc(e,t,n,r,i){if(!xr())return xt(new k("operation-not-supported-in-this-environment"));if(e.h&&!i)return xt(e.h);var o=null,s=Lr(e.uid+":::");return r=r().then((function(){if(Dc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=s,vc(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(jc,e.w(),t.a)),t})).then((function(){return Pu(e.i,t,n,s,e.tenantId)})).o((function(t){if(o=t,e.ha)return Vc(e.ha);throw o})).then((function(){if(o)throw o})),Lc(e,r,i)}function Dc(e){if(!e.i||!e.R){if(e.i&&!e.R)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Lc(e,t,n){var r=function(e,t,n){return e.h&&!n?(t.cancel(),xt(e.h)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.h||e.dispatchEvent(new Zu("userInvalidated")),e.h=t),t}))}(e,t,n);return e.J.push(r),r.oa((function(){$(e.J,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=$u(t.w(),fc(e),w(e.jc,e))),n||t}))}function Mc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Gs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new lc(t,n,e);return e.providerData&&z(e.providerData,(function(e){e&&Ac(i,Qr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Fc(e){this.a=e,this.b=Wl()}Gu.prototype.Rc=function(e){var t=this;return e.sb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[Wu],delete n[Ku],ve(n,e),t.g(n)}))},C(Qu,k),Yu.prototype.sb=function(e,t,n){return t.type==no?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),ve(n,{phoneVerificationInfo:Oo(e.a)}),$a(t,Ca,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return ve(n={mfaPendingCredential:n},{phoneVerificationInfo:Oo(e.a)}),$a(t,Ea,n)}))}(this,e,t)},C(Xu,Yu),C(Ju,Xu),C(Zu,$t),(e=ec.prototype).yc=function(e){tc(this,function(e){var t=[];return z(e.mfaInfo||[],(function(e){(e=Xr(e))&&t.push(e)})),t}(e.hd))},e.Rb=function(){return this.a.I().then((function(e){return new to(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Rb().then((function(n){return e.sb(r,n,t)})).then((function(e){return xc(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return $a(r,Qa,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return tc(t,r),xc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(e){return e.w()}))}}},nc.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=En(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return function(){var e=a.document,t=null;return Vr()||!e?Tt():new _t((function(n){t=function(){Vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},nc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?xt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?function(e,t){return function(e,t){return new _t((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ea(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Xa(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Yn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Vi(t.access_token),e.a=t.refresh_token,ic(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Tt(null):Tt({accessToken:this.b.toString(),refreshToken:this.a})},sc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(lc,_n),lc.prototype.wa=function(e){this.ya=e,Ys(this.a,e)},lc.prototype.la=function(){return this.ya},lc.prototype.Ga=function(){return J(this.$)},lc.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(lc.prototype,"providerId","firebase"),(e=lc.prototype).reload=function(){var e=this;return Lc(this,wc(this).then((function(){return Tc(e).then((function(){return vc(e)})).then(_c)})))},e.oc=function(e){return this.I(e).then((function(e){return new zu(e)}))},e.I=function(e){var t=this;return Lc(this,wc(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.za&&(mc(t,e.accessToken),t.dispatchEvent(new Zu("tokenChanged"))),Ec(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");bc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?W(e,(function(e){return new ac(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Ac(this,t[n]);Ec(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zu("userReloaded",{hd:e}))},e.Lc=function(e){return zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(e)},e.tb=function(e){var t=this,n=null;return Lc(this,e.c(this.a,this.uid).then((function(e){return xc(t,e),n=Pc(t,e,"reauthenticate"),t.h=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(e)},e.qb=function(e){var t=this,n=null;return Lc(this,Ic(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Pc(t,e,"link"),Oc(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Lc(this,Ic(this,"phone").then((function(){return Hu(fc(n),e,t,w(n.qb,n))})))},e.Mc=function(e,t){var n=this;return Lc(this,Tt().then((function(){return Hu(fc(n),e,t,w(n.tb,n))})),!0)},e.Bb=function(e){var t=this;return Lc(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return xc(t,e),t.reload()})))},e.ed=function(e){var t=this;return Lc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return xc(t,e),t.reload()})))},e.Cb=function(e){var t=this;return Lc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return xc(t,e),t.reload()})))},e.Db=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return wc(this);var t=this;return Lc(this,this.I().then((function(n){return t.a.Db(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return xc(t,e),Ec(t,"displayName",e.displayName||null),Ec(t,"photoURL",e.photoUrl||null),z(t.providerData,(function(e){"password"===e.providerId&&(Wr(e,"displayName",t.displayName),Wr(e,"photoURL",t.photoURL))})),vc(t)})).then(_c))},e.cd=function(e){var t=this;return Lc(this,Tc(this).then((function(n){return Q(Sc(t),e)?function(e,t,n){return $a(e,wa,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return z(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),z(Sc(t),(function(e){n[e]||Cc(t,e)})),n[Ro.PROVIDER_ID]||Wr(t,"phoneNumber",null),vc(t)})):vc(t).then((function(){throw new k("no-such-provider")}))})))},e.delete=function(){var e=this;return Lc(this,this.I().then((function(t){return $a(e.a,_a,{idToken:t})})).then((function(){e.dispatchEvent(new Zu("userDeleted"))}))).then((function(){for(var t=0;t<e.J.length;t++)e.J[t].cancel("app-deleted");uc(e,null),cc(e,null),dc(e,null),e.J=[],e.D=!0,gc(e),Wr(e,"refreshToken",null),e.i&&Eu(e.i,e)}))},e.Fb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==e&&t==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==e&&(this.ga||null)==t?w(this.Kb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?w(this.Lb,this):null},e.Ec=function(e){var t=this;return Rc(this,"linkViaPopup",e,(function(){return Ic(t,e.providerId).then((function(){return vc(t)}))}),!1)},e.Nc=function(e){return Rc(this,"reauthViaPopup",e,(function(){return Tt()}),!0)},e.Fc=function(e){var t=this;return Nc(this,"linkViaRedirect",e,(function(){return Ic(t,e.providerId)}),!1)},e.Oc=function(e){return Nc(this,"reauthViaRedirect",e,(function(){return Tt()}),!0)},e.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Lc(this,this.I().then((function(n){return fa(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Pc(i,e,"link"),Oc(i,e)})).then((function(){return o})))},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Lc(this,Tt().then((function(){return oo(pa(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Pc(i,e,"reauthenticate"),xc(i,e),i.h=null,i.reload()})).then((function(){return o})),!0)},e.ub=function(e){var t=this,n=null;return Lc(this,this.I().then((function(t){return n=t,void 0===e||pe(e)?{}:Mi(new ki(e))})).then((function(e){return t.a.ub(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Eb=function(e,t){var n=this,r=null;return Lc(this,this.I().then((function(e){return r=e,void 0===t||pe(t)?{}:Mi(new ki(t))})).then((function(t){return n.a.Eb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Lc(this,e=oo(Tt(e),n.uid).then((function(e){return t=Pc(n,e,"reauthenticate"),xc(n,e),n.h=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&ve(e,this.metadata.w()),z(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),ve(e,this.O.w()),e};var jc={name:"redirectUser",F:"session"};function Vc(e){return $l(e.b,jc,e.a)}function Uc(e){this.a=e,this.b=Wl(),this.c=null,this.f=function(e){var t=Hc("local"),n=Hc("session"),r=Hc("none");return function(e,t,n){var r=Ql(t,n),i=Kl(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Dr(a.localStorage.getItem(r))}catch(l){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(qc,e.a).then((function(e){return e?Hc(e):t}))}))}))})).then((function(t){return e.c=t,Bc(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Hc("local"),this.a,w(this.g,this))}function Bc(e,t){var n,r=[];for(n in zl)zl[n]!==t&&r.push($l(e.b,Hc(zl[n]),e.a));return r.push($l(e.b,qc,e.a)),function(e){return new _t((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},a=0;a<e.length;a++)It(e[a],S(o,a),s);else t(i)}))}(r)}Uc.prototype.g=function(){var e=this,t=Hc("local");Kc(this,(function(){return Tt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Bc(e,"local").then((function(){e.c=t}))}))}))};var qc={name:"persistence",F:"session"};function Hc(e){return{name:"authUser",F:e}}function zc(e,t){return Kc(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Gc(e){return Kc(e,(function(){return $l(e.b,e.c,e.a)}))}function Wc(e,t,n){return Kc(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Mc(e||{})}))}))}function Kc(e,t){return e.f=e.f.then(t,t),e.f}function Qc(e){if(this.l=!1,Wr(this,"settings",new Bu),Wr(this,"app",e),!nh(this).options||!nh(this).options.apiKey)throw new k("invalid-api-key");e=r.a.SDK_VERSION?Cr(r.a.SDK_VERSION):null,this.a=new Hs(nh(this).options&&nh(this).options.apiKey,R(x),e),this.R=[],this.s=[],this.O=[],this.hb=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),eh(this,null),this.i=new Uc(nh(this).options.apiKey+":"+nh(this).name),this.D=new Fc(nh(this).options.apiKey+":"+nh(this).name),this.$=sh(this,function(e){var t=nh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(jc,e.a).then((function(e){return e&&t&&(e.authDomain=t),Mc(e||{})}))}(e.D,nh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Vc(e.D)}));return sh(e,t)}(e).then((function(){return Wc(e.i,t,e.P)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return zc(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:Gc(e.i)}))):null})).then((function(t){eh(e,t||null)}));return sh(e,n)}(this)),this.h=sh(this,function(e){return e.$.then((function(){return Zc(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(Hc("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(e){var t=nh(e).options.authDomain,n=nh(e).options.apiKey;t&&xr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Du(t,n,nh(e).name,e.P),Cu(e.b,e),rh(e)&&yc(rh(e)),e.m){yc(e.m);var r=e.m;r.wa(e.la()),uc(r,e),hc(r=e.m,e.J),dc(r,e),Xs((r=e.m).a,e.P),cc(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,_n.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.yb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.P){var e=jn(this.P.url);e=Qr({protocol:e.c,host:e.a,port:e.g,options:Qr({disableWarnings:this.P.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.P=null}function $c(e){$t.call(this,"languageCodeChanged"),this.h=e}function Yc(e){$t.call(this,"emulatorConfigChanged"),this.c=e}function Xc(e){$t.call(this,"frameworkChanged"),this.f=e}function Jc(e){return e.Oa||xt(new k("auth-domain-config-required"))}function Zc(e){if(!xr())return xt(new k("operation-not-supported-in-this-environment"));var t=Jc(e).then((function(){return e.b.qa()})).then((function(e){return e?Qr(e):null}));return sh(e,t)}function eh(e,t){rh(e)&&(function(e,t){Y(e.S,(function(e){return e==t}))}(rh(e),e.Ba),hn(rh(e),"tokenChanged",e.ya),hn(rh(e),"userDeleted",e.za),hn(rh(e),"userInvalidated",e.Aa),gc(rh(e))),t&&(t.S.push(e.Ba),ln(t,"tokenChanged",e.ya),ln(t,"userDeleted",e.za),ln(t,"userInvalidated",e.Aa),0<e.u&&pc(t)),Wr(e,"currentUser",t),t&&(t.wa(e.la()),uc(t,e),hc(t,e.J),dc(t,e),Xs(t.a,e.P),cc(t,e))}function th(e,t){var n=null,r=null;return sh(e,t.then((function(t){return n=Do(t),r=Gi(t),function(e,t){var n={};return n.apiKey=nh(e).options.apiKey,n.authDomain=nh(e).options.authDomain,n.appName=nh(e).name,e.P&&(n.emulatorConfig=e.P),e.$.then((function(){return function(e,t,n,r){var i=new lc(e,t);return n&&(i.ha=n),r&&hc(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return rh(e)&&t.uid==rh(e).uid?(kc(rh(e),t),e.da(t)):(eh(e,t),yc(t),e.da(t))})).then((function(){oh(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=$u(t.w(),e,w(e.kc,e))),n||t})).then((function(){return Qr({user:rh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function nh(e){return e.app}function rh(e){return e.currentUser}function ih(e){return rh(e)&&rh(e)._lat||null}function oh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](ih(e));if(e.X!==e.getUid()&&e.O.length)for(e.X=e.getUid(),t=0;t<e.O.length;t++)e.O[t]&&e.O[t](ih(e))}}function sh(e,t){return e.R.push(t),t.oa((function(){$(e.R,t)})),t}function ah(){}function lh(){this.a={},this.b=1e12}Uc.prototype.xb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in zl)if(zl[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(br()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Al()&&"none"!==e)throw n;break;default:if(!Tr()&&"none"!==e)throw n}}(e),Kc(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Bc(n,e)})).then((function(){if(n.c=Hc(e),t)return n.b.set(n.c,t,n.a)})):Tt()}))},C(Qc,_n),C($c,$t),C(Yc,$t),C(Xc,$t),(e=Qc.prototype).xb=function(e){return sh(this,e=this.i.xb(e))},e.wa=function(e){this.aa===e||this.l||(this.aa=e,Ys(this.a,this.aa),this.dispatchEvent(new $c(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.P){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&gr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.P={url:e,ec:t},this.settings.ib=!0,Xs(this.a,this.P),this.dispatchEvent(new Yc(this.P))}},e.Gc=function(e){this.J.push(e),Zs(this.a,r.a.SDK_VERSION?Cr(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Xc(this.J))},e.Ga=function(){return J(this.J)},e.yb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:nh(this).options.apiKey,authDomain:nh(this).options.authDomain,appName:nh(this).name,currentUser:rh(this)&&rh(this).w()}},e.Fb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?w(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return th(i,da(i.a,o))}))},e.Xc=function(e){if(!xr())return xt(new k("operation-not-supported-in-this-environment"));var t=this,n=zi(e.providerId),i=Lr(),o=null;(!Or()||vr())&&nh(this).options.authDomain&&e.isOAuthProvider&&(o=cl(nh(this).options.authDomain,nh(this).options.apiKey,nh(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.P));var s=dr(o,n&&n.ua,n&&n.ta);return sh(this,n=Jc(this).then((function(n){return xu(n,s,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new _t((function(e,n){t.na("signInViaPopup",null,new k("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Ou(t.b,t,"signInViaPopup",s,i)}))})).then((function(e){return s&&hr(s),e?Qr(e):null})).o((function(e){throw s&&hr(s),e})))},e.Yc=function(e){if(!xr())return xt(new k("operation-not-supported-in-this-environment"));var t=this;return sh(this,Jc(this).then((function(){return function(e){return Kc(e,(function(){return e.b.set(qc,e.c.F,e.a)}))}(t.i)})).then((function(){return Pu(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.qa=function(){var e=this;return Zc(this).then((function(t){return e.b&&Fu(e.b.b),t})).o((function(t){throw e.b&&Fu(e.b.b),t}))},e.dd=function(e){if(!e)return xt(new k("null-user"));if(this.S!=e.tenantId)return xt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=nh(this).options.apiKey,n.authDomain=nh(this).options.authDomain,n.appName=nh(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new lc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&hc(t,r),kc(t,e),t}(e,n,t.D,t.Ga());return sh(this,this.h.then((function(){if(nh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return rh(t)&&e.uid==rh(t).uid?(kc(rh(t),e),t.da(e)):(eh(t,r),yc(r),t.da(r))})).then((function(){oh(t)})))},e.Ab=function(){var e=this;return sh(this,this.h.then((function(){return e.b&&Fu(e.b.b),rh(e)?(eh(e,null),Gc(e.i).then((function(){oh(e)}))):Tt()})))},e.Zc=function(){var e=this;return Wc(this.i,nh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=rh(e)&&t){n=rh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return kc(rh(e),t),rh(e).I();(rh(e)||t)&&(eh(e,t),t&&(yc(t),t.ha=e.D),e.b&&Cu(e.b,e),oh(e))}}))},e.da=function(e){return zc(this.i,e)},e.mc=function(){oh(this),this.da(rh(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()},e.kc=function(e){var t=this;return this.h.then((function(){return th(t,Tt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(rh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.O.push(t),sh(e,e.h.then((function(){!e.l&&Q(e.O,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(ih(e)))})))}(this,(function(){e.next(rh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(rh(r)):"function"==typeof e.next&&e.next(rh(r))})),this.hb(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(rh(r)):"function"==typeof e.next&&e.next(rh(r))})),this.bc(e,t,n)},e.nc=function(e){var t=this;return sh(this,this.h.then((function(){return rh(t)?rh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return th(t,$a(t.a,Ha,{token:e}))})).then((function(e){var n=e.user;return Ec(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return th(n,$a(n.a,za,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return th(n,$a(n.a,ya,{email:e,password:t}))}))},e.$a=function(e){var t=this;return this.h.then((function(){return th(t,e.ka(t.a))}))},e.Sc=function(e){return zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(e)},e.zb=function(){var e=this;return this.h.then((function(){var t=rh(e);if(t&&t.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(e,e.a.zb()).then((function(t){var n=t.user;return Ec(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return rh(this)&&rh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&rh(this)&&pc(rh(this))},e.Pc=function(e){var t=this;z(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&rh(this)&&gc(rh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),sh(this,this.h.then((function(){t.l||Q(t.s,e)&&e(ih(t))})))},e.removeAuthTokenListener=function(e){Y(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.i&&(e=this.i).b.removeListener(Hc("local"),e.a,this.ja),this.b&&(Eu(this.b,this),Fu(this.b.b)),Promise.resolve()},e.hc=function(e){return sh(this,function(e,t){return $a(e,ba,{identifier:t,continueUri:Ir()?lr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!xo(e)},e.wb=function(e,t){var n=this;return sh(this,Tt().then((function(){var e=new ki(t);if(!e.c)throw new k("argument-error",Ii+" must be true when sending sign in link to email");return Mi(e)})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.jd=function(e){return this.Ra(e).then((function(e){return e.data.email}))},e.nb=function(e,t){return sh(this,this.a.nb(e,t).then((function(){})))},e.Ra=function(e){return sh(this,this.a.Ra(e).then((function(e){return new ri(e)})))},e.jb=function(e){return sh(this,this.a.jb(e).then((function(){})))},e.vb=function(e,t){var n=this;return sh(this,Tt().then((function(){return void 0===t||pe(t)?{}:Mi(new ki(t))})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},e.Wc=function(e,t){return sh(this,Hu(this,e,t,w(this.$a,this)))},e.Vc=function(e,t){var n=this;return sh(this,Tt().then((function(){var r=t||lr(),i=To(e,r);if(!(r=xo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.$a(i)})))},ah.prototype.render=function(){},ah.prototype.reset=function(){},ah.prototype.getResponse=function(){},ah.prototype.execute=function(){};var uh=null;function ch(e,t){return(t=hh(t))&&e.a[t]||null}function hh(e){return(e=void 0===e?1e12:e)?e.toString():null}function dh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function fh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function ph(){}function gh(){}lh.prototype.render=function(e,t){return this.a[this.b.toString()]=new dh(e,t),this.b++},lh.prototype.reset=function(e){var t=ch(this,e);e=hh(e),t&&e&&(t.delete(),delete this.a[e])},lh.prototype.getResponse=function(e){return(e=ch(this,e))?e.getResponse():null},lh.prototype.execute=function(e){(e=ch(this,e))&&e.execute()},dh.prototype.getResponse=function(){return fh(this),this.b},dh.prototype.execute=function(){fh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},dh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Wr(ph,"FACTOR_ID","phone"),gh.prototype.g=function(){return uh||(uh=new lh),Tt(uh)},gh.prototype.c=function(){};var mh=null;function vh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new be(Ae,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bh=new jr(3e4,6e4);vh.prototype.g=function(e){var t=this;return new _t((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),bh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete a[t.a]},Tt(Ms(Te(yh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},vh.prototype.c=function(){this.b--};var _h=null;function wh(e,t,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=t,this.g=null,s?(mh||(mh=new gh),s=mh):(_h||(_h=new vh),s=_h),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Eh],!a.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hs(e,o||null,i||null),this.u=r||function(){return null};var l=this;this.l=[];var u=this.a[Sh];this.a[Sh]=function(e){if(kh(l,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=kr(u,a);"function"==typeof t&&t(e)}};var c=this.a[Ah];this.a[Ah]=function(){if(kh(l,null),"function"==typeof c)c();else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e()}}}var Sh="callback",Ah="expired-callback",Ch="sitekey",Eh="size";function kh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Th(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function xh(e){if(e.D)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ih(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Cr(r.a.SDK_VERSION,s):null,wh.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),s,R(x),i)}function Ph(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<t.length;s++)if(t[s].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Oh.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=Oh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(e=wh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Th(this,Tt().then((function(){if(Ir()&&!yr())return gr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,$a(e.s,Ra,{})})).then((function(t){e.a[Ch]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){xh(this);var e=this;return Th(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!at&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',ze(s.name),'"'),s.type){o.push(' type="',ze(s.type),'"');var a={};ve(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pt(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ut(o,s)),2<r.length&&ft(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){xh(this);var e=this;return Th(this,this.render().then((function(t){return new _t((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){Y(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){xh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){xh(this),this.D=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},C(Ih,wh);var Oh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Rh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Nh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Dh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Lh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Mh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Fh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){return!!t&&!(!t.ka||e&&t.providerId!==e)}}}function jh(e,t){return g(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Vh(e){return g(e)&&"string"==typeof e.uid}function Uh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Bh(e,t){for(var n in t){var r=t[n].name;e[r]=zh(r,e[n],t[n].j)}}function qh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Ph(e,[n],[r],!0),this[t]=r}),r,n,t[n].kb),enumerable:!0})}}function Hh(e,t,n,r){e[t]=zh(t,n,r)}function zh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Ph(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Bh(Qc.prototype,{jb:{name:"applyActionCode",j:[Rh("code")]},Ra:{name:"checkActionCode",j:[Rh("code")]},nb:{name:"confirmPasswordReset",j:[Rh("code"),Rh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Rh("email"),Rh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Rh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Rh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Uh(Dh(),Lh(),"nextOrObserver"),Lh("opt_error",!0),Lh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Uh(Dh(),Lh(),"nextOrObserver"),Lh("opt_error",!0),Lh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Rh("email"),Uh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Rh("email"),Dh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Rh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Fh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Fh()]},Tc:{name:"signInWithCustomToken",j:[Rh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Rh("email"),Rh("password")]},Vc:{name:"signInWithEmailLink",j:[Rh("email"),Rh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Uh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof lc)}},Mh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Rh("url"),Dh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Rh("code")]}}),qh(Qc.prototype,{lc:{name:"languageCode",kb:Uh(Rh(),Mh(),"languageCode")},ti:{name:"tenantId",kb:Uh(Rh(),Mh(),"tenantId")}}),(Qc.Persistence=zl).LOCAL="local",Qc.Persistence.SESSION="session",Qc.Persistence.NONE="none",Bh(lc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Nh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Nh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Fh()]},qb:{name:"linkWithCredential",j:[Fh()]},Dc:{name:"linkWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Fh()]},tb:{name:"reauthenticateWithCredential",j:[Fh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Rh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Uh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Rh(null,!0)]},cd:{name:"unlink",j:[Rh("provider")]},Bb:{name:"updateEmail",j:[Rh("email")]},Cb:{name:"updatePassword",j:[Rh("password")]},ed:{name:"updatePhoneNumber",j:[Fh("phone")]},Db:{name:"updateProfile",j:[Dh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Rh("email"),Uh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),Bh(lh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bh(_t.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),qh(Bu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Nh("appVerificationDisabledForTesting")}}),Bh(qu.prototype,{confirm:{name:"confirm",j:[Rh("verificationCode")]}}),Hh(io,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[ho,Eo,Po,lo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[Uh(Rh(),Dh(),"json")]),Hh(ko,"credential",(function(e,t){return new Co(e,t)}),[Rh("email"),Rh("password")]),Bh(Co.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(mo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(mo,"credential",vo,[Uh(Rh(),Dh(),"token")]),Hh(ko,"credentialWithLink",To,[Rh("email"),Rh("emailLink")]),Bh(yo.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(yo,"credential",bo,[Uh(Rh(),Dh(),"token")]),Bh(_o.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(_o,"credential",wo,[Uh(Rh(),Uh(Dh(),Mh()),"idToken"),Uh(Rh(),Mh(),"accessToken",!0)]),Bh(So.prototype,{Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(So,"credential",Ao,[Uh(Rh(),Dh(),"token"),Rh("secret",!0)]),Bh(go.prototype,{Ca:{name:"addScope",j:[Rh("scope")]},credential:{name:"credential",j:[Uh(Rh(),Uh(Dh(),Mh()),"optionsOrIdToken"),Uh(Rh(),Mh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Bh(uo.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(so.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),Hh(Ro,"credential",No,[Rh("verificationId"),Rh("verificationCode")]),Bh(Ro.prototype,{fb:{name:"verifyPhoneNumber",j:[Uh(Rh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?jh(e.session,no)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?jh(e.session,ro)&&Vh(e.multiFactorHint):e.session&&e.multiFactorUid?jh(e.session,ro)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),Bh(Io.prototype,{w:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(k.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(qo.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(Bo.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(Qu.prototype,{toJSON:{name:"toJSON",j:[Rh(null,!0)]}}),Bh(Gu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}}]}}),Bh(ec.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.sb}},Rh("displayName",!0)]},bd:{name:"unenroll",j:[Uh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Vh},Rh(),"multiFactorInfoIdentifier")]}}),Bh(Ih.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(vi,"parseLink",Ei,[Rh("link")]),Hh(ph,"assertion",(function(e){return new Ju(e)}),[Fh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:si,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Qc,AuthCredential:io,Error:k};Hh(e,"EmailAuthProvider",ko,[]),Hh(e,"FacebookAuthProvider",mo,[]),Hh(e,"GithubAuthProvider",yo,[]),Hh(e,"GoogleAuthProvider",_o,[]),Hh(e,"TwitterAuthProvider",So,[]),Hh(e,"OAuthProvider",go,[Rh("providerId")]),Hh(e,"SAMLAuthProvider",po,[Rh("providerId")]),Hh(e,"PhoneAuthProvider",Ro,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Qc)}}]),Hh(e,"RecaptchaVerifier",Ih,[Uh(Rh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.a.app.App)}}]),Hh(e,"ActionCodeURL",vi,[]),Hh(e,"PhoneMultiFactorGenerator",ph,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Qc(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:w((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:w(e.nc,e),addAuthTokenListener:w(e.cc,e),removeAuthTokenListener:w(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.6"),r.a.INTERNAL.extendNamespace({User:lc})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"7o/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),l=n("NJ4a");class u extends o.a{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!e){this.destination=i.a;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,e,t,n)}}[s.a](){return this}static create(e,t,n){const r=new u(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}class c extends u{constructor(e,t,n,o){let s;super(),this._parentSubscriber=e;let a=this;Object(r.a)(t)?s=t:t&&(s=t.next,n=t.error,o=t.complete,t!==i.a&&(a=Object.create(t),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(l.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(l.a)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}}__tryOrSetError(e,t,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},"8Y7J":function(e,t,n){"use strict";var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function l(){return function(e){return e.lift(new u(e))}}class u{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new c(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends a.a{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}const h=class extends o.a{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new i.a,e.add(this.source.subscribe(new f(this.getSubject(),this))),e.closed?(this._connection=null,e=i.a.EMPTY):this._connection=e),e}refCount(){return l()(this)}}.prototype,d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}};class f extends r.b{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function p(){return new r.a}function g(e,t,n){const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}n.d(t,"lb",(function(){return ss})),n.d(t,"mb",(function(){return as})),n.d(t,"nb",(function(){return ls})),n.d(t,"ob",(function(){return us})),n.d(t,"kb",(function(){return ro})),n.d(t,"jb",(function(){return zi})),n.d(t,"g",(function(){return Wo})),n.d(t,"R",(function(){return qo})),n.d(t,"x",(function(){return Bo})),n.d(t,"T",(function(){return Qe})),n.d(t,"X",(function(){return Ke})),n.d(t,"c",(function(){return no})),n.d(t,"B",(function(){return oo})),n.d(t,"A",(function(){return so})),n.d(t,"b",(function(){return ao})),n.d(t,"d",(function(){return eo})),n.d(t,"e",(function(){return to})),n.d(t,"V",(function(){return rs})),n.d(t,"L",(function(){return Do})),n.d(t,"Z",(function(){return Fo})),n.d(t,"t",(function(){return uo})),n.d(t,"f",(function(){return cs})),n.d(t,"m",(function(){return Xi})),n.d(t,"l",(function(){return ze})),n.d(t,"F",(function(){return yt})),n.d(t,"G",(function(){return vt})),n.d(t,"a",(function(){return Jt})),n.d(t,"P",(function(){return X})),n.d(t,"N",(function(){return Dn})),n.d(t,"M",(function(){return Ln})),n.d(t,"Qb",(function(){return S})),n.d(t,"S",(function(){return A})),n.d(t,"U",(function(){return x})),n.d(t,"q",(function(){return zt})),n.d(t,"Rb",(function(){return q})),n.d(t,"W",(function(){return H})),n.d(t,"n",(function(){return M})),n.d(t,"p",(function(){return L})),n.d(t,"o",(function(){return m})),n.d(t,"z",(function(){return v})),n.d(t,"H",(function(){return b})),n.d(t,"y",(function(){return To})),n.d(t,"C",(function(){return Rn})),n.d(t,"D",(function(){return Pn})),n.d(t,"E",(function(){return On})),n.d(t,"i",(function(){return mo})),n.d(t,"j",(function(){return An})),n.d(t,"k",(function(){return Tn})),n.d(t,"u",(function(){return K})),n.d(t,"w",(function(){return W})),n.d(t,"v",(function(){return Qo})),n.d(t,"I",(function(){return Xo})),n.d(t,"J",(function(){return $o})),n.d(t,"K",(function(){return Xn})),n.d(t,"O",(function(){return Zn})),n.d(t,"h",(function(){return Ut})),n.d(t,"r",(function(){return Wn})),n.d(t,"s",(function(){return Kn})),n.d(t,"Q",(function(){return on})),n.d(t,"Y",(function(){return os})),n.d(t,"yb",(function(){return sn})),n.d(t,"cb",(function(){return lo})),n.d(t,"ab",(function(){return qt})),n.d(t,"bb",(function(){return Cn})),n.d(t,"fb",(function(){return gt})),n.d(t,"gb",(function(){return wt})),n.d(t,"hb",(function(){return Je})),n.d(t,"wb",(function(){return D})),n.d(t,"Bb",(function(){return nn})),n.d(t,"Jb",(function(){return k})),n.d(t,"zb",(function(){return vn})),n.d(t,"Ab",(function(){return mn})),n.d(t,"vb",(function(){return $i})),n.d(t,"ub",(function(){return Yi})),n.d(t,"db",(function(){return Gi})),n.d(t,"eb",(function(){return Wi})),n.d(t,"Pb",(function(){return ae})),n.d(t,"Nb",(function(){return Zt})),n.d(t,"Tb",(function(){return ln})),n.d(t,"Sb",(function(){return un})),n.d(t,"Ob",(function(){return cn})),n.d(t,"Ub",(function(){return dn})),n.d(t,"ib",(function(){return hs})),n.d(t,"pb",(function(){return ri})),n.d(t,"qb",(function(){return Ra})),n.d(t,"rb",(function(){return mr})),n.d(t,"sb",(function(){return Ti})),n.d(t,"tb",(function(){return ds})),n.d(t,"xb",(function(){return Hr})),n.d(t,"Cb",(function(){return Yr})),n.d(t,"Db",(function(){return $r})),n.d(t,"Eb",(function(){return pi})),n.d(t,"Fb",(function(){return xi})),n.d(t,"Hb",(function(){return Ii})),n.d(t,"Gb",(function(){return As})),n.d(t,"Ib",(function(){return vs})),n.d(t,"Kb",(function(){return Cs})),n.d(t,"Lb",(function(){return gr})),n.d(t,"Mb",(function(){return Ts}));const m=g("Inject",e=>({token:e})),v=g("Optional"),y=g("Self"),b=g("SkipSelf");var _=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function w(e){for(let t in e)if(e[t]===w)return t;throw Error("Could not find renamed property on target object.")}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}const A=S;function C(e){const t=e[E];return t&&t.token===e?t:null}const E=w({ngInjectableDef:w});function k(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(k).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const T=w({__forward_ref__:w});function x(e){return e.__forward_ref__=x,e.toString=function(){return k(this())},e}function I(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(T)&&t.__forward_ref__===x?t():e}const P="undefined"!=typeof globalThis&&globalThis,O="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,N="undefined"!=typeof global&&global,D=P||N||O||R;class L{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.ngInjectableDef=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const M=new L("INJECTOR",-1),F=new Object,j=/\n/gm,V=w({provide:String,useValue:w});let U=void 0;function B(e){const t=U;return U=e,t}function q(e,t=_.Default){return function(e,t=_.Default){if(void 0===U)throw new Error("inject() must be called from an injection context");return null===U?function(e,t,n){const r=C(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&_.Optional)return null;throw new Error(`Injector: NOT_FOUND [${k(e)}]`)}(e,0,t):U.get(e,t&_.Optional?null:void 0,t)}(e,t)}const H=q;class z{get(e,t=F){if(t===F){const t=new Error(`NullInjectorError: No provider for ${k(e)}!`);throw t.name="NullInjectorError",t}return t}}function G(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=k(t);if(t instanceof Array)i=t.map(k).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):k(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(j,"\n  ")}`}class W{}class K{}function Q(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Y=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),X=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),J={},Z=[],ee=w({ngComponentDef:w}),te=w({ngDirectiveDef:w}),ne=w({ngPipeDef:w});let re=0;function ie(e){return function(e){return e[ee]||null}(e)||function(e){return e[te]||null}(e)}function oe(e){return function(e){return e[ne]||null}(e)}function se(e,t){if(null==e)return J;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const ae=function(e){const t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,consts:e.consts,vars:e.vars,factory:e.factory,template:e.template||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||X.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=""+{toString:()=>{const n=e.directives,o=e.features,s=e.pipes;i.id+=re++,i.inputs=se(e.inputs,r),i.outputs=se(e.outputs),o&&o.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(ie):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(oe):null,t.hasOwnProperty(E)||(t[E]=S({token:t,factory:e.factory}))}},i};let le=null;const ue=new Map;let ce,he=null;function de(e,t){return he&&e===he||(he=e,t&&(le=ue.get(e)||null),le=le||{classesBitMask:0,classesIndex:1,stylesBitMask:0,stylesIndex:1}),le}function fe(e,t){return function(e){for(;Array.isArray(e);)e=e[0];return e}(t[e.index])}function pe(e,t){return t[1].data[e+19]}function ge(){return ce}const me=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(D))();function ve(e,t){0===t?e[2]>0&&function(e){be(e,2|ye(e))}(e):e[2]=t}function ye(e){return e[1]}function be(e,t){e[1]=t}function _e(e,t){return e[t+2]}function we(e,t){return 1&e[t+0]}function Se(e,t){return(1&we(e,t))>0}function Ae(e,t){return e[t+0]>>1}function Ce(e,t,n){const r=we(e,t);e[t+0]=r|n<<1}function Ee(e,t){return e[t+1]}function ke(e,t,n){return e[t+3+n]}function Te(e,t){return!(!e||t!==e[2])}function xe(e){return(1&ye(e))>0}function Ie(e){return(2&ye(e))>0}function Pe(e){return 6+e[4]}function Oe(e,t){let n=Array.isArray(e)?e[0]:e,r=Array.isArray(t)?t[0]:t;return n instanceof String&&(n=n.toString()),r instanceof String&&(r=r.toString()),function(e,t){return!(e!=e&&t!=t)&&e!==t}(n,r)}function Re(e){return null!=e&&""!==e}function Ne(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function De(e){return Le(e)?e[0]:e}function Le(e){return Array.isArray(e)&&e.length>=6&&"string"!=typeof e[1]}function Me(e,t){return e[t+0]}function Fe(e,t,n){e[t+1]=n}function je(e,t){return e[t+1]}const Ve=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();function Ue(e){return!!e.listen}function Be(e){return e.ngDebugContext}function qe(e){return e.ngOriginalError}function He(e,...t){e.error(...t)}class ze{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||He}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Be(e)?Be(e):this._findContext(qe(e)):null}_findOriginalError(e){let t=qe(e);for(;t&&qe(t);)t=qe(t);return t}}let Ge=!0,We=!1;function Ke(){return We=!0,Ge}function Qe(){if(We)throw new Error("Cannot enable prod mode after platform setup.");Ge=!1}class $e{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ye=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Xe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Je(e){return(e=String(e)).match(Ye)||e.match(Xe)?e:(Ke()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Ze(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function et(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const tt=Ze("area,br,col,hr,img,wbr"),nt=Ze("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rt=Ze("rp,rt"),it=et(rt,nt),ot=et(tt,et(nt,Ze("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),et(rt,Ze("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),it),st=Ze("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),at=Ze("srcset"),lt=et(st,at,Ze("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ze("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ut=Ze("script,style,template");class ct{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ot.hasOwnProperty(t))return this.sanitizedSomething=!0,!ut.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!lt.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=e.value;st[o]&&(s=Je(s)),at[o]&&(r=s,s=(r=String(r)).split(",").map(e=>Je(e.trim())).join(", ")),this.buf.push(" ",t,'="',ft(s),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ot.hasOwnProperty(t)&&!tt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ft(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dt=/([^\#-~ |!])/g;function ft(e){return e.replace(/&/g,"&amp;").replace(ht,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(dt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pt;function gt(e,t){let n=null;try{pt=pt||new $e(e);let r=t?String(t):"";n=pt.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=pt.getInertBodyElement(r)}while(r!==o);const s=new ct,a=s.sanitizeChildren(mt(n)||n);return Ke()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=mt(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function mt(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const vt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();class yt{}const bt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),_t=/^url\(([^)]+)\)$/;function wt(e){if(!(e=String(e).trim()))return"";const t=e.match(_t);return t&&Je(t[1])===t[1]||e.match(bt)&&function(e){let t=!0,n=!0;for(let r=0;r<e.length;r++){const i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Ke()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}const St=/([A-Z])/g;function At(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}let Ct=[];function Et(e,t,n,r,i,o,s,a,l){xe(e)||(s?function(e,t,n,r,i){Ct.unshift(e,t,n,r,i)}(e,n,r,i,l):(Ct.length&&kt(),Tt(e,n,r,i,l)));const u=a||Oe(t[i],o);return u&&(t[i]=o),u}function kt(){let e=0;for(;e<Ct.length;)Tt(Ct[e++],Ct[e++],Ct[e++],Ct[e++],Ct[e++]);Ct.length=0}function Tt(e,t,n,r,i){let o=!1;if(n){let s=!1,a=Pe(e);for(;a<e.length;){const o=Ee(e,a),l=_e(e,a);if(s=n<=l,s){n<l&&xt(e,a,n,i),It(e,!1,a,r,t);break}a+=3+o}s||(xt(e,e.length,n,i),It(e,!1,a,r,t),o=!0)}else It(e,!0,3,r,t),o=!0;return o}function xt(e,t,n,r){e.splice(t,0,r?1:0,1,n,null),Ce(e,t,1)}function It(e,t,n,r,i){const o=n+3;let s=o+Ee(e,n);if(t||s--,"number"==typeof r){for(let t=o;t<=s;t++)if(e[t]===r)return;e.splice(s,0,r),e[n+1]++,Ce(e,n,Ae(e,n)|1<<i)}else null!==r&&null==e[s]&&(e[s]=r)}function Pt(e,t,n,r,i,o,s,a){return i&&r&&(function(e){if(!xe(e)){const t=De(e);t&&function(e,t){for(let n=1;n<t.length;n+=2){const r=je(t,n);r&&Tt(e,-1,Me(t,n),r,!1)}}(e,t),function(e){be(e,1|ye(e))}(e)}}(r),function(e,t){return e&&t>0}(r,o))?(function(e,t,n,r,i,o,s){const a=!0===(l=i)?-1:!1===l?0:l;var l;const u=Ot,c=(a&Ae(e,3))>0?1:0;let h=Pe(e);for(;h<e.length;){const i=Ee(e,h);if(a&Ae(e,h)){let a=!1;const l=_e(e,h),d=i-1,f=ke(e,h,d);for(let i=0;i<d;i++){const u=ke(e,h,i),c=r[u];if(Re(c)){o(t,n,l,s&&Se(e,h)?s(l,c,2):c,u),a=!0;break}}if(u){const i=u(e,t,n,r,o,s,c|(a?4:2),l,f);a=a||i}a||o(t,n,l,f)}h+=3+i}u&&u(e,t,n,r,o,s,c)}(r,e,t,n,o,s,a),!0):i}let Ot=null;const Rt=(e,t,n,r)=>{const i=t.style;r?(r=r.toString(),e&&Ue(e)?e.setStyle(t,n,r,Ve.DashCase):i&&i.setProperty(n,r)):e&&Ue(e)?e.removeStyle(t,n,Ve.DashCase):i&&i.removeProperty(n)},Nt=(e,t,n,r)=>{if(""!==n){const i=t.classList;r?e&&Ue(e)?e.addClass(t,n):i&&i.add(n):e&&Ue(e)?e.removeClass(t,n):i&&i.remove(n)}},Dt={},Lt=(e,t,n,r,i,o,s,a,l)=>{let u=!1;if(Ee(e,3)){let c=!0;const h=!a;h&&-2&s&&(c=!1,u=!0),c&&(u=function e(t,n,r,i,o,s,a,l,u,c){let h=!1;if(u<Ee(t,3)){const d=ke(t,3,u),f=i[d];let p=function(e){return e>=jt.length&&jt.push(1),jt[e]}(u);for(;p<f.length;){const g=Me(f,p),m=l&&g>l,v=!m&&g===l,y=je(f,p),b=Re(y);let _=e(t,n,r,i,o,s,m?a:Mt(a,b,v),m?l:g,u+1,c);if(m){h||(h=_);break}if(!_&&Ft(a,v)){const e=v&&!b,t=e?c:y,i=e?d:null;o(n,r,g,s?s(g,t,3):t,i),_=!0}h=_&&v,p+=2}if(jt[u]=p,1===f.length||!l)return e(t,n,r,i,o,s,a,l,u+1,c)}return h}(e,t,n,r,i,o,s,a||null,0,l||null)),h&&function(){for(let e=0;e<jt.length;e++)jt[e]=1}()}return u};function Mt(e,t,n){let r=e;return t||4&e||!(n||1&e)?(r|=4,r&=-3):(r|=2,r&=-5),r}function Ft(e,t){let n=(1&e)>0;return n?4&e&&t&&(n=!1):2&e&&(n=t),n}const jt=[];function Vt(e,t,n,r){for(let i=1;i<e.length;i+=2){const o=Me(e,i);if(t<=o){let s=!1;if(o===t){const t=e[i];!r&&Re(t)||(s=!0,Fe(e,i,n))}else s=!0,e.splice(i,0,t,n);return s}}return e.push(t,n),!0}let Ut=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Bt(),e})();const Bt=(...e)=>{},qt=new L("The presence of this token marks an injector as being the root injector."),Ht=function(e,t,n){return new $t(e,t,n)};let zt=(()=>{class e{static create(e,t){return Array.isArray(e)?Ht(e,t,""):Ht(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=F,e.NULL=new z,e.ngInjectableDef=S({token:e,providedIn:"any",factory:()=>q(M)}),e.__NG_ELEMENT_ID__=-1,e})();const Gt=function(e){return e},Wt=[],Kt=Gt,Qt=function(){return Array.prototype.slice.call(arguments)};class $t{constructor(e,t=zt.NULL,n=null){this.parent=t,this.source=n;const r=this._records=new Map;r.set(zt,{token:zt,fn:Gt,deps:Wt,value:this,useNew:!1}),r.set(M,{token:M,fn:Gt,deps:Wt,value:this,useNew:!1}),function e(t,n){if(n)if((n=I(n))instanceof Array)for(let r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw Xt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Xt("Unexpected provider",n);{let e=I(n.provide);const r=function(e){const t=function(e){let t=Wt;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let r=6,i=I(n[e]);if(i instanceof Array)for(let e=0,t=i;e<t.length;e++){const n=t[e];n instanceof v||n==v?r|=1:n instanceof b||n==b?r&=-3:n instanceof y||n==y?r&=-5:i=n instanceof m?n.token:I(n)}t.push({token:i,options:r})}}else if(e.useExisting)t=[{token:I(e.useExisting),options:6}];else if(!n&&!(V in e))throw Xt("'deps' required",e);return t}(e);let n=Gt,r=Wt,i=!1,o=I(e.provide);if(V in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=I(e.useClass);else{if("function"!=typeof o)throw Xt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=t.get(e);if(r){if(r.fn!==Qt)throw Yt(e)}else t.set(e,r={token:n.provide,deps:[],useNew:!1,fn:Qt,value:Wt});e=n,r.deps.push({token:e,options:6})}const i=t.get(e);if(i&&i.fn==Qt)throw Yt(e);t.set(e,r)}}}(r,e)}get(e,t,n=_.Default){const r=this._records.get(e);try{return function e(t,n,r,i,o,s){try{return function(t,n,r,i,o,s){let a;if(!n||s&_.SkipSelf)s&_.Self||(a=i.get(t,o,_.Default));else{if(a=n.value,a==Kt)throw Error("\u0275Circular dependency");if(a===Wt){n.value=Kt;let t=void 0,o=n.useNew,s=n.fn,l=n.deps,u=Wt;if(l.length){u=[];for(let t=0;t<l.length;t++){const n=l[t],o=n.options,s=2&o?r.get(n.token):void 0;u.push(e(n.token,s,r,s||4&o?i:zt.NULL,1&o?null:zt.THROW_IF_NOT_FOUND,_.Default))}}n.value=a=o?new s(...u):s.apply(t,u)}}return a}(t,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(t),n&&n.value==Kt&&(n.value=Wt),a}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){const i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=G("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(k(n))),`StaticInjector[${e.join(", ")}]`}}function Yt(e){return Xt("Cannot mix multi providers and regular providers",e)}function Xt(e,t){return new Error(G(e,t,"StaticInjectorError"))}const Jt=new L("AnalyzeForEntryComponents");function Zt(e){const t=(void 0)[1];t.firstTemplatePass&&(function(e,t,n){const r=e.expandoInstructions,i=r.length;i>=2&&r[i-2]===null.hostBindings?r[i-1]=r[i-1]+n:r.push(null.hostBindings,n)}(t,0,e),function(e,t,n){for(let r=0;r<n;r++)(void 0).push(Dt),e.blueprint.push(Dt),e.data.push(null)}(t,0,e))}let en=null;function tn(){if(!en){const e=D.Symbol;if(e&&e.iterator)en=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(en=n)}}}return en}function nn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function rn(e,t){const n=sn(e),r=sn(t);if(n&&r)return function(e,t,n){const r=e[tn()](),i=t[tn()]();for(;;){const e=r.next(),t=i.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,rn);{const i=e&&("object"==typeof e||"function"==typeof e),o=t&&("object"==typeof t||"function"==typeof t);return!(n||!i||r||!o)||nn(e,t)}}class on{constructor(e){this.wrapped=e}static wrap(e){return new on(e)}static unwrap(e){return on.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof on}}function sn(e){return!!an(e)&&(Array.isArray(e)||!(e instanceof Map)&&tn()in e)}function an(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ln(){(void 0)[1].firstTemplatePass&&(1,ve(pn(void 0),1),ve(fn(void 0),1))}function un(e){const t=pe(-1,void 0),n=fn(t),r=(void 0)[7]++;hn(-1,n,r,e,!1,!1)}function cn(e){!function(e,t){const n=pe(-1,void 0),r=pn(n),i=(void 0)[7]++;hn(-1,r,i,t,!0,!1)}(0,e)}function hn(e,t,n,r,i,o){Ot=Lt;let s=!1;if(r!==Dt){const a=fe(pe(e,void 0),void 0),l=(void 0)[n];s=Oe(l,r);const u=function(e,t,n){const r=Array.isArray(e)?e:[null];r[0]=t||null;for(let a=1;a<r.length;a+=2)Fe(r,a,null);let i,o=null,s=!1;if("string"==typeof t?t.length&&(o=t.split(/\s+/),s=!0):(o=t?Object.keys(t):null,i=t),o)for(let a=0;a<o.length;a++){const e=o[a];Vt(r,n?Ne(e):e,!!s||i[e],!0)}return r}(l,r,!i);i?function(e,t,n,r,i,o,s,a){const l=de(n,Ie(e));!Et(e,void 0,0,null,i,o,s,a,!1)&&!a||(l.classesBitMask|=1)}(t,0,a,0,n,u,o,s):function(e,t,n,r,i,o,s,a,l){const u=de(n,Ie(e));!Et(e,void 0,0,null,i,o,a,l,!0)&&!l||(u.stylesBitMask|=1)}(t,0,a,0,n,u,ge(),o,s)}return s}function dn(){const e=pe(-1,void 0),t=function(e,t){return 3===e.type?(void 0)[12]:null}(e),n=fe(e,void 0),r=ge();(function(e,t,n,r,i,o,s){const a=n?Ie(n):!!r&&Ie(r),l=Te(n,o),u=Te(r,o);Ct.length&&(l||u)&&kt();const c=de(i,a),h=Pt(e,i,t,n,l,c.classesBitMask,Nt,null),d=Pt(e,i,t,r,u,c.stylesBitMask,Rt,s);h&&d?(le=null,he=null,a&&function(e){ue.delete(e)}(i)):a&&function(e,t){ue.set(e,t)}(i,c)})(t,void 0,pn(e),fn(e),n,1,r),ce=null}function fn(e){return gn(e,!1)}function pn(e){return gn(e,!0)}function gn(e,t){let n=t?e.classes:e.styles;return Le(n)||(n=[n||[""],0,0,1,0,"--MAP--"],t?e.classes=n:e.styles=n),n}function mn(e){return!!e&&"function"==typeof e.then}function vn(e){return!!e&&"function"==typeof e.subscribe}class yn{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}class bn{}function _n(e){const t=Error(`No component factory found for ${k(e)}. Did you add it to @NgModule.entryComponents?`);return t[wn]=e,t}const wn="ngComponent";class Sn{resolveComponentFactory(e){throw _n(e)}}let An=(()=>{class e{}return e.NULL=new Sn,e})();class Cn{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let r=0;r<e.length;r++){const t=e[r];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw _n(e);return new En(t,this._ngModule)}}class En extends bn{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}function kn(...e){}let Tn=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>xn(e),e})();const xn=kn;class In{}class Pn{}const On=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Rn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Nn(),e})();const Nn=kn;class Dn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ln=new Dn("8.2.14");class Mn{constructor(){}supports(e){return sn(e)}create(e){return new jn(e)}}const Fn=(e,t)=>t;class jn{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Fn}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<qn(n,r,i)?t:n,s=qn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!sn(e))throw new Error(`Error trying to diff '${k(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&nn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),nn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[tn()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&nn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),nn(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(nn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(nn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Vn(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Bn),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Vn{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Un{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&nn(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Bn{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Un,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qn(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Hn{constructor(){}supports(e){return e instanceof Map||an(e)}create(){return new zn}}class zn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||an(e)))throw new Error(`Error trying to diff '${k(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gn(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){nn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Gn{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Wn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new b,new v]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.ngInjectableDef=S({token:e,providedIn:"root",factory:()=>new e([new Mn])}),e})(),Kn=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new b,new v]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.ngInjectableDef=S({token:e,providedIn:"root",factory:()=>new e([new Hn])}),e})();const Qn=[new Hn],$n=new Wn([new Mn]),Yn=new Kn(Qn);let Xn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Jn(e,Tn),e})();const Jn=kn;let Zn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>er(e,Tn),e})();const er=kn;function tr(e,t,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return nr(n,t),n}(i,e)}function nr(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function rr(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function ir(e,t,n){const r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function or(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function sr(e,t){return e.nodes[t]}function ar(e,t){return e.nodes[t]}function lr(e,t){return e.nodes[t]}function ur(e,t){return e.nodes[t]}function cr(e,t){return e.nodes[t]}const hr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},dr=()=>{},fr=new Map;function pr(e){let t=fr.get(e);return t||(t=k(e)+"_"+fr.size,fr.set(e,t)),t}function gr(e,t,n,r){if(on.isWrapped(r)){r=on.unwrap(r);const i=e.def.nodes[t].bindingIndex+n,o=on.unwrap(e.oldValues[i]);e.oldValues[i]=new on(o)}return r}function mr(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let vr=0;function yr(e,t,n,r){return!(!(2&e.state)&&nn(e.oldValues[t.bindingIndex+n],r))}function br(e,t,n,r){return!!yr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function _r(e,t,n,r){const i=e.oldValues[t.bindingIndex+n];if(1&e.state||!rn(i,r)){const o=t.bindings[n].name;throw tr(hr.createDebugContext(e,t.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&e.state))}}function wr(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Sr(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Ar(e,t,n,r){try{return wr(33554432&e.def.nodes[t].flags?ar(e,t).componentView:e),hr.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Cr(e){return e.parent?ar(e.parent,e.parentNodeDef.nodeIndex):null}function Er(e){return e.parent?e.parentNodeDef.parent:null}function kr(e,t){switch(201347067&t.flags){case 1:return ar(e,t.nodeIndex).renderElement;case 2:return sr(e,t.nodeIndex).renderText}}function Tr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function xr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ir(e){return 1<<e%32}function Pr(e){const t={};let n=0;const r={};return e&&e.forEach(([e,i])=>{"number"==typeof e?(t[e]=i,n|=Ir(e)):r[e]=i}),{matchedQueries:t,references:r,matchedQueryIds:n}}function Or(e,t){return e.map(e=>{let n,r;return Array.isArray(e)?[r,n]=e:(r=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,"__source",{value:t,configurable:!0}),{flags:r,token:n,tokenKey:pr(n)}})}function Rr(e,t,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===X.Native?ar(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Nr=new WeakMap;function Dr(e){let t=Nr.get(e);return t||(t=e(()=>dr),t.factory=e,Nr.set(e,t)),t}function Lr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(kr(e,e.def.lastRenderRootNode))),Mr(e,t,0,e.def.nodes.length-1,n,r,i)}function Mr(e,t,n,r,i,o,s){for(let a=n;a<=r;a++){const n=e.def.nodes[a];11&n.flags&&jr(e,n,t,i,o,s),a+=n.childCount}}function Fr(e,t,n,r,i,o){let s=e;for(;s&&!Tr(s);)s=s.parent;const a=s.parent,l=Er(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const e=a.def.nodes[c];e.ngContentIndex===t&&jr(a,e,n,r,i,o),c+=e.childCount}if(!a.parent){const s=e.root.projectableNodes[t];if(s)for(let t=0;t<s.length;t++)Vr(e,s[t],n,r,i,o)}}function jr(e,t,n,r,i,o){if(8&t.flags)Fr(e,t.ngContent.index,n,r,i,o);else{const s=kr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Vr(e,s,n,r,i,o),32&t.bindingFlags&&Vr(ar(e,t.nodeIndex).componentView,s,n,r,i,o)):Vr(e,s,n,r,i,o),16777216&t.flags){const s=ar(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<s.length;e++)Lr(s[e],n,r,i,o)}1&t.flags&&!t.element.name&&Mr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Vr(e,t,n,r,i,o){const s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}const Ur=/^:([^:]+):(.+)$/;function Br(e){if(":"===e[0]){const t=e.match(Ur);return[t[1],t[2]]}return["",e]}function qr(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function Hr(e,t,n,r,i,o,s,a,l,u,c,h,d,f,p,g,m,v,y,b){switch(e){case 1:return t+zr(n)+r;case 2:return t+zr(n)+r+zr(i)+o;case 3:return t+zr(n)+r+zr(i)+o+zr(s)+a;case 4:return t+zr(n)+r+zr(i)+o+zr(s)+a+zr(l)+u;case 5:return t+zr(n)+r+zr(i)+o+zr(s)+a+zr(l)+u+zr(c)+h;case 6:return t+zr(n)+r+zr(i)+o+zr(s)+a+zr(l)+u+zr(c)+h+zr(d)+f;case 7:return t+zr(n)+r+zr(i)+o+zr(s)+a+zr(l)+u+zr(c)+h+zr(d)+f+zr(p)+g;case 8:return t+zr(n)+r+zr(i)+o+zr(s)+a+zr(l)+u+zr(c)+h+zr(d)+f+zr(p)+g+zr(m)+v;case 9:return t+zr(n)+r+zr(i)+o+zr(s)+a+zr(l)+u+zr(c)+h+zr(d)+f+zr(p)+g+zr(m)+v+zr(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function zr(e){return null!=e?e.toString():""}const Gr=new Object,Wr=pr(zt),Kr=pr(M),Qr=pr(W);function $r(e,t,n,r){return n=I(n),{index:-1,deps:Or(r,k(t)),flags:e,token:t,value:n}}function Yr(e){const t={},n=[];let r=!1;for(let i=0;i<e.length;i++){const o=e[i];o.token===qt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[pr(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function Xr(e,t,n=zt.THROW_IF_NOT_FOUND){const r=B(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const s=t.tokenKey;switch(s){case Wr:case Kr:case Qr:return e}const a=e._def.providersByKey[s];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=Jr(e,a)),t===Gr?void 0:t}if((l=C(t.token))&&(i=e,null!=(o=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(i,o.providedIn)||"root"===o.providedIn&&i._def.isRoot))){const n=e._providers.length;return e._def.providers[n]=e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=Gr,e._providers[n]=Jr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{B(r)}var i,o}function Jr(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const r=n.length;switch(r){case 0:return new t;case 1:return new t(Xr(e,n[0]));case 2:return new t(Xr(e,n[0]),Xr(e,n[1]));case 3:return new t(Xr(e,n[0]),Xr(e,n[1]),Xr(e,n[2]));default:const i=new Array(r);for(let t=0;t<r;t++)i[t]=Xr(e,n[t]);return new t(...i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const r=n.length;switch(r){case 0:return t();case 1:return t(Xr(e,n[0]));case 2:return t(Xr(e,n[0]),Xr(e,n[1]));case 3:return t(Xr(e,n[0]),Xr(e,n[1]),Xr(e,n[2]));default:const i=Array(r);for(let t=0;t<r;t++)i[t]=Xr(e,n[t]);return t(...i)}}(e,t.value,t.deps);break;case 2048:n=Xr(e,t.deps[0]);break;case 256:n=t.value}return n===Gr||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Gr:n}function Zr(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const r=n[t];return r.viewContainerParent=null,$(n,t),hr.dirtyParentQueries(r),ti(r),r}function ei(e,t,n){const r=t?kr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Lr(n,2,i,o,void 0)}function ti(e){Lr(e,3,null,null,void 0)}const ni=new Object;function ri(e,t,n,r,i,o){return new ii(e,t,n,r,i,o)}class ii extends bn{constructor(e,t,n,r,i,o){super(),this.selector=e,this.componentType=t,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t)e.push({propName:n,templateName:t[n]});return e}get outputs(){const e=[];for(let t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}create(e,t,n,r){if(!r)throw new Error("ngModule should be provided");const i=Dr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=hr.createRootView(e,t||[],n,i,r,ni),a=lr(s,o).instance;return n&&s.renderer.setAttribute(ar(s,0).renderElement,"ng-version",Ln.full),new oi(s,new ui(s),a)}}class oi extends class{}{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Tn(ar(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new fi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function si(e,t,n){return new ai(e,t,n)}class ai{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Tn(this._data.renderElement)}get injector(){return new fi(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=Er(e),e=e.parent;return e?new fi(e,t):new fi(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=Zr(this._data,e);hr.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new ui(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;i||e instanceof En||(i=o.get(W));const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e;return function(e,t,n,r){let i=t.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=e,Q(i,n,r),function(e,t){const n=Cr(t);if(!n||n===e||16&t.state)return;t.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,r),hr.dirtyParentQueries(r),ei(t,n>0?i[n-1]:null,r)}(this._view,this._data,t,n._view),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const r=e.viewContainer._embeddedViews,i=r[t];$(r,t),null==n&&(n=r.length),Q(r,n,i),hr.dirtyParentQueries(i),ti(i),ei(e,n>0?r[n-1]:null,i)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=Zr(this._data,e);t&&hr.destroyView(t)}detach(e){const t=Zr(this._data,e);return t?new ui(t):null}}function li(e){return new ui(e)}class ui{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return Lr(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){wr(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{hr.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){hr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),hr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ti(this._view),hr.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function ci(e,t){return new hi(e,t)}class hi extends Xn{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new ui(hr.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Tn(ar(this._parentView,this._def.nodeIndex).renderElement)}}function di(e,t){return new fi(e,t)}class fi{constructor(e,t){this.view=e,this.elDef=t}get(e,t=zt.THROW_IF_NOT_FOUND){return hr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:pr(e)},t)}}function pi(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=ar(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return sr(e,n.nodeIndex).renderText;if(20240&n.flags)return lr(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function gi(e){return new mi(e.renderer)}class mi{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,r]=Br(t),i=this.delegate.createElement(r,n);return e&&this.delegate.appendChild(e,i),i}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e);for(let i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[r,i]=Br(t);null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function vi(e,t,n,r){return new yi(e,t,n,r)}class yi{constructor(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let r=0;r<t.providers.length;r++){const i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Jr(e,i))}}(this)}get(e,t=zt.THROW_IF_NOT_FOUND,n=_.Default){let r=0;return n&_.SkipSelf?r|=1:n&_.Self&&(r|=4),Xr(this,{token:e,tokenKey:pr(e),flags:r},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(An)}destroy(){if(this._destroyed)throw new Error(`The ng module ${k(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const t=e._providers[i];if(t&&t!==Gr){const e=t.ngOnDestroy;"function"!=typeof e||r.has(t)||(e.apply(t),r.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const bi=pr(In),_i=pr(Rn),wi=pr(Tn),Si=pr(Zn),Ai=pr(Xn),Ci=pr(Ut),Ei=pr(zt),ki=pr(M);function Ti(e,t,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[e,t]=s[c];l[e]={flags:8,name:c,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return Pi(e,t|=16384,n,r,i,i,o,l,u)}function xi(e,t,n){return Pi(-1,e|=16,null,0,t,t,n)}function Ii(e,t,n,r,i){return Pi(-1,e,t,0,n,r,i)}function Pi(e,t,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Pr(n);l||(l=[]),a||(a=[]),o=I(o);const d=Or(s,k(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:qr(a),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Oi(e,t){return Li(e,t)}function Ri(e,t){let n=e;for(;n.parent&&!Tr(n);)n=n.parent;return Mi(n.parent,Er(n),!0,t.provider.value,t.provider.deps)}function Ni(e,t){const n=Mi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const i=t.outputs[r],o=n[i.propName];if(!vn(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(Di(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function Di(e,t,n){return r=>Ar(e,t,n,r)}function Li(e,t){const n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Mi(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(ji(e,t,n,i[0]));case 2:return r(ji(e,t,n,i[0]),ji(e,t,n,i[1]));case 3:return r(ji(e,t,n,i[0]),ji(e,t,n,i[1]),ji(e,t,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=ji(e,t,n,i[r]);return r(...s)}}(e,t.parent,n,r.value,r.deps);case 2048:return ji(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Mi(e,t,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(ji(e,t,n,i[0]));case 2:return new r(ji(e,t,n,i[0]),ji(e,t,n,i[1]));case 3:return new r(ji(e,t,n,i[0]),ji(e,t,n,i[1]),ji(e,t,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=ji(e,t,n,i[r]);return new r(...s)}}const Fi={};function ji(e,t,n,r,i=zt.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=e;2&r.flags&&(i=null);const s=r.tokenKey;s===Ci&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(s){case bi:return gi(Vi(a,t,n));case _i:return Vi(a,t,n).renderer;case wi:return new Tn(ar(a,t.nodeIndex).renderElement);case Si:return ar(a,t.nodeIndex).viewContainer;case Ai:if(t.element.template)return ar(a,t.nodeIndex).template;break;case Ci:return li(Vi(a,t,n));case Ei:case ki:return di(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[s];if(e){let t=lr(a,e.nodeIndex);return t||(t={instance:Li(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Tr(a),t=Er(a),a=a.parent,4&r.flags&&(a=null)}const l=o.root.injector.get(r.token,Fi);return l!==Fi||i===Fi?l:o.root.ngModule.injector.get(r.token,i)}function Vi(e,t,n){let r;if(n)r=ar(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Tr(r);)r=r.parent;return r}function Ui(e,t,n,r,i,o){if(32768&n.flags){const t=ar(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const t=on.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new yn(t,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Bi(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&t&&Hi(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=qi(e,s,t,r)),s=s.parent}}function qi(e,t,n,r){for(let i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){const t=e.def.nodes[i];t.flags&n&&Hi(e,i,t.flags&n,r++),i+=t.childCount}return r}function Hi(e,t,n,r){const i=lr(e,t);if(!i)return;const o=i.instance;o&&(hr.setCurrentNode(e,t),1048576&n&&or(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&or(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const zi=new L("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>me}),Gi={},Wi=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Ki=void 0;var Qi=["en",[["a","p"],["AM","PM"],Ki],[["AM","PM"],Ki,Ki],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ki,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ki,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ki,"{1} 'at' {0}",Ki],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function $i(e){return Yi(e)[Wi.PluralCase]}function Yi(e){const t=e.toLowerCase().replace(/_/g,"-");let n=Gi[t];if(n)return n;const r=t.split("-")[0];if(n=Gi[r],n)return n;if("en"===r)return Qi;throw new Error(`Missing locale data for the locale "${e}".`)}class Xi extends r.a{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r,o=e=>null,s=()=>null;e&&"object"==typeof e?(r=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(o=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(s=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(o=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return e instanceof i.a&&e.add(a),a}}function Ji(){return this._results[tn()]()}class Zi{constructor(){this.dirty=!0,this._results=[],this.changes=new Xi,this.length=0;const e=tn(),t=Zi.prototype;t[e]||(t[e]=Ji)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const eo=new L("Application Initializer");class to{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();mn(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}const no=new L("AppId");function ro(){return`${io()}${io()}${io()}`}function io(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oo=new L("Platform Initializer"),so=new L("Platform ID"),ao=new L("appBootstrapListener");class lo{log(e){console.log(e)}warn(e){console.warn(e)}}const uo=new L("LocaleId");function co(){throw new Error("Runtime compiler is not loaded")}const ho=co,fo=co,po=co,go=co;class mo{constructor(){this.compileModuleSync=ho,this.compileModuleAsync=fo,this.compileModuleAndAllComponentsSync=po,this.compileModuleAndAllComponentsAsync=go}clearCache(){}clearCacheFor(e){}getModuleId(e){}}class vo{}let yo,bo;function _o(){const e=D.wtf;return!(!e||(yo=e.trace,!yo)||(bo=yo.events,0))}const wo=_o();function So(e,t){return null}const Ao=wo?function(e,t=null){return bo.createScope(e,t)}:(e,t)=>So,Co=wo?function(e,t){return yo.leaveScope(e,t),t}:(e,t)=>t,Eo=(()=>Promise.resolve(0))();function ko(e){"undefined"==typeof Zone?Eo.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class To{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi(!1),this.onMicrotaskEmpty=new Xi(!1),this.onStable=new Xi(!1),this.onError=new Xi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var t;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,i,o,s)=>{try{return Oo(t),e.invokeTask(r,i,o,s)}finally{Ro(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Oo(t),e.invoke(r,i,o,s,a)}finally{Ro(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,Po(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!To.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(To.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Io,xo,xo);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function xo(){}const Io={};function Po(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Oo(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ro(e){e._nesting--,Po(e)}class No{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi,this.onMicrotaskEmpty=new Xi,this.onStable=new Xi,this.onError=new Xi}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class Do{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{To.assertNotInAngularZone(),ko(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ko(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}class Lo{constructor(){this._applications=new Map,Vo.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Vo.findTestabilityInTree(this,e,t)}}class Mo{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Fo(e){Vo=e}let jo,Vo=new Mo;const Uo=new L("AllowMultipleToken");class Bo{constructor(e,t){this.name=e,this.token=t}}function qo(e,t,n=[]){const r="Platform: "+t,i=new L(r);return(t=[])=>{let o=Ho();if(!o||o.injector.get(Uo,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(jo&&!jo.destroyed&&!jo.injector.get(Uo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");jo=e.get(zo);const t=e.get(oo,null);t&&t.forEach(e=>e())}(zt.create({providers:e,name:r}))}return function(e){const t=Ho();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Ho(){return jo&&!jo.destroyed?jo:null}class zo{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;return t="noop"===e?new No:("zone.js"===e?void 0:e)||new To({enableLongStackTrace:Ke()}),t}(t?t.ngZone:void 0),r=[{provide:To,useValue:n}];return n.run(()=>{const t=zt.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(ze,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Ko(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const r=n();return mn(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(to);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Go({},t);return function(e,t,n){return e.get(vo).createCompiler([t]).compileModuleAsync(n)}(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Wo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${k(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Go(e,t){return Array.isArray(t)?t.reduce(Go,e):Object.assign({},e,t)}let Wo=(()=>{class e{constructor(e,t,n,r,i,a){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ke(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new o.a(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{To.assertNotInAngularZone(),ko(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{To.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,c.pipe(e=>{return l()((t=p,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,d);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof bn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n instanceof En?null:this._injector.get(W),i=n.create(zt.NULL,[],t||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Do,null);return o&&i.injector.get(Lo).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Ke()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const t=e._tickScope();try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Co(t)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ko(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ao,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Ko(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e._tickScope=Ao("ApplicationRef#tick()"),e})();function Ko(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Qo{}class $o{}const Yo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Xo{constructor(e,t){this._compiler=e,this._config=t||Yo}load(e){return this._compiler instanceof mo?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n("zn8P")(t).then(e=>e[r]).then(e=>Jo(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>Jo(e,t,r))}}function Jo(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}class Zo{constructor(e,t){this.name=e,this.callback=t}}class es{constructor(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof ts&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class ts extends es{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(t=>{t.parent&&t.parent.removeChild(t),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,r){t.childNodes.forEach(t=>{t instanceof ts&&(n(t)&&r.push(t),e(t,n,r))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,r){t instanceof ts&&t.childNodes.forEach(t=>{n(t)&&r.push(t),t instanceof ts&&e(t,n,r)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof ts)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const ns=new Map,rs=function(e){return ns.get(e)||null};function is(e){ns.set(e.nativeNode,e)}const os=qo(null,"core",[{provide:so,useValue:"unknown"},{provide:zo,deps:[zt]},{provide:Lo,deps:[]},{provide:lo,deps:[]}]);function ss(){return $n}function as(){return Yn}function ls(e){return e||"en-US"}function us(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}class cs{constructor(e){}}function hs(e,t,n,r,i,o){e|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=Pr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Dr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||dr},provider:null,text:null,query:null,ngContent:null}}function ds(e,t,n,r,i,o,s=[],a,l,u,c,h){u||(u=dr);const{matchedQueries:d,references:f,matchedQueryIds:p}=Pr(n);let g=null,m=null;o&&([g,m]=Br(o)),a=a||[];const v=new Array(a.length);for(let _=0;_<a.length;_++){const[e,t,n]=a[_],[r,i]=Br(t);let o=void 0,s=void 0;switch(15&e){case 4:s=n;break;case 1:case 8:o=n}v[_]={flags:e,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const y=new Array(l.length);for(let _=0;_<l.length;_++){const[e,t]=l[_];y[_]={type:0,target:e,eventName:t,propName:null}}const b=(s=s||[]).map(([e,t])=>{const[n,r]=Br(e);return[n,r,t]});return h=function(e){if(e&&"$$undefined"===e.id){const t=null!=e.encapsulation&&e.encapsulation!==X.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+vr++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(h),c&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:p,references:f,ngContentIndex:r,childCount:i,bindings:v,bindingFlags:qr(v),outputs:y,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||dr},provider:null,text:null,query:null,ngContent:null}}function fs(e,t,n){const r=n.element,i=e.root.selectorOrNode,o=e.renderer;let s;if(e.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Rr(e,t,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===X.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[e,t,n]=r.attrs[a];o.setAttribute(s,t,n,e)}return s}function ps(e,t,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],l=gs(e,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let u=a.target,c=e;"component"===a.target&&(u=null,c=t);const h=c.renderer.listen(u||r,a.eventName,l);e.disposables[n.outputIndex+s]=h}var i,o}function gs(e,t,n){return r=>Ar(e,t,n,r)}function ms(e,t,n,r){if(!br(e,t,n,r))return!1;const i=t.bindings[n],o=ar(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){const s=t.securityContext;let a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=e.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){const i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){let o=e.root.sanitizer.sanitize(vt.STYLE,i);if(null!=o){o=o.toString();const e=t.suffix;null!=e&&(o+=e)}else o=null;const s=e.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){const o=t.securityContext;let s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}function vs(e,t,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Ir(t),bindings:r},ngContent:null}}function ys(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&xr(e);){let n=e.parentNodeDef;e=e.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=e.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&cr(e,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&cr(e,n).setDirty(),n+=t.childCount}}function bs(e,t){const n=cr(e,t.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&t.flags){const n=t.parent.parent;i=_s(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),r=lr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=_s(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);const o=t.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const e=o[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,s=!0}r[e.propName]=t}s&&n.notifyOnChanges()}function _s(e,t,n,r,i){for(let o=t;o<=n;o++){const t=e.def.nodes[o],n=t.matchedQueries[r.id];if(null!=n&&i.push(ws(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=ar(e,o);if((t.childMatchedQueries&r.filterId)===r.filterId&&(_s(e,o+1,o+t.childCount,r,i),o+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const o=e[t],s=Cr(o);s&&s===n&&_s(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let e=0;e<s.length;e++){const t=s[e];_s(t,0,t.def.nodes.length-1,r,i)}}(t.childMatchedQueries&r.filterId)!==r.filterId&&(o+=t.childCount)}return i}function ws(e,t,n){if(null!=n)switch(n){case 1:return ar(e,t.nodeIndex).renderElement;case 0:return new Tn(ar(e,t.nodeIndex).renderElement);case 2:return ar(e,t.nodeIndex).template;case 3:return ar(e,t.nodeIndex).viewContainer;case 4:return lr(e,t.nodeIndex).instance}}function Ss(e,t,n){const r=Rr(e,t,n);r&&Fr(e,n.ngContent.index,1,r,null,void 0)}function As(e,t){return function(e,t,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const e=n[i];r[i]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:128,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:qr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,e,new Array(t+1))}function Cs(e,t,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Es(e,t,n){let r;const i=e.renderer;r=i.createText(n.text.prefix);const o=Rr(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ks(e,t){return(null!=e?e.toString():"")+t.suffix}function Ts(e,t,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,f=null;for(let p=0;p<t.length;p++){const e=t[p];if(e.nodeIndex=p,e.parent=u,e.bindingIndex=i,e.outputIndex=o,e.renderParent=c,s|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=u?u.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(Is(u,e,t.length),i+=e.bindings.length,o+=e.outputs.length,!c&&3&e.flags&&(f=e),20224&e.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const t=0!=(32768&e.flags);0==(8192&e.flags)||t?u.element.publicProviders[pr(e.provider.token)]=e:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[pr(e.provider.token)]=e),t&&(u.element.componentProvider=e)}if(u?(u.childFlags|=e.flags,u.directChildFlags|=e.flags,u.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(u.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)u=e,xs(e)||(c=e);else for(;u&&p===u.nodeIndex+u.childCount;){const e=u.parent;e&&(e.childFlags|=u.childFlags,e.childMatchedQueries|=u.childMatchedQueries),u=e,c=u&&xs(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||dr,updateRenderer:r||dr,handleEvent:(e,n,r,i)=>t[n].element.handleEvent(e,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:f}}function xs(e){return 0!=(1&e.flags)&&null===e.element.name}function Is(e,t,n){const r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`);if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function Ps(e,t,n,r){const i=Ns(e.root,e.renderer,e,t,n);return Ds(i,e.component,r),Ls(i),i}function Os(e,t,n){const r=Ns(e,e.renderer,null,null,t);return Ds(r,n,n),Ls(r),r}function Rs(e,t,n,r){const i=t.element.componentRendererType;let o;return o=i?e.root.rendererFactory.createRenderer(r,i):e.root.renderer,Ns(e.root,o,e,t.element.componentProvider,n)}function Ns(e,t,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Ds(e,t,n){e.component=t,e.context=n}function Ls(e){let t;Tr(e)&&(t=ar(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);const n=e.def,r=e.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(hr.setCurrentNode(e,i),201347067&o.flags){case 1:const n=fs(e,t,o);let a=void 0;if(33554432&o.flags){const t=Dr(o.element.componentView);a=hr.createComponentView(e,o,t,n)}ps(e,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?ci(e,o):void 0},16777216&o.flags&&(s.viewContainer=si(e,o,s));break;case 2:s=Es(e,t,o);break;case 512:case 1024:case 2048:case 256:s=r[i],s||4096&o.flags||(s={instance:Oi(e,o)});break;case 16:s={instance:Ri(e,o)};break;case 16384:s=r[i],s||(s={instance:Ni(e,o)}),32768&o.flags&&Ds(ar(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Zi;break;case 8:Ss(e,t,o),s=void 0}r[i]=s}zs(e,Hs.CreateViewNodes),Qs(e,201326592,268435456,0)}function Ms(e){Vs(e),hr.updateDirectives(e,1),Gs(e,Hs.CheckNoChanges),hr.updateRenderer(e,1),zs(e,Hs.CheckNoChanges),e.state&=-97}function Fs(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,ir(e,0,256),Vs(e),hr.updateDirectives(e,0),Gs(e,Hs.CheckAndUpdate),Qs(e,67108864,536870912,0);let t=ir(e,256,512);Bi(e,2097152|(t?1048576:0)),hr.updateRenderer(e,0),zs(e,Hs.CheckAndUpdate),Qs(e,134217728,536870912,0),t=ir(e,512,768),Bi(e,8388608|(t?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,ir(e,768,1024)}function js(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;let f=!1;return d>0&&ms(e,t,0,n)&&(f=!0),d>1&&ms(e,t,1,r)&&(f=!0),d>2&&ms(e,t,2,i)&&(f=!0),d>3&&ms(e,t,3,o)&&(f=!0),d>4&&ms(e,t,4,s)&&(f=!0),d>5&&ms(e,t,5,a)&&(f=!0),d>6&&ms(e,t,6,l)&&(f=!0),d>7&&ms(e,t,7,u)&&(f=!0),d>8&&ms(e,t,8,c)&&(f=!0),d>9&&ms(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,o,s,a,l,u,c,h);case 2:return function(e,t,n,r,i,o,s,a,l,u,c,h){let d=!1;const f=t.bindings,p=f.length;if(p>0&&br(e,t,0,n)&&(d=!0),p>1&&br(e,t,1,r)&&(d=!0),p>2&&br(e,t,2,i)&&(d=!0),p>3&&br(e,t,3,o)&&(d=!0),p>4&&br(e,t,4,s)&&(d=!0),p>5&&br(e,t,5,a)&&(d=!0),p>6&&br(e,t,6,l)&&(d=!0),p>7&&br(e,t,7,u)&&(d=!0),p>8&&br(e,t,8,c)&&(d=!0),p>9&&br(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;p>0&&(d+=ks(n,f[0])),p>1&&(d+=ks(r,f[1])),p>2&&(d+=ks(i,f[2])),p>3&&(d+=ks(o,f[3])),p>4&&(d+=ks(s,f[4])),p>5&&(d+=ks(a,f[5])),p>6&&(d+=ks(l,f[6])),p>7&&(d+=ks(u,f[7])),p>8&&(d+=ks(c,f[8])),p>9&&(d+=ks(h,f[9]));const g=sr(e,t.nodeIndex).renderText;e.renderer.setValue(g,d)}return d}(e,t,n,r,i,o,s,a,l,u,c,h);case 16384:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=lr(e,t.nodeIndex),f=d.instance;let p=!1,g=void 0;const m=t.bindings.length;return m>0&&yr(e,t,0,n)&&(p=!0,g=Ui(e,d,t,0,n,g)),m>1&&yr(e,t,1,r)&&(p=!0,g=Ui(e,d,t,1,r,g)),m>2&&yr(e,t,2,i)&&(p=!0,g=Ui(e,d,t,2,i,g)),m>3&&yr(e,t,3,o)&&(p=!0,g=Ui(e,d,t,3,o,g)),m>4&&yr(e,t,4,s)&&(p=!0,g=Ui(e,d,t,4,s,g)),m>5&&yr(e,t,5,a)&&(p=!0,g=Ui(e,d,t,5,a,g)),m>6&&yr(e,t,6,l)&&(p=!0,g=Ui(e,d,t,6,l,g)),m>7&&yr(e,t,7,u)&&(p=!0,g=Ui(e,d,t,7,u,g)),m>8&&yr(e,t,8,c)&&(p=!0,g=Ui(e,d,t,8,c,g)),m>9&&yr(e,t,9,h)&&(p=!0,g=Ui(e,d,t,9,h,g)),g&&f.ngOnChanges(g),65536&t.flags&&or(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings;let f=!1;const p=d.length;if(p>0&&br(e,t,0,n)&&(f=!0),p>1&&br(e,t,1,r)&&(f=!0),p>2&&br(e,t,2,i)&&(f=!0),p>3&&br(e,t,3,o)&&(f=!0),p>4&&br(e,t,4,s)&&(f=!0),p>5&&br(e,t,5,a)&&(f=!0),p>6&&br(e,t,6,l)&&(f=!0),p>7&&br(e,t,7,u)&&(f=!0),p>8&&br(e,t,8,c)&&(f=!0),p>9&&br(e,t,9,h)&&(f=!0),f){const f=ur(e,t.nodeIndex);let g;switch(201347067&t.flags){case 32:g=new Array(d.length),p>0&&(g[0]=n),p>1&&(g[1]=r),p>2&&(g[2]=i),p>3&&(g[3]=o),p>4&&(g[4]=s),p>5&&(g[5]=a),p>6&&(g[6]=l),p>7&&(g[7]=u),p>8&&(g[8]=c),p>9&&(g[9]=h);break;case 64:g={},p>0&&(g[d[0].name]=n),p>1&&(g[d[1].name]=r),p>2&&(g[d[2].name]=i),p>3&&(g[d[3].name]=o),p>4&&(g[d[4].name]=s),p>5&&(g[d[5].name]=a),p>6&&(g[d[6].name]=l),p>7&&(g[d[7].name]=u),p>8&&(g[d[8].name]=c),p>9&&(g[d[9].name]=h);break;case 128:const e=n;switch(p){case 1:g=e.transform(n);break;case 2:g=e.transform(r);break;case 3:g=e.transform(r,i);break;case 4:g=e.transform(r,i,o);break;case 5:g=e.transform(r,i,o,s);break;case 6:g=e.transform(r,i,o,s,a);break;case 7:g=e.transform(r,i,o,s,a,l);break;case 8:g=e.transform(r,i,o,s,a,l,u);break;case 9:g=e.transform(r,i,o,s,a,l,u,c);break;case 10:g=e.transform(r,i,o,s,a,l,u,c,h)}}f.value=g}return f}(e,t,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let r=!1;for(let i=0;i<n.length;i++)ms(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)br(e,t,o,n[o])&&(i=!0);if(i){let i="";for(let e=0;e<n.length;e++)i+=ks(n[e],r[e]);i=t.text.prefix+i;const o=sr(e,t.nodeIndex).renderText;e.renderer.setValue(o,i)}return i}(e,t,n);case 16384:return function(e,t,n){const r=lr(e,t.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)yr(e,t,a,n[a])&&(o=!0,s=Ui(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&or(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const r=t.bindings;let i=!1;for(let o=0;o<n.length;o++)br(e,t,o,n[o])&&(i=!0);if(i){const i=ur(e,t.nodeIndex);let o;switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(let i=0;i<n.length;i++)o[r[i].name]=n[i];break;case 128:const e=n[0],t=n.slice(1);o=e.transform(...t)}i.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Vs(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const r=t.nodes[n];if(4&r.flags){const t=ar(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const r=t[n];r.state|=32,Sr(r,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Us(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){const d=t.bindings.length;d>0&&_r(e,t,0,n),d>1&&_r(e,t,1,r),d>2&&_r(e,t,2,i),d>3&&_r(e,t,3,o),d>4&&_r(e,t,4,s),d>5&&_r(e,t,5,a),d>6&&_r(e,t,6,l),d>7&&_r(e,t,7,u),d>8&&_r(e,t,8,c),d>9&&_r(e,t,9,h)}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){for(let r=0;r<n.length;r++)_r(e,t,r,n[r])}(e,t,r),!1}function Bs(e,t){if(cr(e,t.nodeIndex).dirty)throw tr(hr.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function qs(e){if(!(128&e.state)){if(Gs(e,Hs.Destroy),zs(e,Hs.Destroy),Bi(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=Cr(e);if(t){const n=t.template._projectedViews;n&&($(n,n.indexOf(e)),hr.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(ar(e,n).renderElement):2&t.flags?e.renderer.destroyNode(sr(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&cr(e,n).destroy()}}(e),Tr(e)&&e.renderer.destroy(),e.state|=128}}const Hs=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function zs(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?Ws(ar(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Gs(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=ar(e,r).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)Ws(n[e],t)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ws(e,t){const n=e.state;switch(t){case Hs.CheckNoChanges:0==(128&n)&&(12==(12&n)?Ms(e):64&n&&Ks(e,Hs.CheckNoChangesProjectedViews));break;case Hs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Ms(e):64&n&&Ks(e,t));break;case Hs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Fs(e):64&n&&Ks(e,Hs.CheckAndUpdateProjectedViews));break;case Hs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Fs(e):64&n&&Ks(e,t));break;case Hs.Destroy:qs(e);break;case Hs.CreateViewNodes:Ls(e)}}function Ks(e,t){Gs(e,t),zs(e,t)}function Qs(e,t,n,r){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const i=e.def.nodes.length;for(let o=0;o<i;o++){const i=e.def.nodes[o];if(i.flags&t&&i.flags&n)switch(hr.setCurrentNode(e,i.nodeIndex),r){case 0:bs(e,i);break;case 1:Bs(e,i)}i.childFlags&t&&i.childFlags&n||(o+=i.childCount)}}let $s=!1;function Ys(e,t,n,r,i,o){const s=i.injector.get(Pn);return Os(Js(e,i,s,t,n),r,o)}function Xs(e,t,n,r,i,o){const s=i.injector.get(Pn),a=Js(e,i,new Pa(s),t,n),l=la(r);return xa(pa.create,Os,null,[a,l,o])}function Js(e,t,n,r,i){const o=t.injector.get(yt),s=t.injector.get(ze),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function Zs(e,t,n,r){const i=la(n);return xa(pa.create,Ps,null,[e,t,i,r])}function ea(e,t,n,r){return n=ia.get(t.element.componentProvider.provider.token)||la(n),xa(pa.create,Rs,null,[e,t,n,r])}function ta(e,t,n,r){return vi(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;return 0===na.size||(e.providers.forEach(e=>{const r=na.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(e=>{ra.forEach((r,i)=>{C(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})})),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);return t?(function(e){for(let t=0;t<e.providers.length;t++){const r=e.providers[t];n&&(r.flags|=4096);const i=na.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Or(i.deps),r.value=i.value)}if(ra.size>0){let t=new Set(e.modules);ra.forEach((r,i)=>{if(t.has(C(i).providedIn)){let t={token:i,flags:r.flags|(n?4096:0),deps:Or(r.deps),value:r.value,index:e.providers.length};e.providers.push(t),e.providersByKey[pr(i)]=t}})}}(e=e.factory(()=>dr)),e):e}(r))}const na=new Map,ra=new Map,ia=new Map;function oa(e){let t;na.set(e.token,e),"function"==typeof e.token&&(t=C(e.token))&&"function"==typeof t.providedIn&&ra.set(e.token,e)}function sa(e,t){const n=Dr(t.viewDefFactory),r=Dr(n.nodes[0].element.componentView);ia.set(e,r)}function aa(){na.clear(),ra.clear(),ia.clear()}function la(e){if(0===na.size)return e;const t=function(e){const t=[];let n=null;for(let r=0;r<e.nodes.length;r++){const i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&na.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>dr);for(let r=0;r<t.length;r++)n(e,t[r]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=na.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Or(n.deps),e.value=n.value)}}}}function ua(e,t,n,r,i,o,s,a,l,u,c,h,d){const f=e.def.nodes[t];return js(e,f,n,r,i,o,s,a,l,u,c,h,d),224&f.flags?ur(e,t).value:void 0}function ca(e,t,n,r,i,o,s,a,l,u,c,h,d){const f=e.def.nodes[t];return Us(e,f,n,r,i,o,s,a,l,u,c,h,d),224&f.flags?ur(e,t).value:void 0}function ha(e){return xa(pa.detectChanges,Fs,null,[e])}function da(e){return xa(pa.checkNoChanges,Ms,null,[e])}function fa(e){return xa(pa.destroy,qs,null,[e])}const pa=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();let ga,ma,va;function ya(e,t){ma=e,va=t}function ba(e,t,n,r){return ya(e,t),xa(pa.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function _a(e,t){if(128&e.state)throw rr(pa[ga]);return ya(e,Ca(e,0)),e.def.updateDirectives((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?Sa(e,o,r,i):Aa(e,o,r,i),16384&o.flags&&ya(e,Ca(e,n)),224&o.flags?ur(e,o.nodeIndex).value:void 0}),e)}function wa(e,t){if(128&e.state)throw rr(pa[ga]);return ya(e,Ea(e,0)),e.def.updateRenderer((function(e,n,r,...i){const o=e.def.nodes[n];return 0===t?Sa(e,o,r,i):Aa(e,o,r,i),3&o.flags&&ya(e,Ea(e,n)),224&o.flags?ur(e,o.nodeIndex).value:void 0}),e)}function Sa(e,t,n,r){if(js(e,t,n,...r)){const o=1===n?r[0]:r;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const r=t.bindings[e],s=o[e];8&r.flags&&(n[(i=r.nonMinifiedName,"ng-reflect-"+i.replace(/[$@]/g,"_").replace(St,(...e)=>"-"+e[1].toLowerCase()))]=At(s))}const r=t.parent,s=ar(e,r.nodeIndex).renderElement;if(r.element.name)for(let t in n){const r=n[t];null!=r?e.renderer.setAttribute(s,t,r):e.renderer.removeAttribute(s,t)}else e.renderer.setValue(s,"bindings="+JSON.stringify(n,null,2))}}var i}function Aa(e,t,n,r){Us(e,t,n,...r)}function Ca(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Ea(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class ka{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,r=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Er(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return ar(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return di(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){Ta(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&Ta(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Tr(e);)e=e.parent;return e.parent?ar(e.parent,Er(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?kr(this.view,this.nodeDef):kr(this.elView,this.elDef)}logError(e,...t){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(e,t){let n=-1;for(let r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>(o++,o===i?e.error.bind(e,...t):dr)),o<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function Ta(e,t,n){for(let r in t.references)n[r]=ws(e,t,t.references[r])}function xa(e,t,n,r){const i=ga,o=ma,s=va;try{ga=e;const a=t.apply(n,r);return ma=o,va=s,ga=i,a}catch(a){if(Be(a)||!ma)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),nr(e,t),e}(a,Ia())}}function Ia(){return ma?new ka(ma,va):null}class Pa{constructor(e){this.delegate=e}createRenderer(e,t){return new Oa(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class Oa{constructor(e){this.delegate=e,this.debugContextFactory=Ia,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){const t=rs(e);!function(e){ns.delete(e.nativeNode)}(t),t instanceof es&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){const t=new ts(n,null,r);t.name=e,is(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&is(new es(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&is(new es(t,null,n)),t}appendChild(e,t){const n=rs(e),r=rs(t);n&&r&&n instanceof ts&&n.addChild(r),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const r=rs(e),i=rs(t),o=rs(n);r&&i&&r instanceof ts&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=rs(e),r=rs(t);n&&r&&n instanceof ts&&n.removeChild(r),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),r=Ia();return r&&is(new ts(n,null,r)),n}setAttribute(e,t,n,r){const i=rs(e);i&&i instanceof ts&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){const r=rs(e);r&&r instanceof ts&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=rs(e);n&&n instanceof ts&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=rs(e);n&&n instanceof ts&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,r){const i=rs(e);i&&i instanceof ts&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){const r=rs(e);r&&r instanceof ts&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const r=rs(e);r&&r instanceof ts&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const r=rs(e);r&&r.listeners.push(new Zo(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function Ra(e,t,n){return new Na(e,t,n)}class Na extends K{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){!function(){if($s)return;$s=!0;const e=Ke()?{setCurrentNode:ya,createRootView:Xs,createEmbeddedView:Zs,createComponentView:ea,createNgModuleRef:ta,overrideProvider:oa,overrideComponentView:sa,clearOverrides:aa,checkAndUpdateView:ha,checkNoChangesView:da,destroyView:fa,createDebugContext:(e,t)=>new ka(e,t),handleEvent:ba,updateDirectives:_a,updateRenderer:wa}:{setCurrentNode:()=>{},createRootView:Ys,createEmbeddedView:Ps,createComponentView:Rs,createNgModuleRef:vi,overrideProvider:dr,overrideComponentView:dr,clearOverrides:dr,checkAndUpdateView:Fs,checkNoChangesView:Ms,destroyView:qs,createDebugContext:(e,t)=>new ka(e,t),handleEvent:(e,t,n,r)=>e.def.handleEvent(e,t,n,r),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?ua:ca,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?ua:ca,e)};hr.setCurrentNode=e.setCurrentNode,hr.createRootView=e.createRootView,hr.createEmbeddedView=e.createEmbeddedView,hr.createComponentView=e.createComponentView,hr.createNgModuleRef=e.createNgModuleRef,hr.overrideProvider=e.overrideProvider,hr.overrideComponentView=e.overrideComponentView,hr.clearOverrides=e.clearOverrides,hr.checkAndUpdateView=e.checkAndUpdateView,hr.checkNoChangesView=e.checkNoChangesView,hr.destroyView=e.destroyView,hr.resolveDep=ji,hr.createDebugContext=e.createDebugContext,hr.handleEvent=e.handleEvent,hr.updateDirectives=e.updateDirectives,hr.updateRenderer=e.updateRenderer,hr.dirtyParentQueries=ys}();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),r={};for(const i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Dr(this._ngModuleDefFactory));return hr.createNgModuleRef(this.moduleType,e||zt.NULL,this._bootstrapComponents,t)}}},"9ppp":function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",(function(){return i})),r.prototype=Object.create(Error.prototype);const i=r},AQDP:function(e,t,n){var r,i,o;!function(s){if("object"==typeof e.exports){var a=s(0,t);void 0!==a&&(e.exports=a)}else i=[n,t],void 0===(o="function"==typeof(r=s)?r.apply(t,i):r)||(e.exports=o)}((function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=void 0;t.default=["es-CO",[["a. m.","p. m."],n,n],n,[["D","L","M","M","J","V","S"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["d","l","m","m","j","v","s"],["dom.","lun.","mar.","mi\xe9.","jue.","vie.","s\xe1b."],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sept.","oct.","nov.","dic."],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],[["a. C.","d. C."],n,["antes de Cristo","despu\xe9s de Cristo"]],0,[6,0],["d/MM/yy","d/MM/y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",n,n,n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","\xa4\xa0#,##0.00","#E0"],"$","peso colombiano",{AUD:[n,"$"],BRL:[n,"R$"],CAD:[n,"$"],CNY:[n,"\xa5"],COP:["$"],ESP:["\u20a7"],EUR:[n,"\u20ac"],FKP:[n,"FK\xa3"],GBP:[n,"\xa3"],HKD:[n,"$"],ILS:[n,"\u20aa"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NZD:[n,"$"],RON:[n,"L"],SSP:[n,"SD\xa3"],SYP:[n,"S\xa3"],TWD:[n,"NT$"],USD:["US$","$"],VEF:[n,"BsF"],VND:[n,"\u20ab"],XAF:[],XCD:[n,"$"],XOF:[]},function(e){return 1===e?1:5}]}))},CRDf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("kJWO");const i=e=>t=>{const n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},Cfvw:function(e,t,n){"use strict";var r=n("HDdC"),i=n("c2HN"),o=n("I55L"),s=n("kJWO"),a=n("Lhse"),l=n("yCtX"),u=n("quSY"),c=n("a7t3"),h=n("pLzU"),d=n("CRDf"),f=n("SeVD");function p(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(f.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a(t?n=>{const r=new u.a;return r.add(t.schedule(()=>{const i=e[s.a]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r}:Object(d.a)(e))}(e,t);if(Object(i.a)(e))return function(e,t){return new r.a(t?n=>{const r=new u.a;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r}:Object(c.a)(e))}(e,t);if(Object(o.a)(e))return Object(l.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(t?n=>{const r=new u.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[a.a](),r.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())})))})),r}:Object(h.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",(function(){return p}))},D0XW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=Array.isArray||(e=>e&&"number"==typeof e.length)},EY2u:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(e=>e.complete());function o(e){return e?function(e){return new r.a(t=>e.schedule(()=>t.complete()))}(e):i}},HDdC:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("mCNh"),l=n("2fFW");n.d(t,"a",(function(){return u}));let u=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.a?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=c(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.a](){return this}pipe(...e){return 0===e.length?this:Object(a.b)(e)(this)}toPromise(e){return new(e=c(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function c(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},I55L:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},Iab2:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,o,s){var a=i.URL||i.webkitURL,l=document.createElement("a");l.download=o=o||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?t(e,o,s):r(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,o){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),i);else if(n(e))t(e,i,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){r(s)}))}}:function(e,n,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var a="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&l||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},c.readAsDataURL(e)}else{var h=i.URL||i.webkitURL,d=h.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,[]):r)||(e.exports=i)},IjjT:function(e,t,n){"use strict";let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();n.d(t,"a",(function(){return i}));class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},Jgta:function(e,t,n){"use strict";var r=n("zIRd");n.d(t,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.6.2","app")},KqfI:function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},LRne:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("EY2u"),s=n("XUOw");function a(...e){let t=e[e.length-1];switch(Object(r.a)(t)?e.pop():t=void 0,e.length){case 0:return Object(o.b)(t);case 1:return t?Object(i.a)(e,t):Object(s.a)(e[0]);default:return Object(i.a)(e,t)}}},Lhse:function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));const i=r()},NJ4a:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e})}n.d(t,"a",(function(){return r}))},Q4Nv:function(module,exports,__webpack_require__){var factory;factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return r.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return r.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return i.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return i.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return i.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return i.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return i.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return o.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return o.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return s.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return a.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return l.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return u.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}});var r=n(1),i=n(198),o=n(5),s=n(209),a=n(200),l=n(203),u=n(210),c=n(211);if(n(7).isNodeJS){var h=n(212).PDFNodeStream;(0,i.setPDFNetworkStreamFactory)((function(e){return new h(e)}))}else{var d,f=n(215).PDFNetworkStream;(0,r.isFetchSupported)()&&(d=n(216).PDFFetchStream),(0,i.setPDFNetworkStreamFactory)((function(e){return d&&(0,r.isValidFetchUrl)(e.url)?new d(e):new f(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.target,i=t.rel,s=t.enabled,a=void 0===s||s;(0,o.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,o.removeNullCharacters)(n);a?e.href=e.title=l:(e.href="",e.title="Disabled: ".concat(l),e.onclick=function(){return!1});var u="";switch(r){case b.NONE:break;case b.SELF:u="_self";break;case b.BLANK:u="_blank";break;case b.PARENT:u="_parent";break;case b.TOP:u="_top"}e.target=u,e.rel="string"==typeof i?i:"noopener noreferrer nofollow"},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.isFetchSupported=_,t.isValidFetchUrl=w,t.loadScript=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=function(){n(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)}))},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(5);function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){d(o,r,i,s,a,"next",e)}function a(e){d(o,r,i,s,a,"throw",e)}s(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}t.DEFAULT_LINK_REL="noopener noreferrer nofollow";var v="http://www.w3.org/2000/svg";t.DOMCanvasFactory=function(){function e(){p(this,e)}return m(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}(),t.DOMCMapReaderFactory=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n,i=t.isCompressed,o=void 0!==i&&i;p(this,e),this.baseUrl=r,this.isCompressed=o}return m(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=f(i.default.mark((function e(t){var n,r,s,a=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:if(r=this.baseUrl+n+(this.isCompressed?".bcmap":""),s=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE,!_()||!w(r,document.baseURI)){e.next=9;break}return e.abrupt("return",fetch(r).then(function(){var e=f(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(!a.isCompressed){e.next=10;break}return e.t0=Uint8Array,e.next=6,t.arrayBuffer();case 6:e.t1=e.sent,n=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=o.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,n=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:n,compressionType:s});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw new Error("Unable to load ".concat(a.isCompressed?"binary ":"")+"CMap at: ".concat(r))})));case 9:return e.abrupt("return",new Promise((function(e,t){var n=new XMLHttpRequest;n.open("GET",r,!0),a.isCompressed&&(n.responseType="arraybuffer"),n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE){var r;if((200===n.status||0===n.status)&&(a.isCompressed&&n.response?r=new Uint8Array(n.response):!a.isCompressed&&n.responseText&&(r=(0,o.stringToBytes)(n.responseText)),r))return void e({cMapData:r,compressionType:s});t(new Error(n.statusText))}},n.send(null)})).catch((function(e){throw new Error("Unable to load ".concat(a.isCompressed?"binary ":"")+"CMap at: ".concat(r))})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())}]),e}(),t.DOMSVGFactory=function(){function e(){p(this,e)}return m(e,[{key:"create",value:function(e,t){(0,o.assert)(e>0&&t>0,"Invalid SVG dimensions");var n=document.createElementNS(v,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,o.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(v,e)}}]),e}(),t.PageViewport=function(){function e(t){var n=t.viewBox,r=t.scale,i=t.rotation,o=t.offsetX,s=void 0===o?0:o,a=t.offsetY,l=void 0===a?0:a,u=t.dontFlip,c=void 0!==u&&u;p(this,e),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=l;var h,d,f,g,m,v,y,b,_=(n[2]+n[0])/2,w=(n[3]+n[1])/2;switch(i=(i%=360)<0?i+360:i){case 180:h=-1,d=0,f=0,g=1;break;case 90:h=0,d=1,f=1,g=0;break;case 270:h=0,d=-1,f=-1,g=0;break;case 0:h=1,d=0,f=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(f=-f,g=-g),0===h?(m=Math.abs(w-n[1])*r+s,v=Math.abs(_-n[0])*r+l,y=Math.abs(n[3]-n[1])*r,b=Math.abs(n[2]-n[0])*r):(m=Math.abs(_-n[0])*r+s,v=Math.abs(w-n[1])*r+l,y=Math.abs(n[2]-n[0])*r,b=Math.abs(n[3]-n[1])*r),this.transform=[h*r,d*r,f*r,g*r,m-h*r*_-f*r*w,v-d*r*_-g*r*w],this.width=y,this.height=b}return m(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,o=void 0===i?this.rotation:i,s=t.offsetX,a=void 0===s?this.offsetX:s,l=t.offsetY,u=void 0===l?this.offsetY:l,c=t.dontFlip,h=void 0!==c&&c;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:a,offsetY:u,dontFlip:h})}},{key:"convertToViewportPoint",value:function(e,t){return o.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=o.Util.applyTransform([e[0],e[1]],this.transform),n=o.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return o.Util.applyInverseTransform([e,t],this.transform)}}]),e}(),t.RenderingCancelledException=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=h(t);if(n){var i=h(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return c(this,e)});function i(e,t){var n;return p(this,i),(n=r.call(this,e)).type=t,n}return i}(o.BaseException);var y,b={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function _(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function w(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}t.LinkTarget=b,t.StatTimer=function(){function e(){p(this,e),this.started=Object.create(null),this.times=[]}return m(e,[{key:"time",value:function(e){e in this.started&&(0,o.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,o.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=s(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value.name;i.length>n&&(n=i.length)}}catch(c){r.e(c)}finally{r.f()}var o,a=s(this.times);try{for(a.s();!(o=a.n()).done;){var l=o.value,u=l.end-l.start;t.push("".concat(l.name.padEnd(n)," ").concat(u,"ms\n"))}}catch(c){a.e(c)}finally{a.f()}return t.join("")}}]),e}(),t.PDFDateString=function(){function e(){p(this,e)}return m(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,o.isString)(e))return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=y.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;var s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;var a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;var l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;var u=t[7]||"Z",c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;var h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===u?(s+=c,a+=h):"+"===u&&(s-=c,a-=h),new Date(Date.UTC(n,r,i,s,a,l))}}]),e}()},function(e,t,n){"use strict";e.exports=n(3)},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n,r){var i=Object.create((t&&t.prototype instanceof h?t:h).prototype),o=new A(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=l;var c={};function h(){}function d(){}function f(){}var p={};p[o]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(C([])));m&&m!==n&&r.call(m,o)&&(p=m);var v=f.prototype=h.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,n){var i;this._invoke=function(o,s){function a(){return new n((function(i,a){!function i(o,s,a,l){var c=u(e[o],e,s);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"===t(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,a,l)}),(function(e){i("throw",e,a,l)})):n.resolve(d).then((function(e){h.value=e,a(h)}),(function(e){return i("throw",e,a,l)}))}l(c.arg)}(o,s,i,a)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=v.constructor=f,f.constructor=d,f[a]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[s]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new b(l(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),v[a]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(4)(e))},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=b,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=b(e[r]);for(var i=0,o=new Uint8Array(n),s=0;s<t;s++){var a=e[s];a instanceof Uint8Array||(a="string"==typeof a?y(a):new Uint8Array(a));var l=a.byteLength;o.set(a,i),i+=l}return o},t.assert=p,t.bytesToString=function(e){p(null!==e&&"object"===i(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=8192){var o=Math.min(r+8192,t),s=e.subarray(r,o);n.push(String.fromCharCode.apply(null,s))}return n.join("")},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.getVerbosityLevel=function(){return h},t.info=function(e){h>=c.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===i(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(t,n);return n.origin===r.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(r){}return null},t.removeNullCharacters=function(e){return"string"!=typeof e?(d("The argument for removeNullCharacters must be a string."),e):e.replace(v,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(h=e)},t.shadow=g,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=y,t.stringToPDFString=function(e){var t=e.length,n=[];if("\xfe"===e[0]&&"\xff"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("\xff"===e[0]&&"\xfe"===e[1])for(var i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i+1)<<8|e.charCodeAt(i)));else for(var o=0;o<t;++o){var s=S[e.charCodeAt(o)];n.push(s?String.fromCharCode(s):e.charAt(o))}return n.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=d,t.unreachable=f,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,n(6),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var c={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=c,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var h=c.WARNINGS;function d(e){h>=c.WARNINGS&&console.log("Warning: ".concat(e))}function f(e){throw new Error(e)}function p(e,t){e||f(t)}function g(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var m=function(){function e(t){this.constructor===e&&f("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=m,t.PasswordException=function(e){s(n,e);var t=a(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).code=r,i}return n}(m),t.UnknownErrorException=function(e){s(n,e);var t=a(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).details=r,i}return n}(m),t.InvalidPDFException=function(e){s(n,e);var t=a(n);function n(){return o(this,n),t.apply(this,arguments)}return n}(m),t.MissingPDFException=function(e){s(n,e);var t=a(n);function n(){return o(this,n),t.apply(this,arguments)}return n}(m),t.UnexpectedResponseException=function(e){s(n,e);var t=a(n);function n(e,r){var i;return o(this,n),(i=t.call(this,e)).status=r,i}return n}(m),t.FormatError=function(e){s(n,e);var t=a(n);function n(){return o(this,n),t.apply(this,arguments)}return n}(m),t.AbortException=function(e){s(n,e);var t=a(n);function n(){return o(this,n),t.apply(this,arguments)}return n}(m);var v=/\x00/g;function y(e){p("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function b(e){return void 0!==e.length?e.length:(p(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}t.IsLittleEndianCached={get value(){return g(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}},t.IsEvalSupportedCached={get value(){return g(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};var _=["rgb(",0,",",0,",",0,")"];t.Util=function(){function e(){o(this,e)}var t,n;return t=e,(n=[{key:"makeCssRgb",value:function(e,t,n){return _[1]=e,_[3]=t,_[5]=n,_.join("")}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),o=e.applyTransform([t[0],t[3]],n),s=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[2]*t[1]+e[3]*t[3],i=(n+r)/2,o=Math.sqrt((n+r)*(n+r)-4*(n*r-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,s=i-o||1;return[Math.sqrt(i+o||1),Math.sqrt(s)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),o=[t[1],t[3],n[1],n[3]].sort(r),s=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0]?(s[0]=i[1],s[2]=i[2],o[0]===t[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===t[1]?(s[1]=o[1],s[3]=o[2],s):null):null}}])&&r(t,n),e}();var w,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],A=(w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n&&URL.createObjectURL){var r=new Blob([e],{type:t});return URL.createObjectURL(r)}for(var i="data:".concat(t,";base64,"),o=0,s=e.length;o<s;o+=3){var a=255&e[o],l=255&e[o+1],u=255&e[o+2],c=a>>2,h=(3&a)<<4|l>>4,d=o+1<s?(15&l)<<2|u>>6:64,f=o+2<s?63&u:64;i+=w[c]+w[h]+w[d]+w[f]}return i});t.createObjectURL=A},function(e,t,n){"use strict";var r=n(7);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked){"undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=n(8)),globalThis._pdfjsCompatibilityChecked=!0;var o="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document)),s="undefined"!=typeof navigator&&navigator.userAgent||"",a=/Trident/.test(s);!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),o&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(o&&!r.isNodeJS){var e=document.createElement("div");if(e.classList.add("testOne","testTwo"),!0!==e.classList.contains("testOne")||!0!==e.classList.contains("testTwo")){var t=DOMTokenList.prototype.add,n=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];t.call(this,s)}},DOMTokenList.prototype.remove=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var i=0,o=t;i<o.length;i++){var s=o[i];n.call(this,s)}}}}}(),o&&!r.isNodeJS&&!1!==document.createElement("div").classList.toggle("test",0)&&(DOMTokenList.prototype.toggle=function(e){var t=arguments.length>1?!!arguments[1]:!this.contains(e);return this[t?"add":"remove"](e),t}),function(){if(o&&a){var e=window.history.pushState,t=window.history.replaceState;window.history.pushState=function(t,n,r){e.apply(this,void 0===r?[t,n]:[t,n,r])},window.history.replaceState=function(e,n,r){t.apply(this,void 0===r?[e,n]:[e,n,r])}}}(),String.prototype.startsWith||n(53),String.prototype.endsWith||n(64),String.prototype.includes||n(66),Array.prototype.includes||n(68),Array.from||n(76),Object.assign||n(98),Math.log2||(Math.log2=n(101)),Number.isNaN||(Number.isNaN=n(103)),Number.isInteger||(Number.isInteger=n(105)),Uint8Array.prototype.slice||n(108),globalThis.Promise&&globalThis.Promise.allSettled||(globalThis.Promise=n(113)),globalThis.URL=n(136),function(){var e=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(e){e.close()}}),e=!0}catch(t){}e||(globalThis.ReadableStream=n(143).ReadableStream)}(),globalThis.Map&&globalThis.Map.prototype.entries||(globalThis.Map=n(144)),globalThis.Set&&globalThis.Set.prototype.entries||(globalThis.Set=n(151)),globalThis.WeakMap||(globalThis.WeakMap=n(153)),globalThis.WeakSet||(globalThis.WeakSet=n(159)),String.prototype.codePointAt||n(161),String.fromCodePoint||(String.fromCodePoint=n(163)),globalThis.Symbol||n(165),String.prototype.padStart||n(188),String.prototype.padEnd||n(193),Object.values||(Object.values=n(195))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var i="object"===("undefined"==typeof process?"undefined":r(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=i},function(e,t,n){n(9),e.exports=n(11)},function(e,t,n){n(10)({global:!0},{globalThis:n(11)})},function(e,t,n){var r=n(11),i=n(12).f,o=n(26),s=n(29),a=n(30),l=n(40),u=n(52);e.exports=function(e,t){var n,c,h,d,f,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||a(p,{}):(r[p]||{}).prototype)for(c in t){if(d=t[c],h=e.noTargetGet?(f=i(n,c))&&f.value:n[c],!u(g?c:p+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),s(n,c,d,e)}}},function(e,t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},function(e,t,n){var r=n(13),i=n(15),o=n(16),s=n(17),a=n(21),l=n(23),u=n(24),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=s(e),t=a(t,!0),u)try{return c(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(14);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(18),i=n(20);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(14),i=n(19),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(22);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(13),i=n(14),o=n(25);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),i=n(22),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t,n){var r=n(13),i=n(27),o=n(16);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(13),i=n(24),o=n(28),s=n(21),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(11),i=n(26),o=n(23),s=n(30),a=n(31),l=n(33),u=l.get,c=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c(n).source=h.join("string"==typeof t?t:"")),e!==r?(l?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},function(e,t,n){var r=n(11),i=n(26);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(32),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(11),i=n(30),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r,i,o,s=n(34),a=n(11),l=n(22),u=n(26),c=n(23),h=n(35),d=n(39);if(s){var f=new(0,a.WeakMap),p=f.get,g=f.has,m=f.set;r=function(e,t){return m.call(f,e,t),t},i=function(e){return p.call(f,e)||{}},o=function(e){return g.call(f,e)}}else{var v=h("state");d[v]=!0,r=function(e,t){return u(e,v,t),t},i=function(e){return c(e,v)?e[v]:{}},o=function(e){return c(e,v)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(11),i=n(31),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(36),i=n(38),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(37),i=n(32);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(23),i=n(41),o=n(12),s=n(27);e.exports=function(e,t){for(var n=i(t),a=s.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||a(e,c,l(t,c))}}},function(e,t,n){var r=n(42),i=n(44),o=n(51),s=n(28);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(43),i=n(11),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(11);e.exports=r},function(e,t,n){var r=n(45),i=n(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(23),i=n(17),o=n(46).indexOf,s=n(39);e.exports=function(e,t){var n,a=i(e),l=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);for(;t.length>l;)r(a,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(17),i=n(47),o=n(49),s=function(e){return function(t,n,s){var a,l=r(t),u=i(l.length),c=o(s,u);if(e&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){var r=n(48),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(48),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(14),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t,n){n(54);var r=n(61);e.exports=r("String","startsWith")},function(e,t,n){"use strict";var r,i=n(10),o=n(12).f,s=n(47),a=n(55),l=n(20),u=n(60),c=n(37),h="".startsWith,d=Math.min,f=u("startsWith");i({target:"String",proto:!0,forced:!(!c&&!f&&(r=o(String.prototype,"startsWith"),r&&!r.writable)||f)},{startsWith:function(e){var t=String(l(this));a(e);var n=s(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return h?h.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(56);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(22),i=n(19),o=n(57)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(11),i=n(36),o=n(23),s=n(38),a=n(58),l=n(59),u=i("wks"),c=r.Symbol,h=l?c:c&&c.withoutSetter||s;e.exports=function(e){return o(u,e)||(u[e]=a&&o(c,e)?c[e]:h("Symbol."+e)),u[e]}},function(e,t,n){var r=n(14);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(58);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(57)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},function(e,t,n){var r=n(11),i=n(62),o=Function.call;e.exports=function(e,t,n){return i(o,r[e].prototype[t],n)}},function(e,t,n){var r=n(63);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){n(65);var r=n(61);e.exports=r("String","endsWith")},function(e,t,n){"use strict";var r,i=n(10),o=n(12).f,s=n(47),a=n(55),l=n(20),u=n(60),c=n(37),h="".endsWith,d=Math.min,f=u("endsWith");i({target:"String",proto:!0,forced:!(!c&&!f&&(r=o(String.prototype,"endsWith"),r&&!r.writable)||f)},{endsWith:function(e){var t=String(l(this));a(e);var n=arguments.length>1?arguments[1]:void 0,r=s(t.length),i=void 0===n?r:d(s(n),r),o=String(e);return h?h.call(t,o,i):t.slice(i-o.length,i)===o}})},function(e,t,n){n(67);var r=n(61);e.exports=r("String","includes")},function(e,t,n){"use strict";var r=n(10),i=n(55),o=n(20);r({target:"String",proto:!0,forced:!n(60)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(69);var r=n(61);e.exports=r("Array","includes")},function(e,t,n){"use strict";var r=n(10),i=n(46).includes,o=n(70);r({target:"Array",proto:!0,forced:!n(75)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){var r=n(57),i=n(71),o=n(27),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},function(e,t,n){var r,i=n(28),o=n(72),s=n(50),a=n(39),l=n(74),u=n(25),c=n(35)("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(i){}var e,t;f=r?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[c]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=i(e),n=new h,h.prototype=null,n[c]=e):n=f(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(13),i=n(27),o=n(28),s=n(73);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=s(t),a=r.length,l=0;a>l;)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(45),i=n(50);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(42);e.exports=r("document","documentElement")},function(e,t,n){var r=n(13),i=n(14),o=n(23),s=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:l,h=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,c,h)}))}},function(e,t,n){n(77),n(89);var r=n(43);e.exports=r.Array.from},function(e,t,n){"use strict";var r=n(78).charAt,i=n(33),o=n(79),s=i.set,a=i.getterFor("String Iterator");o(String,"String",(function(e){s(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=a(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(48),i=n(20),o=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),u=a.length;return l<0||l>=u?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){"use strict";var r=n(10),i=n(80),o=n(82),s=n(87),a=n(85),l=n(26),u=n(29),c=n(57),h=n(37),d=n(86),f=n(81),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};e.exports=function(e,t,n,c,f,y,b){i(n,t,c);var _,w,S,A=function(e){if(e===f&&x)return x;if(!g&&e in k)return k[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},C=t+" Iterator",E=!1,k=e.prototype,T=k[m]||k["@@iterator"]||f&&k[f],x=!g&&T||A(f),I="Array"==t&&k.entries||T;if(I&&(_=o(I.call(new e)),p!==Object.prototype&&_.next&&(h||o(_)===p||(s?s(_,p):"function"!=typeof _[m]&&l(_,m,v)),a(_,C,!0,!0),h&&(d[C]=v))),"values"==f&&T&&"values"!==T.name&&(E=!0,x=function(){return T.call(this)}),h&&!b||k[m]===x||l(k,m,x),d[t]=x,f)if(w={values:A("values"),keys:y?x:A("keys"),entries:A("entries")},b)for(S in w)(g||E||!(S in k))&&u(k,S,w[S]);else r({target:t,proto:!0,forced:g||E},w);return w}},function(e,t,n){"use strict";var r=n(81).IteratorPrototype,i=n(71),o=n(16),s=n(85),a=n(86),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=l,e}},function(e,t,n){"use strict";var r,i,o,s=n(82),a=n(26),l=n(23),u=n(57),c=n(37),h=u("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),c||l(r,h)||a(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(23),i=n(83),o=n(35),s=n(84),a=o("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,n){var r=n(20);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(14);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(27).f,i=n(23),o=n(57)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var r=n(28),i=n(88);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(22);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(10),i=n(90);r({target:"Array",stat:!0,forced:!n(97)((function(e){Array.from(e)}))},{from:i})},function(e,t,n){"use strict";var r=n(62),i=n(83),o=n(91),s=n(92),a=n(47),l=n(93),u=n(94);e.exports=function(e){var t,n,c,h,d,f,p=i(e),g="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,y=void 0!==v,b=u(p),_=0;if(y&&(v=r(v,m>2?arguments[2]:void 0,2)),null==b||g==Array&&s(b))for(n=new g(t=a(p.length));t>_;_++)f=y?v(p[_],_):p[_],l(n,_,f);else for(d=(h=b.call(p)).next,n=new g;!(c=d.call(h)).done;_++)f=y?o(h,v,[c.value,_],!0):c.value,l(n,_,f);return n.length=_,n}},function(e,t,n){var r=n(28);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e.return;throw void 0!==o&&r(o.call(e)),s}}},function(e,t,n){var r=n(57),i=n(86),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},function(e,t,n){"use strict";var r=n(21),i=n(27),o=n(16);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},function(e,t,n){var r=n(95),i=n(86),o=n(57)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(96),i=n(19),o=n(57)("toStringTag"),s="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),o))?n:s?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r={};r[n(57)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(57)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(a){}return n}},function(e,t,n){n(99);var r=n(43);e.exports=r.Object.assign},function(e,t,n){var r=n(10),i=n(100);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(13),i=n(14),o=n(73),s=n(51),a=n(15),l=n(83),u=n(18),c=Object.assign,h=Object.defineProperty;e.exports=!c||i((function(){if(r&&1!==c({b:1},c(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||"abcdefghijklmnopqrst"!=o(c({},t)).join("")}))?function(e,t){for(var n=l(e),i=arguments.length,c=1,h=s.f,d=a.f;i>c;)for(var f,p=u(arguments[c++]),g=h?o(p).concat(h(p)):o(p),m=g.length,v=0;m>v;)f=g[v++],r&&!d.call(p,f)||(n[f]=p[f]);return n}:c},function(e,t,n){n(102);var r=n(43);e.exports=r.Math.log2},function(e,t,n){var r=n(10),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},function(e,t,n){n(104);var r=n(43);e.exports=r.Number.isNaN},function(e,t,n){n(10)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){n(106);var r=n(43);e.exports=r.Number.isInteger},function(e,t,n){n(10)({target:"Number",stat:!0},{isInteger:n(107)})},function(e,t,n){var r=n(22),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){n(109)},function(e,t,n){"use strict";var r=n(110),i=n(112),o=n(14),s=r.aTypedArray,a=r.aTypedArrayConstructor,l=[].slice;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=l.call(s(this),e,t),r=i(this,this.constructor),o=0,u=n.length,c=new(a(r))(u);u>o;)c[o]=n[o++];return c}),o((function(){new Int8Array(1).slice()})))},function(e,t,n){"use strict";var r,i=n(111),o=n(13),s=n(11),a=n(22),l=n(23),u=n(95),c=n(26),h=n(29),d=n(27).f,f=n(82),p=n(87),g=n(57),m=n(38),v=s.Int8Array,y=v&&v.prototype,b=s.Uint8ClampedArray,_=b&&b.prototype,w=v&&f(v),S=y&&f(y),A=Object.prototype,C=A.isPrototypeOf,E=g("toStringTag"),k=m("TYPED_ARRAY_TAG"),T=i&&!!p&&"Opera"!==u(s.opera),x=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){return a(e)&&l(I,u(e))};for(r in I)s[r]||(T=!1);if((!T||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},T))for(r in I)s[r]&&p(s[r],w);if((!T||!S||S===A)&&(S=w.prototype,T))for(r in I)s[r]&&p(s[r].prototype,S);if(T&&f(_)!==S&&p(_,S),o&&!l(S,E))for(r in x=!0,d(S,E,{get:function(){return a(this)?this[k]:void 0}}),I)s[r]&&c(s[r],k,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:x&&k,aTypedArray:function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(p){if(C.call(w,e))return e}else for(var t in I)if(l(I,r)){var n=s[t];if(n&&(e===n||C.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(o){if(n)for(var r in I){var i=s[r];i&&l(i.prototype,e)&&delete i.prototype[e]}S[e]&&!n||h(S,e,n?t:T&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(o){if(p){if(n)for(r in I)(i=s[r])&&l(i,e)&&delete i[e];if(w[e]&&!n)return;try{return h(w,e,n?t:T&&v[e]||t)}catch(a){}}for(r in I)!(i=s[r])||i[e]&&!n||h(i,e,t)}},isView:function(e){var t=u(e);return"DataView"===t||l(I,t)},isTypedArray:P,TypedArray:w,TypedArrayPrototype:S}},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,n){var r=n(28),i=n(63),o=n(57)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},function(e,t,n){n(114),n(77),n(116),n(119),n(134),n(135);var r=n(43);e.exports=r.Promise},function(e,t,n){var r=n(96),i=n(29),o=n(115);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(96),i=n(95);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(11),i=n(117),o=n(118),s=n(26),a=n(57),l=a("iterator"),u=a("toStringTag"),c=o.values;for(var h in i){var d=r[h],f=d&&d.prototype;if(f){if(f[l]!==c)try{s(f,l,c)}catch(g){f[l]=c}if(f[u]||s(f,u,h),i[h])for(var p in o)if(f[p]!==o[p])try{s(f,p,o[p])}catch(g){f[p]=o[p]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(17),i=n(70),o=n(86),s=n(33),a=n(79),l=s.set,u=s.getterFor("Array Iterator");e.exports=a(Array,"Array",(function(e,t){l(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var r,i,o,s,a=n(10),l=n(37),u=n(11),c=n(42),h=n(120),d=n(29),f=n(121),p=n(85),g=n(122),m=n(22),v=n(63),y=n(123),b=n(19),_=n(31),w=n(124),S=n(97),A=n(112),C=n(125).set,E=n(128),k=n(129),T=n(131),x=n(130),I=n(132),P=n(33),O=n(52),R=n(57),N=n(133),D=R("species"),L="Promise",M=P.get,F=P.set,j=P.getterFor(L),V=h,U=u.TypeError,B=u.document,q=u.process,H=c("fetch"),z=x.f,G=z,W="process"==b(q),K=!!(B&&B.createEvent&&u.dispatchEvent),Q=O(L,(function(){if(_(V)===String(V)){if(66===N)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!V.prototype.finally)return!0;if(N>=51&&/native code/.test(V))return!1;var e=V.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),$=Q||!S((function(e){V.all(e).catch((function(){}))})),Y=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;E((function(){for(var i=t.value,o=1==t.state,s=0;r.length>s;){var a,l,u,c=r[s++],h=o?c.ok:c.fail,d=c.resolve,f=c.reject,p=c.domain;try{h?(o||(2===t.rejection&&te(e,t),t.rejection=1),!0===h?a=i:(p&&p.enter(),a=h(i),p&&(p.exit(),u=!0)),a===c.promise?f(U("Promise-chain cycle")):(l=Y(a))?l.call(a,d,f):d(a)):f(i)}catch(g){p&&!u&&p.exit(),f(g)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Z(e,t)}))}},J=function(e,t,n){var r,i;K?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(i=u["on"+e])?i(r):"unhandledrejection"===e&&T("Unhandled promise rejection",n)},Z=function(e,t){C.call(u,(function(){var n,r=t.value;if(ee(t)&&(n=I((function(){W?q.emit("unhandledRejection",r,e):J("unhandledrejection",e,r)})),t.rejection=W||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){C.call(u,(function(){W?q.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,X(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw U("Promise can't be resolved itself");var i=Y(n);i?E((function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(o){re(e,r,o,t)}})):(t.value=n,t.state=1,X(e,t,!1))}catch(o){re(e,{done:!1},o,t)}}};Q&&(V=function(e){y(this,V,L),v(e),r.call(this);var t=M(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(n){re(this,t,n)}},(r=function(e){F(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(V.prototype,{then:function(e,t){var n=j(this),r=z(A(this,V));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=W?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=M(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},x.f=z=function(e){return e===V||e===o?new i(e):G(e)},l||"function"!=typeof h||(s=h.prototype.then,d(h.prototype,"then",(function(e,t){var n=this;return new V((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return k(V,H.apply(u,arguments))}}))),a({global:!0,wrap:!0,forced:Q},{Promise:V}),p(V,L,!1,!0),g(L),o=c(L),a({target:L,stat:!0,forced:Q},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:l||Q},{resolve:function(e){return k(l&&this===o?V:this,e)}}),a({target:L,stat:!0,forced:$},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,o=I((function(){var n=v(t.resolve),o=[],s=0,a=1;w(e,(function(e){var l=s++,u=!1;o.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,o[l]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=I((function(){var i=v(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(11);e.exports=r.Promise},function(e,t,n){var r=n(29);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(42),i=n(27),o=n(57),s=n(13),a=o("species");e.exports=function(e){var t=r(e);s&&t&&!t[a]&&(0,i.f)(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(28),i=n(92),o=n(47),s=n(62),a=n(94),l=n(91),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,h){var d,f,p,g,m,v,y,b=s(t,n,c?2:1);if(h)d=e;else{if("function"!=typeof(f=a(e)))throw TypeError("Target is not iterable");if(i(f)){for(p=0,g=o(e.length);g>p;p++)if((m=c?b(r(y=e[p])[0],y[1]):b(e[p]))&&m instanceof u)return m;return new u(!1)}d=f.call(e)}for(v=d.next;!(y=v.call(d)).done;)if("object"==typeof(m=l(d,b,y.value,c))&&m&&m instanceof u)return m;return new u(!1)}).stop=function(e){return new u(!0,e)}},function(e,t,n){var r,i,o,s=n(11),a=n(14),l=n(19),u=n(62),c=n(74),h=n(25),d=n(126),f=s.location,p=s.setImmediate,g=s.clearImmediate,m=s.process,v=s.MessageChannel,y=s.Dispatch,b=0,_={},w=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){w(e)}},A=function(e){w(e.data)},C=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};p&&g||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},g=function(e){delete _[e]},"process"==l(m)?r=function(e){m.nextTick(S(e))}:y&&y.now?r=function(e){y.now(S(e))}:v&&!d?(o=(i=new v).port2,i.port1.onmessage=A,r=u(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(C)||"file:"===f.protocol?r="onreadystatechange"in h("script")?function(e){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(r=C,s.addEventListener("message",A,!1))),e.exports={set:p,clear:g}},function(e,t,n){var r=n(127);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(42);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r,i,o,s,a,l,u,c,h=n(11),d=n(12).f,f=n(19),p=n(125).set,g=n(126),m=h.MutationObserver||h.WebKitMutationObserver,v=h.process,y=h.Promise,b="process"==f(v),_=d(h,"queueMicrotask"),w=_&&_.value;w||(r=function(){var e,t;for(b&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?s():o=void 0,n}}o=void 0,e&&e.enter()},b?s=function(){v.nextTick(r)}:m&&!g?(a=!0,l=document.createTextNode(""),new m(r).observe(l,{characterData:!0}),s=function(){l.data=a=!a}):y&&y.resolve?(u=y.resolve(void 0),c=u.then,s=function(){c.call(u,r)}):s=function(){p.call(h,r)}),e.exports=w||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(e,t,n){var r=n(28),i=n(22),o=n(130);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(63),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(11);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},function(e,t,n){var r,i,o=n(11),s=n(127),a=o.process,l=a&&a.versions,u=l&&l.v8;u?i=(r=u.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){"use strict";var r=n(10),i=n(63),o=n(130),s=n(132),a=n(124);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,l=n.reject,u=s((function(){var n=i(t.resolve),o=[],s=0,l=1;a(e,(function(e){var i=s++,a=!1;o.push(void 0),l++,n.call(t,e).then((function(e){a||(a=!0,o[i]={status:"fulfilled",value:e},--l||r(o))}),(function(e){a||(a=!0,o[i]={status:"rejected",reason:e},--l||r(o))}))})),--l||r(o)}));return u.error&&l(u.value),n.promise}})},function(e,t,n){"use strict";var r=n(10),i=n(37),o=n(120),s=n(14),a=n(42),l=n(112),u=n(129),c=n(29);r({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,a("Promise")),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",a("Promise").prototype.finally)},function(e,t,n){n(137),n(142),n(140);var r=n(43);e.exports=r.URL},function(e,t,n){"use strict";n(77);var r,i=n(10),o=n(13),s=n(138),a=n(11),l=n(72),u=n(29),c=n(123),h=n(23),d=n(100),f=n(90),p=n(78).codeAt,g=n(139),m=n(85),v=n(140),y=n(33),b=a.URL,_=v.URLSearchParams,w=v.getState,S=y.set,A=y.getterFor("URL"),C=Math.floor,E=Math.pow,k=/[A-Za-z]/,T=/[\d+-.A-Za-z]/,x=/\d/,I=/^(0x|0X)/,P=/^[0-7]+$/,O=/^\d+$/,R=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,L=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,F=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=V(t.slice(1,-1))))return"Invalid host";e.host=n}else if(K(e)){if(t=g(t),N.test(t))return"Invalid host";if(null===(n=j(t)))return"Invalid host";e.host=n}else{if(D.test(t))return"Invalid host";for(n="",r=f(t),i=0;i<r.length;i++)n+=G(r[i],B);e.host=n}},j=function(e){var t,n,r,i,o,s,a,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=I.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)s=0;else{if(!(10==o?O:8==o?P:R).test(i))return e;s=parseInt(i,o)}n.push(s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=E(256,5-t))return null}else if(s>255)return null;for(a=n.pop(),r=0;r<n.length;r++)a+=n[r]*E(256,3-r);return a},V=function(e){var t,n,r,i,o,s,a,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return e.charAt(h)};if(":"==d()){if(":"!=e.charAt(1))return;h+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&R.test(d());)t=16*t+parseInt(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,u>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!x.test(d()))return;for(;x.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(s=u-c,u=7;0!=u&&s>0;)a=l[u],l[u--]=l[c+s-1],l[c+--s]=a;else if(8!=u)return;return l},U=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},B={},q=d({},B,{" ":1,'"':1,"<":1,">":1,"`":1}),H=d({},q,{"#":1,"?":1,"{":1,"}":1}),z=d({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=p(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},W={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(e){return h(W,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},$=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Y=function(e,t){var n;return 2==e.length&&k.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},X=function(e){var t;return e.length>1&&Y(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Y(t[0],!0)||t.pop()},Z=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ie={},oe={},se={},ae={},le={},ue={},ce={},he={},de={},fe={},pe={},ge={},me={},ve={},ye={},be={},_e={},we=function(e,t,n,i){var o,s,a,l,u,c=n||ee,d=0,p="",g=!1,m=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(L,"")),t=t.replace(M,""),o=f(t);d<=o.length;){switch(s=o[d],c){case ee:if(!s||!k.test(s)){if(n)return"Invalid scheme";c=ne;continue}p+=s.toLowerCase(),c=te;break;case te:if(s&&(T.test(s)||"+"==s||"-"==s||"."==s))p+=s.toLowerCase();else{if(":"!=s){if(n)return"Invalid scheme";p="",c=ne,d=0;continue}if(n&&(K(e)!=h(W,p)||"file"==p&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(K(e)&&W[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=fe:K(e)&&i&&i.scheme==e.scheme?c=re:K(e)?c=ae:"/"==o[d+1]?(c=ie,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ye)}break;case ne:if(!i||i.cannotBeABaseURL&&"#"!=s)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==s){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=_e;break}c="file"==i.scheme?fe:oe;continue;case re:if("/"!=s||"/"!=o[d+1]){c=oe;continue}c=le,d++;break;case ie:if("/"==s){c=ue;break}c=ve;continue;case oe:if(e.scheme=i.scheme,s==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==s||"\\"==s&&K(e))c=se;else if("?"==s)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=be;else{if("#"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=ve;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=_e}break;case se:if(!K(e)||"/"!=s&&"\\"!=s){if("/"!=s){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=ve;continue}c=ue}else c=le;break;case ae:if(c=le,"/"!=s||"/"!=p.charAt(d+1))continue;d++;break;case le:if("/"!=s&&"\\"!=s){c=ue;continue}break;case ue:if("@"==s){g&&(p="%40"+p),g=!0,a=f(p);for(var y=0;y<a.length;y++){var b=a[y];if(":"!=b||v){var _=G(b,z);v?e.password+=_:e.username+=_}else v=!0}p=""}else if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(g&&""==p)return"Invalid authority";d-=f(p).length+1,p="",c=ce}else p+=s;break;case ce:case he:if(n&&"file"==e.scheme){c=ge;continue}if(":"!=s||m){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)){if(K(e)&&""==p)return"Invalid host";if(n&&""==p&&(Q(e)||null!==e.port))return;if(l=F(e,p))return l;if(p="",c=me,n)return;continue}"["==s?m=!0:"]"==s&&(m=!1),p+=s}else{if(""==p)return"Invalid host";if(l=F(e,p))return l;if(p="",c=de,n==he)return}break;case de:if(!x.test(s)){if(s==r||"/"==s||"?"==s||"#"==s||"\\"==s&&K(e)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return"Invalid port";e.port=K(e)&&w===W[e.scheme]?null:w,p=""}if(n)return;c=me;continue}return"Invalid port"}p+=s;break;case fe:if(e.scheme="file","/"==s||"\\"==s)c=pe;else{if(!i||"file"!=i.scheme){c=ve;continue}if(s==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==s)e.host=i.host,e.path=i.path.slice(),e.query="",c=be;else{if("#"!=s){X(o.slice(d).join(""))||(e.host=i.host,e.path=i.path.slice(),J(e)),c=ve;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=_e}}break;case pe:if("/"==s||"\\"==s){c=ge;break}i&&"file"==i.scheme&&!X(o.slice(d).join(""))&&(Y(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=ve;continue;case ge:if(s==r||"/"==s||"\\"==s||"?"==s||"#"==s){if(!n&&Y(p))c=ve;else if(""==p){if(e.host="",n)return;c=me}else{if(l=F(e,p))return l;if("localhost"==e.host&&(e.host=""),n)return;p="",c=me}continue}p+=s;break;case me:if(K(e)){if(c=ve,"/"!=s&&"\\"!=s)continue}else if(n||"?"!=s)if(n||"#"!=s){if(s!=r&&(c=ve,"/"!=s))continue}else e.fragment="",c=_e;else e.query="",c=be;break;case ve:if(s==r||"/"==s||"\\"==s&&K(e)||!n&&("?"==s||"#"==s)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(J(e),"/"==s||"\\"==s&&K(e)||e.path.push("")):Z(p)?"/"==s||"\\"==s&&K(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Y(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(s==r||"?"==s||"#"==s))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==s?(e.query="",c=be):"#"==s&&(e.fragment="",c=_e)}else p+=G(s,H);break;case ye:"?"==s?(e.query="",c=be):"#"==s?(e.fragment="",c=_e):s!=r&&(e.path[0]+=G(s,B));break;case be:n||"#"!=s?s!=r&&("'"==s&&K(e)?e.query+="%27":e.query+="#"==s?"%23":G(s,B)):(e.fragment="",c=_e);break;case _e:s!=r&&(e.fragment+=G(s,q))}d++}},Se=function(e){var t,n,r=c(this,Se,"URL"),i=arguments.length>1?arguments[1]:void 0,s=String(e),a=S(r,{type:"URL"});if(void 0!==i)if(i instanceof Se)t=A(i);else if(n=we(t={},String(i)))throw TypeError(n);if(n=we(a,s,null,t))throw TypeError(n);var l=a.searchParams=new _,u=w(l);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(l)||null},o||(r.href=Ce.call(r),r.origin=Ee.call(r),r.protocol=ke.call(r),r.username=Te.call(r),r.password=xe.call(r),r.host=Ie.call(r),r.hostname=Pe.call(r),r.port=Oe.call(r),r.pathname=Re.call(r),r.search=Ne.call(r),r.searchParams=De.call(r),r.hash=Le.call(r))},Ae=Se.prototype,Ce=function(){var e=A(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",Q(e)&&(u+=n+(r?":"+r:"")+"@"),u+=U(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==a&&(u+="?"+a),null!==l&&(u+="#"+l),u},Ee=function(){var e=A(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&K(e)?t+"://"+U(e.host)+(null!==n?":"+n:""):"null"},ke=function(){return A(this).scheme+":"},Te=function(){return A(this).username},xe=function(){return A(this).password},Ie=function(){var e=A(this),t=e.host,n=e.port;return null===t?"":null===n?U(t):U(t)+":"+n},Pe=function(){var e=A(this).host;return null===e?"":U(e)},Oe=function(){var e=A(this).port;return null===e?"":String(e)},Re=function(){var e=A(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ne=function(){var e=A(this).query;return e?"?"+e:""},De=function(){return A(this).searchParams},Le=function(){var e=A(this).fragment;return e?"#"+e:""},Me=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(Ae,{href:Me(Ce,(function(e){var t=A(this),n=String(e),r=we(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)})),origin:Me(Ee),protocol:Me(ke,(function(e){var t=A(this);we(t,String(e)+":",ee)})),username:Me(Te,(function(e){var t=A(this),n=f(String(e));if(!$(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=G(n[r],z)}})),password:Me(xe,(function(e){var t=A(this),n=f(String(e));if(!$(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=G(n[r],z)}})),host:Me(Ie,(function(e){var t=A(this);t.cannotBeABaseURL||we(t,String(e),ce)})),hostname:Me(Pe,(function(e){var t=A(this);t.cannotBeABaseURL||we(t,String(e),he)})),port:Me(Oe,(function(e){var t=A(this);$(t)||(""==(e=String(e))?t.port=null:we(t,e,de))})),pathname:Me(Re,(function(e){var t=A(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",me))})),search:Me(Ne,(function(e){var t=A(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,be)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Me(De),hash:Me(Le,(function(e){var t=A(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,_e)):t.fragment=null}))}),u(Ae,"toJSON",(function(){return Ce.call(this)}),{enumerable:!0}),u(Ae,"toString",(function(){return Ce.call(this)}),{enumerable:!0}),b){var Fe=b.createObjectURL,je=b.revokeObjectURL;Fe&&u(Se,"createObjectURL",(function(e){return Fe.apply(b,arguments)})),je&&u(Se,"revokeObjectURL",(function(e){return je.apply(b,arguments)}))}m(Se,"URL"),i({global:!0,forced:!s,sham:!o},{URL:Se})},function(e,t,n){var r=n(14),i=n(57),o=n(37),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",s=Math.floor,a=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,n){var r=0;for(e=n?s(e/700):e>>1,e+=s(e/t);e>455;r+=36)e=s(e/35);return s(r+36*e/(e+38))},c=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,c=128,h=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(a(n));var f=r.length,p=f;for(f&&r.push("-");p<i;){var g=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=c&&n<g&&(g=n);var m=p+1;if(g-c>s((2147483647-h)/m))throw RangeError(o);for(h+=(g-c)*m,c=g,t=0;t<e.length;t++){if((n=e[t])<c&&++h>2147483647)throw RangeError(o);if(n==c){for(var v=h,y=36;;y+=36){var b=y<=d?1:y>=d+26?26:y-d;if(v<b)break;var _=v-b,w=36-b;r.push(a(l(b+_%w))),v=s(_/w)}r.push(a(l(v))),d=u(h,m,p==f),h=0,++p}}++h,++c}return r.join("")};e.exports=function(e){var t,n,o=[],s=e.toLowerCase().replace(i,".").split(".");for(t=0;t<s.length;t++)o.push(r.test(n=s[t])?"xn--"+c(n):n);return o.join(".")}},function(e,t,n){"use strict";n(118);var r=n(10),i=n(42),o=n(138),s=n(29),a=n(121),l=n(85),u=n(80),c=n(33),h=n(123),d=n(23),f=n(62),p=n(95),g=n(28),m=n(22),v=n(71),y=n(16),b=n(141),_=n(94),w=n(57),S=i("fetch"),A=i("Headers"),C=w("iterator"),E=c.set,k=c.getterFor("URLSearchParams"),T=c.getterFor("URLSearchParamsIterator"),x=/\+/g,I=Array(4),P=function(e){return I[e-1]||(I[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},O=function(e){try{return decodeURIComponent(e)}catch(t){return e}},R=function(e){var t=e.replace(x," "),n=4;try{return decodeURIComponent(t)}catch(r){for(;n;)t=t.replace(P(n--),O);return t}},N=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},L=function(e){return D[e]},M=function(e){return encodeURIComponent(e).replace(N,L)},F=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:R(r.shift()),value:R(r.join("="))}))},j=function(e){this.entries.length=0,F(this.entries,e)},V=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=u((function(e,t){E(this,{type:"URLSearchParamsIterator",iterator:b(k(e).entries),kind:t})}),"Iterator",(function(){var e=T(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),B=function(){h(this,B,"URLSearchParams");var e,t,n,r,i,o,s,a,l,u=arguments.length>0?arguments[0]:void 0,c=this,f=[];if(E(c,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:j}),void 0!==u)if(m(u))if("function"==typeof(e=_(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((s=(o=(i=b(g(r.value))).next).call(i)).done||(a=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:s.value+"",value:a.value+""})}else for(l in u)d(u,l)&&f.push({key:l,value:u[l]+""});else F(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},q=B.prototype;a(q,{append:function(e,t){V(arguments.length,2);var n=k(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){V(arguments.length,1);for(var t=k(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){V(arguments.length,1);for(var t=k(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){V(arguments.length,1);for(var t=k(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){V(arguments.length,1);for(var t=k(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){V(arguments.length,1);for(var n,r=k(this),i=r.entries,o=!1,s=e+"",a=t+"",l=0;l<i.length;l++)(n=i[l]).key===s&&(o?i.splice(l--,1):(o=!0,n.value=a));o||i.push({key:s,value:a}),r.updateURL()},sort:function(){var e,t,n,r=k(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=k(this).entries,r=f(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),s(q,C,q.entries),s(q,"toString",(function(){for(var e,t=k(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(M(e.key)+"="+M(e.value));return n.join("&")}),{enumerable:!0}),l(B,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:B}),o||"function"!=typeof S||"function"!=typeof A||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(m(t=arguments[1])&&"URLSearchParams"===p(n=t.body)&&((r=t.headers?new A(t.headers):new A).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:y(0,String(n)),headers:y(0,r)})),i.push(t)),S.apply(this,i)}}),e.exports={URLSearchParams:B,getState:k}},function(e,t,n){var r=n(28),i=n(94);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";n(10)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){!function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol("+e+")"};function n(){}var r=Number.isNaN||function(e){return e!=e},i=n;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}function s(e){return e.slice()}function a(e){return!1!==function(e){return!("number"!=typeof e||r(e)||e<0)}(e)&&e!==1/0}function l(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function u(e,t,n,r){var i=e[t];if(void 0!==i){if("function"!=typeof i)throw new TypeError(i+" is not a method");switch(n){case 0:return function(){return h(i,e,r)};case 1:return function(t){var n=[t].concat(r);return h(i,e,n)}}}return function(){return b(void 0)}}function c(e,t,n){var r=e[t];if(void 0!==r)return l(r,e,n)}function h(e,t,n){try{return b(l(e,t,n))}catch(r){return _(r)}}function d(e){if(e=Number(e),r(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e}function f(e){if(void 0===e)return function(){return 1};if("function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return function(t){return e(t)}}var p=Promise,g=Promise.prototype.then,m=Promise.resolve.bind(p),v=Promise.reject.bind(p);function y(e){return new p(e)}function b(e){return m(e)}function _(e){return v(e)}function w(e,t,n){return g.call(e,t,n)}function S(e,t,n){w(w(e,t,n),void 0,i)}function A(e,t){S(e,t)}function C(e,t){S(e,void 0,t)}function E(e,t,n){return w(e,t,n)}function k(e){w(e,void 0,i)}var T=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.push=function(e){var t=this._back,n=t;16383===t._elements.length&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,r=n+1,i=e._elements,o=i[n];return 16384===r&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),i[n]=void 0,o},e.prototype.forEach=function(e){for(var t=this._cursor,n=this._front,r=n._elements;!(t===r.length&&void 0===n._next||t===r.length&&(t=0,0===(r=(n=n._next)._elements).length));)e(r[t]),++t},e.prototype.peek=function(){return this._front._elements[this._cursor]},e}();function x(e,t,n){var r=null;!0===n&&(r=Object.prototype);var i=Object.create(r);return i.value=e,i.done=t,i}function I(e,t){e._forAuthorCode=!0,e._ownerReadableStream=t,t._reader=e,"readable"===t._state?N(e):"closed"===t._state?function(e){N(e),M(e)}(e):D(e,t._storedError)}function P(e,t){return jt(e._ownerReadableStream,t)}function O(e){"readable"===e._ownerReadableStream._state?L(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){D(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function R(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function N(e){e._closedPromise=y((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n}))}function D(e,t){N(e),L(e,t)}function L(e,t){k(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function M(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}var F=t("[[CancelSteps]]"),j=t("[[PullSteps]]");function V(e,t){void 0===t&&(t=!1);var n=new W(e);return n._forAuthorCode=t,n}function U(e){return y((function(t,n){e._reader._readRequests.push({_resolve:t,_reject:n})}))}function B(e,t,n){var r=e._reader;r._readRequests.shift()._resolve(x(t,n,r._forAuthorCode))}function q(e){return e._reader._readRequests.length}function H(e){var t=e._reader;return void 0!==t&&!!K(t)}var z,G,W=function(){function e(e){if(!1===Mt(e))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Ft(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");I(this,e),this._readRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return K(this)?this._closedPromise:_($("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return K(this)?void 0===this._ownerReadableStream?_(R("cancel")):P(this,e):_($("cancel"))},e.prototype.read=function(){return K(this)?void 0===this._ownerReadableStream?_(R("read from")):Q(this):_($("read"))},e.prototype.releaseLock=function(){if(!K(this))throw $("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");O(this)}},e}();function K(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Q(e){var t=e._ownerReadableStream;return t._disturbed=!0,"closed"===t._state?b(x(void 0,!0,e._forAuthorCode)):"errored"===t._state?_(t._storedError):t._readableStreamController[j]()}function $(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof t.asyncIterator&&((z={})[t.asyncIterator]=function(){return this},G=z,Object.defineProperty(G,t.asyncIterator,{enumerable:!1}));var Y={next:function(){if(!1===X(this))return _(J("next"));var e=this._asyncIteratorReader;return void 0===e._ownerReadableStream?_(R("iterate")):E(Q(e),(function(t){var n=t.done;return n&&O(e),x(t.value,n,!0)}))},return:function(e){if(!1===X(this))return _(J("next"));var t=this._asyncIteratorReader;if(void 0===t._ownerReadableStream)return _(R("finish iterating"));if(t._readRequests.length>0)return _(new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this._preventCancel){var n=P(t,e);return O(t),E(n,(function(){return x(e,!0,!0)}))}return O(t),b(x(e,!0,!0))}};function X(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorReader")}function J(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}function Z(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ee(e,t,n){if(!a(n=Number(n)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function te(e){e._queue=new T,e._queueTotalSize=0}void 0!==G&&Object.setPrototypeOf(Y,G),Object.defineProperty(Y,"next",{enumerable:!1}),Object.defineProperty(Y,"return",{enumerable:!1});var ne=t("[[AbortSteps]]"),re=t("[[ErrorSteps]]"),ie=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),se(this);var n=t.size,r=t.highWaterMark;if(void 0!==e.type)throw new RangeError("Invalid type is specified");var i=f(n);void 0===r&&(r=1),function(e,t,n,r){var i=Object.create(Ae.prototype),o=u(t,"write",1,[i]),s=u(t,"close",0,[]),a=u(t,"abort",1,[]);Ce(e,i,(function(){return c(t,"start",[i])}),o,s,a,n,r)}(this,e,r=d(r),i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===ae(this))throw Oe("locked");return le(this)},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===ae(this)?_(Oe("abort")):!0===le(this)?_(new TypeError("Cannot abort a stream that already has a writer")):ue(this,e)},e.prototype.close=function(){return!1===ae(this)?_(Oe("close")):!0===le(this)?_(new TypeError("Cannot close a stream that already has a writer")):!0===pe(this)?_(new TypeError("Cannot close an already-closing stream")):ce(this)},e.prototype.getWriter=function(){if(!1===ae(this))throw Oe("getWriter");return oe(this)},e}();function oe(e){return new ve(e)}function se(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new T,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ae(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function le(e){return void 0!==e._writer}function ue(e,t){var n=e._state;if("closed"===n||"errored"===n)return b(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var r=!1;"erroring"===n&&(r=!0,t=void 0);var i=y((function(n,i){e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:i,_reason:t,_wasAlreadyErroring:r}}));return e._pendingAbortRequest._promise=i,!1===r&&de(e,t),i}function ce(e){var t=e._state;if("closed"===t||"errored"===t)return _(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));var n,r=y((function(t,n){e._closeRequest={_resolve:t,_reject:n}})),i=e._writer;return void 0!==i&&!0===e._backpressure&&"writable"===t&&qe(i),ee(n=e._writableStreamController,"close",0),Te(n),r}function he(e,t){"writable"!==e._state?fe(e):de(e,t)}function de(e,t){var n=e._writableStreamController;e._state="erroring",e._storedError=t;var r=e._writer;void 0!==r&&_e(r,t),!1===function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&!0===n._started&&fe(e)}function fe(e){e._state="errored",e._writableStreamController[re]();var t=e._storedError;if(e._writeRequests.forEach((function(e){e._reject(t)})),e._writeRequests=new T,void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,!0===n._wasAlreadyErroring)return n._reject(t),void ge(e);S(e._writableStreamController[ne](n._reason),(function(){n._resolve(),ge(e)}),(function(t){n._reject(t),ge(e)}))}else ge(e)}function pe(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function ge(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Me(t,e._storedError)}function me(e,t){var n=e._writer;void 0!==n&&t!==e._backpressure&&(!0===t?function(e){je(e)}(n):qe(n)),e._backpressure=t}var ve=function(){function e(e){if(!1===ae(e))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===le(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!1===pe(e)&&!0===e._backpressure?je(this):Ue(this),De(this);else if("erroring"===t)Ve(this,e._storedError),De(this);else if("closed"===t)Ue(this),De(this),Fe(this);else{var n=e._storedError;Ve(this,n),Le(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return!1===ye(this)?_(Re("closed")):this._closedPromise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===ye(this))throw Re("desiredSize");if(void 0===this._ownerWritableStream)throw Ne("desiredSize");return"errored"===(t=(e=this._ownerWritableStream)._state)||"erroring"===t?null:"closed"===t?0:ke(e._writableStreamController);var e,t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return!1===ye(this)?_(Re("ready")):this._readyPromise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){return!1===ye(this)?_(Re("abort")):void 0===this._ownerWritableStream?_(Ne("abort")):function(e,t){return ue(e._ownerWritableStream,t)}(this,e)},e.prototype.close=function(){if(!1===ye(this))return _(Re("close"));var e=this._ownerWritableStream;return void 0===e?_(Ne("close")):!0===pe(e)?_(new TypeError("Cannot close an already-closing stream")):be(this)},e.prototype.releaseLock=function(){if(!1===ye(this))throw Re("releaseLock");void 0!==this._ownerWritableStream&&we(this)},e.prototype.write=function(e){return!1===ye(this)?_(Re("write")):void 0===this._ownerWritableStream?_(Ne("write to")):Se(this,e)},e}();function ye(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function be(e){return ce(e._ownerWritableStream)}function _e(e,t){"pending"===e._readyPromiseState?Be(e,t):function(e,t){Ve(e,t)}(e,t)}function we(e){var t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");_e(e,n),function(e,t){"pending"===e._closedPromiseState?Me(e,t):function(e,t){Le(e,t)}(e,t)}(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function Se(e,t){var n=e._ownerWritableStream,r=n._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(n){return xe(e,n),1}}(r,t);if(n!==e._ownerWritableStream)return _(Ne("write to"));var o=n._state;if("errored"===o)return _(n._storedError);if(!0===pe(n)||"closed"===o)return _(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return _(n._storedError);var s=function(e){return y((function(t,n){e._writeRequests.push({_resolve:t,_reject:n})}))}(n);return function(e,t,n){var r={chunk:t};try{ee(e,r,n)}catch(o){return void xe(e,o)}var i=e._controlledWritableStream;!1===pe(i)&&"writable"===i._state&&me(i,Ie(e)),Te(e)}(r,t,i),s}var Ae=function(){function e(){throw new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return e.prototype.error=function(e){if(0==(!!o(this)&&!!Object.prototype.hasOwnProperty.call(this,"_controlledWritableStream")))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&Pe(this,e)},e.prototype[ne]=function(e){var t=this._abortAlgorithm(e);return Ee(this),t},e.prototype[re]=function(){te(this)},e}();function Ce(e,t,n,r,i,o,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,te(t),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=r,t._closeAlgorithm=i,t._abortAlgorithm=o;var l=Ie(t);me(e,l),S(b(n()),(function(){t._started=!0,Te(t)}),(function(n){t._started=!0,he(e,n)}))}function Ee(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ke(e){return e._strategyHWM-e._queueTotalSize}function Te(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest)if("erroring"!==t._state){if(0!==e._queue.length){var n=e._queue.peek().value;"close"===n?function(e){var t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),Z(e);var n=e._closeAlgorithm();Ee(e),S(n,(function(){!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&Fe(t)}(t)}),(function(e){!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),he(e,t)}(t,e)}))}(e):function(e,t){var n=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(n),S(e._writeAlgorithm(t),(function(){!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(n);var t=n._state;if(Z(e),!1===pe(n)&&"writable"===t){var r=Ie(e);me(n,r)}Te(e)}),(function(t){"writable"===n._state&&Ee(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,he(e,t)}(n,t)}))}(e,n.chunk)}}else fe(t)}function xe(e,t){"writable"===e._controlledWritableStream._state&&Pe(e,t)}function Ie(e){return ke(e)<=0}function Pe(e,t){var n=e._controlledWritableStream;Ee(e),de(n,t)}function Oe(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Re(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function Ne(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function De(e){e._closedPromise=y((function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"}))}function Le(e,t){De(e),Me(e,t)}function Me(e,t){k(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function Fe(e){e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function je(e){e._readyPromise=y((function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n})),e._readyPromiseState="pending"}function Ve(e,t){je(e),Be(e,t)}function Ue(e){je(e),qe(e)}function Be(e,t){k(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function qe(e){e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function He(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(z){return!1}}var ze,Ge="undefined"!=typeof DOMException?DOMException:void 0,We=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(z){return!1}}(Ge)?Ge:((ze=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(ze.prototype,"constructor",{value:ze,writable:!0,configurable:!0}),ze);function Ke(e,t,r,i,o,s){var a=V(e),l=oe(t);e._disturbed=!0;var u=!1,c=b(void 0);return y((function(h,d){var f,p,g;if(void 0!==s){if(f=function(){var n=new We("Aborted","AbortError"),r=[];!1===i&&r.push((function(){return"writable"===t._state?ue(t,n):b(void 0)})),!1===o&&r.push((function(){return"readable"===e._state?jt(e,n):b(void 0)})),T((function(){return Promise.all(r.map((function(e){return e()})))}),!0,n)},!0===s.aborted)return void f();s.addEventListener("abort",f)}if(E(e,a._closedPromise,(function(e){!1===i?T((function(){return ue(t,e)}),!0,e):x(!0,e)})),E(t,l._closedPromise,(function(t){!1===o?T((function(){return jt(e,t)}),!0,t):x(!0,t)})),p=a._closedPromise,g=function(){!1===r?T((function(){return function(e){var t=e._ownerWritableStream,n=t._state;return!0===pe(t)||"closed"===n?b(void 0):"errored"===n?_(t._storedError):be(e)}(l)})):x()},"closed"===e._state?g():A(p,g),!0===pe(t)||"closed"===t._state){var m=new TypeError("the destination writable stream closed before all data could be piped to it");!1===o?T((function(){return jt(e,m)}),!0,m):x(!0,m)}function v(){var e=c;return w(c,(function(){return e!==c?v():void 0}))}function E(e,t,n){"errored"===e._state?n(e._storedError):C(t,n)}function T(e,n,r){function i(){S(e(),(function(){return I(n,r)}),(function(e){return I(!0,e)}))}!0!==u&&(u=!0,"writable"===t._state&&!1===pe(t)?A(v(),i):i())}function x(e,n){!0!==u&&(u=!0,"writable"===t._state&&!1===pe(t)?A(v(),(function(){return I(e,n)})):I(e,n))}function I(e,t){we(l),O(a),void 0!==s&&s.removeEventListener("abort",f),e?d(t):h(void 0)}k(y((function(e,t){!function r(i){i?e():w(!0===u?b(!0):w(l._readyPromise,(function(){return w(Q(a),(function(e){return!0===e.done||(c=w(Se(l,e.value),void 0,n),!1)}))})),r,t)}(!1)})))}))}var Qe=function(){function e(){throw new TypeError}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===$e(this))throw ot("desiredSize");return nt(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===$e(this))throw ot("close");if(!1===rt(this))throw new TypeError("The stream is not in a state that permits close");Ze(this)},e.prototype.enqueue=function(e){if(!1===$e(this))throw ot("enqueue");if(!1===rt(this))throw new TypeError("The stream is not in a state that permits enqueue");return et(this,e)},e.prototype.error=function(e){if(!1===$e(this))throw ot("error");tt(this,e)},e.prototype[F]=function(e){te(this);var t=this._cancelAlgorithm(e);return Je(this),t},e.prototype[j]=function(){var e=this._controlledReadableStream;if(this._queue.length>0){var t=Z(this);return!0===this._closeRequested&&0===this._queue.length?(Je(this),Vt(e)):Ye(this),b(x(t,!1,e._reader._forAuthorCode))}var n=U(e);return Ye(this),n},e}();function $e(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Ye(e){!1!==Xe(e)&&(!0!==e._pulling?(e._pulling=!0,S(e._pullAlgorithm(),(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,Ye(e))}),(function(t){tt(e,t)}))):e._pullAgain=!0)}function Xe(e){var t=e._controlledReadableStream;return!1!==rt(e)&&!1!==e._started&&(!0===Ft(t)&&q(t)>0||nt(e)>0)}function Je(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ze(e){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Je(e),Vt(t))}function et(e,t){var n=e._controlledReadableStream;if(!0===Ft(n)&&q(n)>0)B(n,t,!1);else{var r=void 0;try{r=e._strategySizeAlgorithm(t)}catch(i){throw tt(e,i),i}try{ee(e,t,r)}catch(o){throw tt(e,o),o}}Ye(e)}function tt(e,t){var n=e._controlledReadableStream;"readable"===n._state&&(te(e),Je(e),Ut(n,t))}function nt(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function rt(e){return!1===e._closeRequested&&"readable"===e._controlledReadableStream._state}function it(e,t,n,r,i,o,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,te(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._pullAlgorithm=r,t._cancelAlgorithm=i,e._readableStreamController=t,S(b(n()),(function(){t._started=!0,Ye(t)}),(function(e){tt(t,e)}))}function ot(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}var st=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},at=function(){function e(){throw new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!1===ct(this))throw Et("view");return this._view},enumerable:!0,configurable:!0}),e.prototype.respond=function(e){if(!1===ct(this))throw Et("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){if(!1===a(t=Number(t)))throw new RangeError("bytesWritten must be a finite");_t(e,t)}(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!1===ct(this))throw Et("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");!function(e,t){var n=e._pendingPullIntos.peek();if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");n.buffer=t.buffer,_t(e,t.byteLength)}(this._associatedReadableByteStreamController,e)},e}(),lt=function(){function e(){throw new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!1===ut(this))throw kt("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),n=Object.create(at.prototype);!function(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}(n,this,t),this._byobRequest=n}return this._byobRequest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===ut(this))throw kt("desiredSize");return Ct(this)},enumerable:!0,configurable:!0}),e.prototype.close=function(){if(!1===ut(this))throw kt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");!function(e){var t=e._controlledReadableByteStream;if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw At(e,n),n}St(e),Vt(t)}}(this)},e.prototype.enqueue=function(e){if(!1===ut(this))throw kt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(e,t){var n=e._controlledReadableByteStream,r=t.byteOffset,i=t.byteLength,o=t.buffer;!0===H(n)?0===q(n)?pt(e,o,r,i):B(n,new Uint8Array(o,r,i),!1):!0===It(n)?(pt(e,o,r,i),bt(e)):pt(e,o,r,i),ht(e)}(this,e)},e.prototype.error=function(e){if(!1===ut(this))throw kt("error");At(this,e)},e.prototype[F]=function(e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),te(this);var t=this._cancelAlgorithm(e);return St(this),t},e.prototype[j]=function(){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var t=this._queue.shift();this._queueTotalSize-=t.byteLength,vt(this);var n=void 0;try{n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}catch(a){return _(a)}return b(x(n,!1,e._reader._forAuthorCode))}var r=this._autoAllocateChunkSize;if(void 0!==r){var i=void 0;try{i=new ArrayBuffer(r)}catch(l){return _(l)}var o={buffer:i,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}var s=U(e);return ht(this),s},e}();function ut(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function ct(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function ht(e){!1!==function(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!0!==e._closeRequested&&!1!==e._started&&(!0===H(t)&&q(t)>0||!0===It(t)&&xt(t)>0||Ct(e)>0)}(e)&&(!0!==e._pulling?(e._pulling=!0,S(e._pullAlgorithm(),(function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,ht(e))}),(function(t){At(e,t)}))):e._pullAgain=!0)}function dt(e,t){var n=!1;"closed"===e._state&&(n=!0);var r=ft(t);"default"===t.readerType?B(e,r,n):function(e,t,n){var r=e._reader;r._readIntoRequests.shift()._resolve(x(t,n,r._forAuthorCode))}(e,r,n)}function ft(e){return new e.ctor(e.buffer,e.byteOffset,e.bytesFilled/e.elementSize)}function pt(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function gt(e,t){var n=t.elementSize,r=t.bytesFilled-t.bytesFilled%n,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+i,s=o-o%n,a=i,l=!1;s>r&&(a=s-t.bytesFilled,l=!0);for(var u,c,h,d,f=e._queue;a>0;){var p=f.peek(),g=Math.min(a,p.byteLength);u=t.byteOffset+t.bytesFilled,c=p.buffer,h=p.byteOffset,d=g,new Uint8Array(t.buffer).set(new Uint8Array(c,h,d),u),p.byteLength===g?f.shift():(p.byteOffset+=g,p.byteLength-=g),e._queueTotalSize-=g,mt(e,g,t),a-=g}return l}function mt(e,t,n){yt(e),n.bytesFilled+=t}function vt(e){0===e._queueTotalSize&&!0===e._closeRequested?(St(e),Vt(e._controlledReadableByteStream)):ht(e)}function yt(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function bt(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();!0===gt(e,t)&&(wt(e),dt(e._controlledReadableByteStream,t))}}function _t(e,t){var n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;var n=e._controlledReadableByteStream;if(!0===It(n))for(;xt(n)>0;)dt(n,wt(e))}(e,n)}else!function(e,t,n){if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range");if(mt(e,t,n),!(n.bytesFilled<n.elementSize)){wt(e);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled,o=n.buffer.slice(i-r,i);pt(e,o,0,o.byteLength)}n.buffer=n.buffer,n.bytesFilled-=r,dt(e._controlledReadableByteStream,n),bt(e)}}(e,t,n);ht(e)}function wt(e){var t=e._pendingPullIntos.shift();return yt(e),t}function St(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function At(e,t){var n=e._controlledReadableByteStream;"readable"===n._state&&(function(e){yt(e),e._pendingPullIntos=new T}(e),te(e),St(e),Ut(n,t))}function Ct(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Et(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function kt(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Tt(e){return y((function(t,n){e._reader._readIntoRequests.push({_resolve:t,_reject:n})}))}function xt(e){return e._reader._readIntoRequests.length}function It(e){var t=e._reader;return void 0!==t&&!!Ot(t)}var Pt=function(){function e(e){if(!Mt(e))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===ut(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Ft(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");I(this,e),this._readIntoRequests=new T}return Object.defineProperty(e.prototype,"closed",{get:function(){return Ot(this)?this._closedPromise:_(Rt("closed"))},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return Ot(this)?void 0===this._ownerReadableStream?_(R("cancel")):P(this,e):_(Rt("cancel"))},e.prototype.read=function(e){return Ot(this)?void 0===this._ownerReadableStream?_(R("read from")):ArrayBuffer.isView(e)?0===e.byteLength?_(new TypeError("view must have non-zero byteLength")):function(e,t){var n=e._ownerReadableStream;return n._disturbed=!0,"errored"===n._state?_(n._storedError):function(e,t){var n=e._controlledReadableByteStream,r=1;t.constructor!==DataView&&(r=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,o={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:r,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(o),Tt(n);if("closed"===n._state)return b(x(new i(o.buffer,o.byteOffset,0),!0,n._reader._forAuthorCode));if(e._queueTotalSize>0){if(!0===gt(e,o)){var s=ft(o);return vt(e),b(x(s,!1,n._reader._forAuthorCode))}if(!0===e._closeRequested){var a=new TypeError("Insufficient bytes to fill elements in the given buffer");return At(e,a),_(a)}}e._pendingPullIntos.push(o);var l=Tt(n);return ht(e),l}(n._readableStreamController,t)}(this,e):_(new TypeError("view must be an array buffer view")):_(Rt("read"))},e.prototype.releaseLock=function(){if(!Ot(this))throw Rt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");O(this)}},e}();function Ot(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function Rt(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}var Nt=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Lt(this);var n=t.size,r=t.highWaterMark,i=e.type;if("bytes"===String(i)){if(void 0!==n)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),function(e,t,n){var r=Object.create(lt.prototype),i=u(t,"pull",0,[r]),o=u(t,"cancel",1,[]),s=t.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===st(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(e,t,n,r,i,o,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=void 0,t._queue=t._queueTotalSize=void 0,te(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d(o),t._pullAlgorithm=r,t._cancelAlgorithm=i,t._autoAllocateChunkSize=s,t._pendingPullIntos=new T,e._readableStreamController=t,S(b(n()),(function(){t._started=!0,ht(t)}),(function(e){At(t,e)}))}(e,r,(function(){return c(t,"start",[r])}),i,o,n,s)}(this,e,r=d(r))}else{if(void 0!==i)throw new RangeError("Invalid type is specified");var o=f(n);void 0===r&&(r=1),function(e,t,n,r){var i=Object.create(Qe.prototype),o=u(t,"pull",0,[i]),s=u(t,"cancel",1,[]);it(e,i,(function(){return c(t,"start",[i])}),o,s,n,r)}(this,e,r=d(r),o)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!1===Mt(this))throw Bt("locked");return Ft(this)},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){return!1===Mt(this)?_(Bt("cancel")):!0===Ft(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):jt(this,e)},e.prototype.getReader=function(e){var t=(void 0===e?{}:e).mode;if(!1===Mt(this))throw Bt("getReader");if(void 0===t)return V(this,!0);if("byob"===(t=String(t)))return function(e,t){void 0===t&&(t=!1);var n=new Pt(e);return n._forAuthorCode=t,n}(this,!0);throw new RangeError("Invalid mode is specified")},e.prototype.pipeThrough=function(e,t){var n=e.writable,r=e.readable,i=void 0===t?{}:t,o=i.preventClose,s=i.preventAbort,a=i.preventCancel,l=i.signal;if(!1===Mt(this))throw Bt("pipeThrough");if(!1===ae(n))throw new TypeError("writable argument to pipeThrough must be a WritableStream");if(!1===Mt(r))throw new TypeError("readable argument to pipeThrough must be a ReadableStream");if(o=Boolean(o),s=Boolean(s),a=Boolean(a),void 0!==l&&!He(l))throw new TypeError("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Ft(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===le(n))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return k(Ke(this,n,o,s,a,l)),r},e.prototype.pipeTo=function(e,t){var n=void 0===t?{}:t,r=n.preventClose,i=n.preventAbort,o=n.preventCancel,s=n.signal;return!1===Mt(this)?_(Bt("pipeTo")):!1===ae(e)?_(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),i=Boolean(i),o=Boolean(o),void 0===s||He(s)?!0===Ft(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===le(e)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ke(this,e,r,i,o,s):_(new TypeError("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},e.prototype.tee=function(){if(!1===Mt(this))throw Bt("tee");var e=function(e,t){var n,r,i,o,a,l=V(e),u=!1,c=!1,h=!1,d=y((function(e){a=e}));function f(){return!0===u||(u=!0,k(E(Q(l),(function(e){if(u=!1,!0===e.done)return!1===c&&Ze(i._readableStreamController),void(!1===h&&Ze(o._readableStreamController));var t=e.value,n=t;!1===c&&et(i._readableStreamController,t),!1===h&&et(o._readableStreamController,n)})))),b(void 0)}function p(){}return i=Dt(p,f,(function(t){if(c=!0,n=t,!0===h){var i=s([n,r]),o=jt(e,i);a(o)}return d})),o=Dt(p,f,(function(t){if(h=!0,r=t,!0===c){var i=s([n,r]),o=jt(e,i);a(o)}return d})),C(l._closedPromise,(function(e){tt(i._readableStreamController,e),tt(o._readableStreamController,e)})),[i,o]}(this);return s(e)},e.prototype.getIterator=function(e){var t=(void 0===e?{}:e).preventCancel,n=void 0!==t&&t;if(!1===Mt(this))throw Bt("getIterator");return function(e,t){void 0===t&&(t=!1);var n=V(e),r=Object.create(Y);return r._asyncIteratorReader=n,r._preventCancel=Boolean(t),r}(this,n)},e}();function Dt(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var o=Object.create(Nt.prototype);return Lt(o),it(o,Object.create(Qe.prototype),e,t,n,r,i),o}function Lt(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Mt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function Ft(e){return void 0!==e._reader}function jt(e,t){return e._disturbed=!0,"closed"===e._state?b(void 0):"errored"===e._state?_(e._storedError):(Vt(e),E(e._readableStreamController[F](t),n))}function Vt(e){e._state="closed";var t=e._reader;void 0!==t&&(K(t)&&(t._readRequests.forEach((function(e){e._resolve(x(void 0,!0,t._forAuthorCode))})),t._readRequests=new T),M(t))}function Ut(e,t){e._state="errored",e._storedError=t;var n=e._reader;void 0!==n&&(K(n)?(n._readRequests.forEach((function(e){e._reject(t)})),n._readRequests=new T):(n._readIntoRequests.forEach((function(e){e._reject(t)})),n._readIntoRequests=new T),L(n,t))}function Bt(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}"symbol"==typeof t.asyncIterator&&Object.defineProperty(Nt.prototype,t.asyncIterator,{value:Nt.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var qt=function(){function e(e){this.highWaterMark=e.highWaterMark}return e.prototype.size=function(e){return e.byteLength},e}(),Ht=function(){function e(e){this.highWaterMark=e.highWaterMark}return e.prototype.size=function(){return 1},e}(),zt=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={});var r=t.size,i=t.highWaterMark,o=n.size,s=n.highWaterMark;if(void 0!==e.writableType)throw new RangeError("Invalid writable type specified");var a=f(r);if(void 0===i&&(i=1),i=d(i),void 0!==e.readableType)throw new RangeError("Invalid readable type specified");var l,p=f(o);void 0===s&&(s=0),s=d(s),function(e,t,n,r,i,o){function s(){return t}e._writable=function(e,t,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var s=Object.create(ie.prototype);return se(s),Ce(s,Object.create(Ae.prototype),e,t,n,r,i,o),s}(s,(function(t){return function(e,t){var n=e._transformStreamController;return!0===e._backpressure?E(e._backpressureChangePromise,(function(){var r=e._writable;if("erroring"===r._state)throw r._storedError;return Zt(n,t)})):Zt(n,t)}(e,t)}),(function(){return function(e){var t=e._readable,n=e._transformStreamController,r=n._flushAlgorithm();return Xt(n),E(r,(function(){if("errored"===t._state)throw t._storedError;var e=t._readableStreamController;!0===rt(e)&&Ze(e)}),(function(n){throw Wt(e,n),t._storedError}))}(e)}),(function(t){return function(e,t){return Wt(e,t),b(void 0)}(e,t)}),n,r),e._readable=Dt(s,(function(){return function(e){return Qt(e,!1),e._backpressureChangePromise}(e)}),(function(t){return Kt(e,t),b(void 0)}),i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Qt(e,!0),e._transformStreamController=void 0}(this,y((function(e){l=e})),i,a,s,p),function(e,t){var n=Object.create($t.prototype),r=function(e){try{return Jt(n,e),b(void 0)}catch(t){return _(t)}},i=t.transform;if(void 0!==i){if("function"!=typeof i)throw new TypeError("transform is not a method");r=function(e){return h(i,t,[e,n])}}var o=u(t,"flush",0,[n]);!function(e,t,n,r){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r}(e,n,r,o)}(this,e);var g=c(e,"start",[this._transformStreamController]);l(g)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!1===Gt(this))throw tn("readable");return this._readable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!1===Gt(this))throw tn("writable");return this._writable},enumerable:!0,configurable:!0}),e}();function Gt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function Wt(e,t){tt(e._readable._readableStreamController,t),Kt(e,t)}function Kt(e,t){Xt(e._transformStreamController),xe(e._writable._writableStreamController,t),!0===e._backpressure&&Qt(e,!1)}function Qt(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=y((function(t){e._backpressureChangePromise_resolve=t})),e._backpressure=t}var $t=function(){function e(){throw new TypeError("TransformStreamDefaultController instances cannot be created directly")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!1===Yt(this))throw en("desiredSize");return nt(this._controlledTransformStream._readable._readableStreamController)},enumerable:!0,configurable:!0}),e.prototype.enqueue=function(e){if(!1===Yt(this))throw en("enqueue");Jt(this,e)},e.prototype.error=function(e){if(!1===Yt(this))throw en("error");Wt(this._controlledTransformStream,e)},e.prototype.terminate=function(){if(!1===Yt(this))throw en("terminate");var e,t;!0===rt(t=(e=this._controlledTransformStream)._readable._readableStreamController)&&Ze(t),Kt(e,new TypeError("TransformStream terminated"))},e}();function Yt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function Xt(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Jt(e,t){var n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!1===rt(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{et(r,t)}catch(i){throw Kt(n,i),n._readable._storedError}(function(e){return!0!==Xe(e)})(r)!==n._backpressure&&Qt(n,!0)}function Zt(e,t){return E(e._transformAlgorithm(t),void 0,(function(t){throw Wt(e._controlledTransformStream,t),t}))}function en(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function tn(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=qt,e.CountQueuingStrategy=Ht,e.ReadableStream=Nt,e.TransformStream=zt,e.WritableStream=ie,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){n(145),n(114),n(77),n(116);var r=n(43);e.exports=r.Map},function(e,t,n){"use strict";var r=n(146),i=n(150);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){"use strict";var r=n(10),i=n(11),o=n(52),s=n(29),a=n(147),l=n(124),u=n(123),c=n(22),h=n(14),d=n(97),f=n(85),p=n(149);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=g?"set":"add",y=i[e],b=y&&y.prototype,_=y,w={},S=function(e){var t=b[e];s(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof y||!(m||b.forEach&&!h((function(){(new y).entries().next()})))))_=n.getConstructor(t,e,g,v),a.REQUIRED=!0;else if(o(e,!0)){var A=new _,C=A[v](m?{}:-0,1)!=A,E=h((function(){A.has(1)})),k=d((function(e){new y(e)})),T=!m&&h((function(){for(var e=new y,t=5;t--;)e[v](t,t);return!e.has(-0)}));k||((_=t((function(t,n){u(t,_,e);var r=p(new y,t,_);return null!=n&&l(n,r[v],r,g),r}))).prototype=b,b.constructor=_),(E||T)&&(S("delete"),S("has"),g&&S("get")),(T||C)&&S(v),m&&b.clear&&delete b.clear}return w[e]=_,r({global:!0,forced:_!=y},w),f(_,e),m||n.setStrong(_,e,g),_}},function(e,t,n){var r=n(39),i=n(22),o=n(23),s=n(27).f,a=n(38),l=n(148),u=a("meta"),c=0,h=Object.isExtensible||function(){return!0},d=function(e){s(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!h(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},getWeakData:function(e,t){if(!o(e,u)){if(!h(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},onFreeze:function(e){return l&&f.REQUIRED&&h(e)&&!o(e,u)&&d(e),e}};r[u]=!0},function(e,t,n){var r=n(14);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){var r=n(22),i=n(87);e.exports=function(e,t,n){var o,s;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(s=o.prototype)&&s!==n.prototype&&i(e,s),e}},function(e,t,n){"use strict";var r=n(27).f,i=n(71),o=n(121),s=n(62),a=n(123),l=n(124),u=n(79),c=n(122),h=n(13),d=n(147).fastKey,f=n(33),p=f.set,g=f.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e((function(e,r){a(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=r&&l(r,e[u],e,n)})),f=g(t),m=function(e,t,n){var r,i,o=f(e),s=v(e,t);return s?s.value=n:(o.last=s={index:i=d(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=s),r&&(r.next=s),h?o.size++:e.size++,"F"!==i&&(o.index[i]=s)),e},v=function(e,t){var n,r=f(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(c.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=f(this),n=v(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),h?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=f(this),r=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(c.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),h&&r(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),o=g(r);u(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(t)}}},function(e,t,n){n(152),n(114),n(77),n(116);var r=n(43);e.exports=r.Set},function(e,t,n){"use strict";var r=n(146),i=n(150);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},function(e,t,n){n(114),n(154),n(116);var r=n(43);e.exports=r.WeakMap},function(e,t,n){"use strict";var r,i=n(11),o=n(121),s=n(147),a=n(146),l=n(155),u=n(22),c=n(33).enforce,h=n(34),d=!i.ActiveXObject&&"ActiveXObject"in i,f=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=a("WeakMap",p,l);if(h&&d){r=l.getConstructor(p,"WeakMap",!0),s.REQUIRED=!0;var m=g.prototype,v=m.delete,y=m.has,b=m.get,_=m.set;o(m,{delete:function(e){if(u(e)&&!f(e)){var t=c(this);return t.frozen||(t.frozen=new r),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(u(e)&&!f(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(u(e)&&!f(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(u(e)&&!f(e)){var n=c(this);n.frozen||(n.frozen=new r),y.call(this,e)?_.call(this,e,t):n.frozen.set(e,t)}else _.call(this,e,t);return this}})}},function(e,t,n){"use strict";var r=n(121),i=n(147).getWeakData,o=n(28),s=n(22),a=n(123),l=n(124),u=n(156),c=n(23),h=n(33),d=h.set,f=h.getterFor,p=u.find,g=u.findIndex,m=0,v=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,u){var h=e((function(e,r){a(e,h,t),d(e,{type:t,id:m++,frozen:void 0}),null!=r&&l(r,e[u],e,n)})),p=f(t),g=function(e,t,n){var r=p(e),s=i(o(t),!0);return!0===s?v(r).set(t,n):s[r.id]=n,e};return r(h.prototype,{delete:function(e){var t=p(this);if(!s(e))return!1;var n=i(e);return!0===n?v(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!s(e))return!1;var n=i(e);return!0===n?v(t).has(e):n&&c(n,t.id)}}),r(h.prototype,n?{get:function(e){var t=p(this);if(s(e)){var n=i(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),h}}},function(e,t,n){var r=n(62),i=n(18),o=n(83),s=n(47),a=n(157),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h;return function(f,p,g,m){for(var v,y,b=o(f),_=i(b),w=r(p,g,3),S=s(_.length),A=0,C=m||a,E=t?C(f,S):n?C(f,0):void 0;S>A;A++)if((d||A in _)&&(y=w(v=_[A],A,b),e))if(t)E[A]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:l.call(E,v)}else if(c)return!1;return h?-1:u||c?c:E}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){var r=n(22),i=n(158),o=n(57)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(19);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){n(114),n(160),n(116);var r=n(43);e.exports=r.WeakSet},function(e,t,n){"use strict";n(146)("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(155))},function(e,t,n){n(162);var r=n(61);e.exports=r("String","codePointAt")},function(e,t,n){"use strict";var r=n(10),i=n(78).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},function(e,t,n){n(164);var r=n(43);e.exports=r.String.fromCodePoint},function(e,t,n){var r=n(10),i=n(49),o=String.fromCharCode,s=String.fromCodePoint;r({target:"String",stat:!0,forced:!!s&&1!=s.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,s=0;r>s;){if(t=+arguments[s++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){n(166),n(114),n(168),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187);var r=n(43);e.exports=r.Symbol},function(e,t,n){"use strict";var r=n(10),i=n(14),o=n(158),s=n(22),a=n(83),l=n(47),u=n(93),c=n(157),h=n(167),d=n(57),f=n(133),p=d("isConcatSpreadable"),g=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),m=h("concat"),v=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!g||!m},{concat:function(e){var t,n,r,i,o,s=a(this),h=c(s,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(v(o=-1===t?s:arguments[t])){if(d+(i=l(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in o&&u(h,d,o[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(h,d++,o)}return h.length=d,h}})},function(e,t,n){var r=n(14),i=n(57),o=n(133),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(10),i=n(11),o=n(42),s=n(37),a=n(13),l=n(58),u=n(59),c=n(14),h=n(23),d=n(158),f=n(22),p=n(28),g=n(83),m=n(17),v=n(21),y=n(16),b=n(71),_=n(73),w=n(44),S=n(169),A=n(51),C=n(12),E=n(27),k=n(15),T=n(26),x=n(29),I=n(36),P=n(35),O=n(39),R=n(38),N=n(57),D=n(170),L=n(171),M=n(85),F=n(33),j=n(156).forEach,V=P("hidden"),U=N("toPrimitive"),B=F.set,q=F.getterFor("Symbol"),H=Object.prototype,z=i.Symbol,G=o("JSON","stringify"),W=C.f,K=E.f,Q=S.f,$=k.f,Y=I("symbols"),X=I("op-symbols"),J=I("string-to-symbol-registry"),Z=I("symbol-to-string-registry"),ee=I("wks"),te=i.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=a&&c((function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=W(H,t);r&&delete H[t],K(e,t,n),r&&e!==H&&K(H,t,r)}:K,ie=function(e,t){var n=Y[e]=b(z.prototype);return B(n,{type:"Symbol",tag:e,description:t}),a||(n.description=t),n},oe=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},se=function(e,t,n){e===H&&se(X,t,n),p(e);var r=v(t,!0);return p(n),h(Y,r)?(n.enumerable?(h(e,V)&&e[V][r]&&(e[V][r]=!1),n=b(n,{enumerable:y(0,!1)})):(h(e,V)||K(e,V,y(1,{})),e[V][r]=!0),re(e,r,n)):K(e,r,n)},ae=function(e,t){p(e);var n=m(t),r=_(n).concat(he(n));return j(r,(function(t){a&&!le.call(n,t)||se(e,t,n[t])})),e},le=function(e){var t=v(e,!0),n=$.call(this,t);return!(this===H&&h(Y,t)&&!h(X,t))&&(!(n||!h(this,t)||!h(Y,t)||h(this,V)&&this[V][t])||n)},ue=function(e,t){var n=m(e),r=v(t,!0);if(n!==H||!h(Y,r)||h(X,r)){var i=W(n,r);return!i||!h(Y,r)||h(n,V)&&n[V][r]||(i.enumerable=!0),i}},ce=function(e){var t=Q(m(e)),n=[];return j(t,(function(e){h(Y,e)||h(O,e)||n.push(e)})),n},he=function(e){var t=e===H,n=Q(t?X:m(e)),r=[];return j(n,(function(e){!h(Y,e)||t&&!h(H,e)||r.push(Y[e])})),r};l||(x((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),n=function(e){this===H&&n.call(X,e),h(this,V)&&h(this[V],t)&&(this[V][t]=!1),re(this,t,y(1,e))};return a&&ne&&re(H,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return q(this).tag})),x(z,"withoutSetter",(function(e){return ie(R(e),e)})),k.f=le,E.f=se,C.f=ue,w.f=S.f=ce,A.f=he,D.f=function(e){return ie(N(e),e)},a&&(K(z.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),s||x(H,"propertyIsEnumerable",le,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:z}),j(_(ee),(function(e){L(e)})),r({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=String(e);if(h(J,t))return J[t];var n=z(t);return J[t]=n,Z[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(h(Z,e))return Z[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?b(e):ae(b(e),t)},defineProperty:se,defineProperties:ae,getOwnPropertyDescriptor:ue}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ce,getOwnPropertySymbols:he}),r({target:"Object",stat:!0,forced:c((function(){A.f(1)}))},{getOwnPropertySymbols:function(e){return A.f(g(e))}}),G&&r({target:"JSON",stat:!0,forced:!l||c((function(){var e=z();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(f(t)||void 0!==e)&&!oe(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!oe(t))return t}),i[1]=t,G.apply(null,i)}}),z.prototype[U]||T(z.prototype,U,z.prototype.valueOf),M(z,"Symbol"),O[V]=!0},function(e,t,n){var r=n(17),i=n(44).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(t){return s.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(57);t.f=r},function(e,t,n){var r=n(43),i=n(23),o=n(170),s=n(27).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},function(e,t,n){n(171)("asyncIterator")},function(e,t,n){"use strict";var r=n(10),i=n(13),o=n(11),s=n(23),a=n(22),l=n(27).f,u=n(40),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};u(d,c);var f=d.prototype=c.prototype;f.constructor=d;var p=f.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=p.call(e);if(s(h,e))return"";var n=g?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(171)("hasInstance")},function(e,t,n){n(171)("isConcatSpreadable")},function(e,t,n){n(171)("iterator")},function(e,t,n){n(171)("match")},function(e,t,n){n(171)("matchAll")},function(e,t,n){n(171)("replace")},function(e,t,n){n(171)("search")},function(e,t,n){n(171)("species")},function(e,t,n){n(171)("split")},function(e,t,n){n(171)("toPrimitive")},function(e,t,n){n(171)("toStringTag")},function(e,t,n){n(171)("unscopables")},function(e,t,n){n(85)(Math,"Math",!0)},function(e,t,n){var r=n(11);n(85)(r.JSON,"JSON",!0)},function(e,t,n){n(189);var r=n(61);e.exports=r("String","padStart")},function(e,t,n){"use strict";var r=n(10),i=n(190).start;r({target:"String",proto:!0,forced:n(192)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(47),i=n(191),o=n(20),s=Math.ceil,a=function(e){return function(t,n,a){var l,u,c=String(o(t)),h=c.length,d=void 0===a?" ":String(a),f=r(n);return f<=h||""==d?c:((u=i.call(d,s((l=f-h)/d.length))).length>l&&(u=u.slice(0,l)),e?c+u:u+c)}};e.exports={start:a(!1),end:a(!0)}},function(e,t,n){"use strict";var r=n(48),i=n(20);e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){var r=n(127);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){n(194);var r=n(61);e.exports=r("String","padEnd")},function(e,t,n){"use strict";var r=n(10),i=n(190).end;r({target:"String",proto:!0,forced:n(192)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(196);var r=n(43);e.exports=r.Object.values},function(e,t,n){var r=n(10),i=n(197).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){var r=n(13),i=n(73),o=n(17),s=n(15).f,a=function(e){return function(t){for(var n,a=o(t),l=i(a),u=l.length,c=0,h=[];u>c;)n=l[c++],r&&!s.call(a,n)||h.push(e?[n,a[n]]:a[n]);return h}};e.exports={entries:a(!0),values:a(!1)}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(199),_api_compatibility=__w_pdfjs_require__(200),_canvas=__w_pdfjs_require__(201),_worker_options=__w_pdfjs_require__(203),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(204),_metadata=__w_pdfjs_require__(205),_transport_stream=__w_pdfjs_require__(207),_webgl=__w_pdfjs_require__(208);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){asyncGeneratorStep(o,r,i,s,a,"next",e)}function a(e){asyncGeneratorStep(o,r,i,s,a,"throw",e)}s(void 0)}))}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"==typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),i=null,o=null;for(var s in t)if("url"!==s||"undefined"==typeof window)if("range"!==s)if("worker"!==s)if("data"!==s||t[s]instanceof Uint8Array)r[s]=t[s];else{var a=t[s];if("string"==typeof a)r[s]=(0,_util.stringToBytes)(a);else if("object"!==_typeof(a)||null===a||isNaN(a.length)){if(!(0,_util.isArrayBuffer)(a))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[s]=new Uint8Array(a)}else r[s]=new Uint8Array(a)}else o=t[s];else i=t[s];else r[s]=new URL(t[s],window.location).href;if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){var l={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=l.port?PDFWorker.fromPort(l):new PDFWorker(l),n._worker=o}var u=n.docId;return o.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(o,r,i,u),t=new Promise((function(e){var t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),i=t[0],s=t[1];if(n.destroyed)throw new Error("Loading aborted");var a=new _message_handler.MessageHandler(u,i,o.port);a.postMessageTransfers=o.postMessageTransfers;var l=new WorkerTransport(a,n,s,r);n._transport=l,a.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(e,t,n,r){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.5.207",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}var PDFDocumentLoadingTask=(nextDocumentId=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)}))}},{key:"promise",get:function(){return this._capability.promise}}]),e}()),nextDocumentId,PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e,t)}catch(i){r.e(i)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(e,t)}catch(o){i.e(o)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e)}catch(i){r.e(i)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n}return _createClass(e,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then((function(e){return e&&e.dest?e.dest:null}))}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._transport=r,this._stats=i?new _display_utils.StatTimer:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(e,[{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,o=void 0===i?0:i,s=e.offsetY,a=void 0===s?0:s,l=e.dontFlip,u=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:o,offsetY:a,dontFlip:u})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?null:t;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(e){var t=this,n=e.canvasContext,r=e.viewport,i=e.intent,o=void 0===i?"display":i,s=e.enableWebGL,a=void 0!==s&&s,l=e.renderInteractiveForms,u=void 0!==l&&l,c=e.transform,h=void 0===c?null:c,d=e.imageLayer,f=void 0===d?null:d,p=e.canvasFactory,g=void 0===p?null:p,m=e.background,v=void 0===m?null:m;this._stats&&this._stats.time("Overall");var y="print"===o?"print":"display";this.pendingCleanup=!1,this.intentStates[y]||(this.intentStates[y]=Object.create(null));var b=this.intentStates[y];b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);var _=g||new _display_utils.DOMCanvasFactory,w=new _webgl.WebGLContext({enable:a});b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:y,renderInteractiveForms:!0===u}));var S=function(e){var n=b.renderTasks.indexOf(A);n>=0&&b.renderTasks.splice(n,1),(t.cleanupAfterRender||"print"===y)&&(t.pendingCleanup=!0),t._tryCleanup(),e?(A.capability.reject(e),t._abortOperatorList({intentState:b,reason:e})):A.capability.resolve(),t._stats&&(t._stats.timeEnd("Rendering"),t._stats.timeEnd("Overall"))},A=new InternalRenderTask({callback:S,params:{canvasContext:n,viewport:r,transform:h,imageLayer:f,background:v},objs:this.objs,commonObjs:this.commonObjs,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:_,webGLContext:w,useRequestAnimationFrame:"print"!==y,pdfBug:this._pdfBug});b.renderTasks||(b.renderTasks=[]),b.renderTasks.push(A);var C=A.task;return b.displayReadyCapability.promise.then((function(e){t.pendingCleanup?S():(t._stats&&t._stats.time("Rendering"),A.initializeGraphics(e),A.operatorListChanged())})).catch(S),C}},{key:"getOperatorList",value:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var e,t=this.intentStates.oplist;return t.opListReadCapability||((e={}).operatorListChanged=function(){if(t.operatorList.lastChunk){t.opListReadCapability.resolve(t.operatorList);var n=t.renderTasks.indexOf(e);n>=0&&t.renderTasks.splice(n,1)}},t.opListReadCapability=(0,_util.createPromiseCapability)(),t.renderTasks=[],t.renderTasks.push(e),t.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:"oplist"})),t.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,r=e.disableCombineTextItems,i=void 0!==r&&r,o=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i},{highWaterMark:o,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise((function(e,n){var r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){var r,o=n.value;n.done?e(i):(Object.assign(i.styles,o.styles),(r=i.items).push.apply(r,_toConsumableArray(o.items)),t())}),n)}()}))}},{key:"_destroy",value:function(){var e=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach((function(n){var r=e.intentStates[n];e._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==n&&r.renderTasks.forEach((function(e){var n=e.capability.promise.catch((function(){}));t.push(n),e.cancel()}))})),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some((function(t){var n=e.intentStates[t];return 0!==n.renderTasks.length||!n.operatorList.lastChunk}))||(Object.keys(this.intentStates).forEach((function(t){delete e.intentStates[t]})),this.objs.clear(),this.annotationsPromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,0))}},{key:"_startRenderPage",value:function(e,t){var n=this.intentStates[t];n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var i=0;i<t.renderTasks.length;i++)t.renderTasks[i].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),r=this.intentStates[e.intent];r.streamReader=n,function e(){n.read().then((function(n){var i=n.value;n.done?r.streamReader=null:t._transport.destroyed||(t._renderPageChunk(i,r),e())}),(function(e){if(r.streamReader=null,!t._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(var n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();t._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(e);else{if(!r.opListReadCapability)throw e;r.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force,o=void 0!==i&&i;if((0,_util.assert)(r instanceof Error||"object"===_typeof(r)&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!o){if(0!==n.renderTasks.length)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}n.streamReader.cancel(new _util.AbortException(r&&r.message)),n.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some((function(e){return t.intentStates[e]===n&&(delete t.intentStates[e],!0)})),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this;if(this._defer){var r=new WeakMap,i={data:function e(n){if("object"!==_typeof(n)||null===n)return n;if(r.has(n))return r.get(n);var i,o;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return o=t&&t.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,o),o;for(var s in o=Array.isArray(n)?[]:{},r.set(n,o),n){for(var a=void 0,l=n;!(a=Object.getOwnPropertyDescriptor(l,s));)l=Object.getPrototypeOf(l);if(void 0!==a.value)if("function"!=typeof a.value)o[s]=e(a.value);else if(n.hasOwnProperty&&n.hasOwnProperty(s))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(n[s]))}return o}(e)};this._deferred.then((function(){n._listeners.forEach((function(e){e.call(n,i)}))}))}else this._listeners.forEach((function(t){t.call(n,{data:e})}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(t){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref10=_asyncToGenerator(_regenerator.default.mark((function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}}),_callee)})));return function(){return _ref10.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){return URL.createObjectURL(new Blob(["importScripts('"+e+"');"]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?null:n,i=t.port,o=void 0===i?null:i,s=t.verbosity,a=void 0===s?(0,_util.getVerbosityLevel)():s;if(_classCallCheck(this,e),o&&pdfWorkerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=a,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return pdfWorkerPorts.set(o,this),void this._initializeFromPort(o);this._initialize()}return _createClass(e,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",o),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},o=function(){e._webWorker||i()};n.addEventListener("error",o),r.on("test",(function(t){n.removeEventListener("error",o),e.destroyed?i():t?(e._messageHandler=r,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(t){if(n.removeEventListener("error",o),e.destroyed)i();else try{s()}catch(r){e._setupFakeWorker()}}));var s=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void s()}catch(a){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake"+nextFakeWorkerId++,i=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(i,n);var o=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=o,e._readyCapability.resolve(),o.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,n,r,i){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t)}})),t.on("ReaderHeadersReady",(function(t){var r=(0,_util.createPromiseCapability)(),i=e._fullReader;return i.headersReady.then((function(){i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),i.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(e){r.cancel(e)}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,n._capability.resolve(new PDFDocumentProxy(r,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}n._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword((function(t){e._passwordCapability.resolve({password:t})}),t.code)}catch(r){e._passwordCapability.reject(r)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)})),t.on("commonobj",(function(n){if(!e.destroyed){var r=_slicedToArray(n,3),i=r[0],o=r[1],s=r[2];if(!e.commonObjs.has(i))switch(o){case"Font":var a=e._params;if("error"in s){var l=s.error;(0,_util.warn)("Error during font loading: ".concat(l)),e.commonObjs.resolve(i,l);break}var u=null;a.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var c=new _font_loader.FontFaceObject(s,{isEvalSupported:a.isEvalSupported,disableFontFace:a.disableFontFace,ignoreErrors:a.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:u});e.fontLoader.bind(c).catch((function(e){return t.sendWithPromise("FontFallback",{id:i})})).finally((function(){!a.fontExtraProperties&&c.data&&(c.data=null),e.commonObjs.resolve(i,c)}));break;case"FontPath":case"FontType3Res":case"Image":e.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(o))}}})),t.on("obj",(function(t){if(!e.destroyed){var n=_slicedToArray(t,4),r=n[0],i=n[2],o=n[3],s=e.pageCache[n[1]];if(!s.objs.has(r))switch(i){case"Image":s.objs.resolve(r,o),o&&"data"in o&&o.data.length>8e6&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(i))}}})),t.on("DocProgress",(function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(function(t,n){if(e.destroyed)n.error(new Error("Worker was destroyed"));else{var r=!1;n.onPull=function(){r?n.close():(r=!0,e.CMapReaderFactory.fetch(t).then((function(e){n.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){n.error(e)})))}}}))}},{key:"_onUnsupportedFeature",value:function(e){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.pdfBug);return t.pageCache[n]=r,r}));return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var t=0,n=e.pageCache.length;t<n;t++){var r=e.pageCache[t];if(r&&!r.cleanup())throw new Error("startCleanup: Page ".concat(t+1," is currently rendering."))}e.commonObjs.clear(),e.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return!!t&&t.resolved}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),e}(),InternalRenderTask=(canvasInRendering=new WeakSet,function(){function e(t){var n=t.callback,r=t.params,i=t.objs,o=t.commonObjs,s=t.operatorList,a=t.pageIndex,l=t.canvasFactory,u=t.webGLContext,c=t.useRequestAnimationFrame,h=void 0!==c&&c,d=t.pdfBug,f=void 0!==d&&d;_classCallCheck(this,e),this.callback=n,this.params=r,this.objs=i,this.commonObjs=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=l,this.webGLContext=u,this._pdfBug=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var t;return _createClass(e,[{key:"initializeGraphics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var t=this.params,n=t.canvasContext,r=t.viewport,i=t.transform,o=t.imageLayer,s=t.background;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,o),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e.cancel.bind(e))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(t=_asyncToGenerator(_regenerator.default.mark((function e(){return _regenerator.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&canvasInRendering.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()),canvasInRendering,version="2.5.207";exports.version=version;var build="0974d605";exports.build=build},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(5);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}var p,g=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature;h(this,e),this.constructor===e&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this.nativeFontFaces=[],this.styleElement=null}var t,n;return f(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach((function(e){document.fonts.delete(e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=i.default.mark((function e(t){var n,r,s=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var n=s._queueLoadingCallback(e);s._prepareFontLoadEvent([r],[t],n)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])})),n=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(e){c(o,r,i,s,a,"next",e)}function a(e){c(o,r,i,s,a,"throw",e)}s(void 0)}))},function(e){return n.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!=typeof document&&!!document.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}}]),e}();t.FontLoader=p,t.FontLoader=p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=u(t);if(n){var i=u(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return l(this,e)});function i(e){var t;return h(this,i),(t=r.call(this,e)).loadingContext={requests:[],nextRequestId:0},t.loadTestFontId=0,t}return f(i,[{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,o.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_prepareFontLoadEvent",value:function(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var s,a,l=document.createElement("canvas");l.width=1,l.height=1;var u=l.getContext("2d"),c=0,h="lt".concat(Date.now()).concat(this.loadTestFontId++),d=this._loadTestFont,f=r(d=i(d,976,h.length,h),16);for(s=0,a=h.length-3;s<a;s+=4)f=f-1482184792+r(h,s)|0;s<h.length&&(f=f-1482184792+r(h+"XXX",s)|0),d=i(d,16,4,(0,o.string32)(f));var p="url(data:font/opentype;base64,".concat(btoa(d),");"),g='@font-face {font-family:"'.concat(h,'";src:').concat(p,"}");this.insertRule(g);var m=[];for(s=0,a=t.length;s<a;s++)m.push(t[s].loadedName);m.push(h);var v=document.createElement("div");for(v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px",s=0,a=m.length;s<a;++s){var y=document.createElement("span");y.textContent="Hi",y.style.fontFamily=m[s],v.appendChild(y)}document.body.appendChild(v),function e(t,n){if(++c>30)return(0,o.warn)("Load test font never loaded."),void n();u.font="30px "+t,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(h,(function(){document.body.removeChild(v),n.complete()}))}},{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_loadTestFont",get:function(){return(0,o.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),i}(g),t.FontFaceObject=function(){function e(t,n){var r=n.isEvalSupported,i=void 0===r||r,o=n.disableFontFace,s=void 0!==o&&o,a=n.ignoreErrors,l=void 0!==a&&a,u=n.onUnsupportedFeature,c=void 0===u?null:u,d=n.fontRegistry,f=void 0===d?null:d;for(var p in h(this,e),this.compiledGlyphs=Object.create(null),t)this[p]=t[p];this.isEvalSupported=!1!==i,this.disableFontFace=!0===s,this.ignoreErrors=!0===l,this._onUnsupportedFeature=c,this.fontRegistry=f}return f(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,o.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,r;try{n=e.get(this.loadedName+"_path_"+t)}catch(u){if(!this.ignoreErrors)throw u;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)('getPathGenerator - ignoring character: "'.concat(u,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){for(var i,s="",a=0,l=n.length;a<l;a++)i=void 0!==(r=n[a]).args?r.args.join(","):"",s+="c."+r.cmd+"("+i+");\n";return this.compiledGlyphs[t]=new Function("c","size",s)}return this.compiledGlyphs[t]=function(e,t){for(var i=0,o=n.length;i<o;i++)"scale"===(r=n[i]).cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var r=n(7),i=Object.create(null);r.isNodeJS&&(i.disableFontFace=!0);var o=Object.freeze(i);t.apiCompatibilityParams=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(5),i=n(202);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=t*i-n*r,l=n*r-t*i;return[i/a,n/l,r/l,t/a,(i*o-r*s)/l,(n*o-t*s)/a]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,i,o,s){var a=this._transformMatrix;this._transformMatrix=[a[0]*t+a[2]*n,a[1]*t+a[3]*n,a[0]*r+a[2]*i,a[1]*r+a[3]*i,a[0]*o+a[2]*s+a[4],a[1]*o+a[3]*s+a[5]],e._originalTransform(t,n,r,i,o,s)},e.setTransform=function(t,n,r,i,o,s){this._transformMatrix=[t,n,r,i,o,s],e._originalSetTransform(t,n,r,i,o,s)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var l=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,r){var i;return void 0!==this.cache[e]?(this.canvasFactory.reset(i=this.cache[e],t,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),r&&a(i.context),i},clear:function(){for(var e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}},e}(),u=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),c=function(){function e(e,t,n,r,i,o){this.ctx=e,this.current=new u,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=i,this.imageLayer=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new l(this.canvasFactory),e&&a(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,i,o,s,a,l=t.height,u=t.width,c=l%16,h=(l-c)/16,d=0===c?h:h+1,f=e.createImageData(u,16),p=0,g=t.data,m=f.data;if(t.kind===r.ImageKind.GRAYSCALE_1BPP){var v=g.byteLength,y=new Uint32Array(m.buffer,0,m.byteLength>>2),b=y.length,_=u+7>>3,w=4294967295,S=r.IsLittleEndianCached.value?4278190080:255;for(i=0;i<d;i++){for(s=i<h?16:c,n=0,o=0;o<s;o++){for(var A=v-p,C=0,E=A>_?u:8*A-7,k=-8&E,T=0,x=0;C<k;C+=8)x=g[p++],y[n++]=128&x?w:S,y[n++]=64&x?w:S,y[n++]=32&x?w:S,y[n++]=16&x?w:S,y[n++]=8&x?w:S,y[n++]=4&x?w:S,y[n++]=2&x?w:S,y[n++]=1&x?w:S;for(;C<E;C++)0===T&&(x=g[p++],T=128),y[n++]=x&T?w:S,T>>=1}for(;n<b;)y[n++]=0;e.putImageData(f,0,16*i)}}else if(t.kind===r.ImageKind.RGBA_32BPP){for(o=0,a=16*u*4,i=0;i<h;i++)m.set(g.subarray(p,p+a)),p+=a,e.putImageData(f,0,o),o+=16;i<d&&(m.set(g.subarray(p,p+(a=u*c*4))),e.putImageData(f,0,o))}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(a=u*(s=16),i=0;i<d;i++){for(i>=h&&(a=u*(s=c)),n=0,o=a;o--;)m[n++]=g[p++],m[n++]=g[p++],m[n++]=g[p++],m[n++]=255;e.putImageData(f,0,16*i)}}}}function n(e,t){for(var n=t.height,r=t.width,i=n%16,o=(n-i)/16,s=0===i?o:o+1,a=e.createImageData(r,16),l=0,u=t.data,c=a.data,h=0;h<s;h++){for(var d=h<o?16:i,f=3,p=0;p<d;p++)for(var g=0,m=0;m<r;m++){if(!g){var v=u[l++];g=128}c[f]=v&g?0:255,f+=4,g>>=1}e.putImageData(a,0,16*h)}}function s(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var o=n[r];void 0!==e[o]&&(t[o]=e[o])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function c(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function h(e,t,n,r){for(var i=e.length,o=3;o<i;o+=4){var s=e[o];if(0===s)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(s<255){var a=255-s;e[o-3]=e[o-3]*s+t*a>>8,e[o-2]=e[o-2]*s+n*a>>8,e[o-1]=e[o-1]*s+r*a>>8}}}function d(e,t,n){for(var r=e.length,i=3;i<r;i+=4)t[i]=t[i]*(n?n[e[i]]:e[i])*(1/255)|0}function f(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var o=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[o>>8]>>8:t[i]*o>>16}}function p(e,t,n,r){var i=t.canvas,o=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var s=t.backdrop||null;if(!t.transferMap&&r.isEnabled){var a=r.composeSMask({layer:n.canvas,mask:i,properties:{subtype:t.subtype,backdrop:s}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(a,t.offsetX,t.offsetY)}!function(e,t,n,r,i,o,s){var a,l=!!o,u=l?o[0]:0,c=l?o[1]:0,p=l?o[2]:0;a="Luminosity"===i?f:d;for(var g=Math.min(r,Math.ceil(1048576/n)),m=0;m<r;m+=g){var v=Math.min(g,r-m),y=e.getImageData(0,m,n,v),b=t.getImageData(0,m,n,v);l&&h(y.data,u,c,p),a(y.data,b.data,s),e.putImageData(b,0,m)}}(o,n,i.width,i.height,t.subtype,s,t.transferMap),e.drawImage(i,0,0)}var g=["butt","round","square"],m=["miter","round","bevel"],v={},y={};for(var b in e.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,i=void 0!==r&&r,o=e.background,s=void 0===o?null:o,a=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=s||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,a,l),this.ctx.restore(),i){var u=this.cachedCanvases.getCanvas("transparent",a,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),c(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,i){var s=e.argsArray,a=e.fnArray,l=t||0,u=s.length;if(u===l)return l;for(var c,h=u-l>10&&"function"==typeof n,d=h?Date.now()+15:0,f=0,p=this.commonObjs,g=this.objs;;){if(void 0!==i&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if((c=a[l])!==r.OPS.dependency)this[c].apply(this,s[l]);else{var m,v=o(s[l]);try{for(v.s();!(m=v.n()).done;){var y=m.value,b=y.startsWith("g_")?p:g;if(!b.has(y))return b.get(y,n),l}}catch(_){v.e(_)}finally{v.f()}}if(++l===u)return l;if(h&&++f>10){if(Date.now()>d)return n(),l;f=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=g[e]},setLineJoin:function(e){this.ctx.lineJoin=m[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[1];switch(r[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,e.canvas.width,e.canvas.height,!0),n=this.ctx,r=n.mozCurrentTransform;this.ctx.save();var i=t.context;i.scale(1/e.scaleX,1/e.scaleY),i.translate(-e.offsetX,-e.offsetY),i.transform.apply(i,r),e.startTransformInverse=i.mozCurrentTransformInverse,s(n,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),s(e,this.ctx),this.current.resumeSMaskCtx=e;var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(e),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),p(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),s(e,this.ctx);var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,r,i,o){this.ctx.transform(e,t,n,r,i,o),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,i=this.current,o=i.x,s=i.y,a=0,l=0,u=e.length;a<u;a++)switch(0|e[a]){case r.OPS.rectangle:o=t[l++],s=t[l++];var c=t[l++],h=t[l++];0===c&&(c=this.getSinglePixelWidth()),0===h&&(h=this.getSinglePixelWidth());var d=o+c,f=s+h;this.ctx.moveTo(o,s),this.ctx.lineTo(d,s),this.ctx.lineTo(d,f),this.ctx.lineTo(o,f),this.ctx.lineTo(o,s),this.ctx.closePath();break;case r.OPS.moveTo:o=t[l++],s=t[l++],n.moveTo(o,s);break;case r.OPS.lineTo:o=t[l++],s=t[l++],n.lineTo(o,s);break;case r.OPS.curveTo:n.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],o=t[l+4],s=t[l+5]),l+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(o,s,t[l],t[l+1],t[l+2],t[l+3]),o=t[l+2],s=t[l+3],l+=4;break;case r.OPS.curveTo3:n.bezierCurveTo(t[l],t[l+1],o=t[l+2],s=t[l+3],o,s),l+=4;break;case r.OPS.closePath:n.closePath()}i.setCurrentPoint(o,s)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type){t.save();var i=r.Util.singularValueDecompose2dScale(t.mozCurrentTransform)[0];t.strokeStyle=n.getPattern(t,this),t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*i),t.stroke(),t.restore()}else t.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=v},eoClip:function(){this.pendingClip=y},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal",a='"'.concat(n.loadedName||"sans-serif",'", ').concat(n.fallbackName),l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font="".concat(s," ").concat(o," ").concat(l,"px ").concat(a)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,i,o){this.current.textMatrix=[e,t,n,r,i,o],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,i){var o,s=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,c=a.fontSize/a.fontSizeScale,h=u&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(u&r.TextRenderingMode.ADD_TO_PATH_FLAG),f=a.patternFill&&!l.missingFile;(l.disableFontFace||d||f)&&(o=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||f?(s.save(),s.translate(t,n),s.beginPath(),o(s,c),i&&s.setTransform.apply(s,i),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||s.stroke(),s.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||s.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:n,fontSize:c,addToPath:o})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var i=t.fontSize;if(0!==i){var o,s=this.ctx,a=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=e.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=i*t.fontMatrix[0],v=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(s.save(),t.patternFill){s.save();var y=t.fillColor.getPattern(s,this);o=s.mozCurrentTransform,s.restore(),s.fillStyle=y}s.transform.apply(s,t.textMatrix),s.translate(t.x,t.y+t.textRise),s.scale(h,c>0?-1:1);var b=t.lineWidth,_=t.textMatrixScale;if(0===_||0===b){var w=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;w!==r.TextRenderingMode.STROKE&&w!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,b=.65*this.getSinglePixelWidth())}else b/=_;1!==a&&(s.scale(a,a),b/=a),s.lineWidth=b;var S,A=0;for(S=0;S<d;++S){var C=e[S];if((0,r.isNum)(C))A+=p*C*i/1e3;else{var E,k,T,x,I=!1,P=(C.isSpace?u:0)+l,O=C.fontChar,R=C.accent,N=C.width;if(f?(T=C.vmetric||g,x=C.vmetric?T[1]:.5*N,N=T?-T[0]:N,E=(x=-x*m)/a,k=(A+T[2]*m)/a):(E=A/a,k=0),n.remeasure&&N>0){var D=1e3*s.measureText(O).width/i*a;if(N<D&&this.isFontSubpixelAAEnabled){var L=N/D;I=!0,s.save(),s.scale(L,1),E/=L}else N!==D&&(E+=(N-D)/2e3*i/a)}(C.isInFont||n.missingFile)&&(v&&!R?s.fillText(O,E,k):(this.paintChar(O,E,k,o),R&&this.paintChar(R.fontChar,E+R.offset.x/a,k-R.offset.y/a,o))),A+=f?N*m-P*c:N*m+P*c,I&&s.restore()}}f?t.y-=A:t.x+=A*h,s.restore()}},showType3Text:function(e){var t,n,i,o,s=this.ctx,a=this.current,l=a.font,u=a.fontSize,c=a.fontDirection,h=l.vertical?1:-1,d=a.charSpacing,f=a.wordSpacing,p=a.textHScale*c,g=a.fontMatrix||r.FONT_IDENTITY_MATRIX,m=e.length;if(a.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedGetSinglePixelWidth=null,s.save(),s.transform.apply(s,a.textMatrix),s.translate(a.x,a.y),s.scale(p,c),t=0;t<m;++t)if((0,r.isNum)(n=e[t]))this.ctx.translate(o=h*n*u/1e3,0),a.x+=o*p;else{var v=(n.isSpace?f:0)+d,y=l.charProcOperatorList[n.operatorListId];if(y){this.processingType3=n,this.save(),s.scale(u,u),s.transform.apply(s,g),this.executeOperatorList(y),this.restore();var b=r.Util.applyTransform([n.width,0],g);s.translate(i=b[0]*u+v,0),a.x+=i*p}else(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}s.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.clip(),this.endPath()},getColorN_Pattern:function(t){var n,r=this;if("TilingPattern"===t[0]){var o=t[1],s=this.baseTransform||this.ctx.mozCurrentTransform.slice();n=new i.TilingPattern(t,o,this.ctx,{createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}},s)}else n=(0,i.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var i=r.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i},setFillRGBColor:function(e,t,n){var i=r.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,i.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var o=t.mozCurrentTransformInverse;if(o){var s=t.canvas,a=s.width,l=s.height,u=r.Util.applyTransform([0,0],o),c=r.Util.applyTransform([0,l],o),h=r.Util.applyTransform([a,0],o),d=r.Util.applyTransform([a,l],o),f=Math.min(u[0],c[0],h[0],d[0]),p=Math.min(u[1],c[1],h[1],d[1]),g=Math.max(u[0],c[0],h[0],d[0]),m=Math.max(u[1],c[1],h[1],d[1]);this.ctx.fillRect(f,p,g-f,m-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);i=r.Util.intersect(i,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];var o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),u=Math.max(Math.ceil(i[3])-a,1),c=1,h=1;l>4096&&(c=l/4096,l=4096),u>4096&&(h=u/4096,u=4096);var d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);var f=this.cachedCanvases.getCanvas(d,l,u,!0),p=f.context;p.scale(1/c,1/h),p.translate(-o,-a),p.transform.apply(p,n),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:a,scaleX:c,scaleY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.scale(c,h)),s(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){this.save(),c(this.ctx),this.current=new u,Array.isArray(e)&&4===e.length&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath()),this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){var t=this.ctx,r=e.width,i=e.height,o=this.current.fillColor,s=this.current.patternFill,a=this.processingType3;if(a&&void 0===a.compiled&&(a.compiled=r<=1e3&&i<=1e3?function(e){var t,n,r,i,o=e.width,s=e.height,a=o+1,l=new Uint8Array(a*(s+1)),u=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=o+7&-8,h=e.data,d=new Uint8Array(c*s),f=0;for(t=0,i=h.length;t<i;t++)for(var p=128,g=h[t];p>0;)d[f++]=g&p?0:255,p>>=1;var m=0;for(0!==d[f=0]&&(l[0]=1,++m),n=1;n<o;n++)d[f]!==d[f+1]&&(l[n]=d[f]?2:1,++m),f++;for(0!==d[f]&&(l[n]=2,++m),t=1;t<s;t++){r=t*a,d[(f=t*c)-c]!==d[f]&&(l[r]=d[f]?1:8,++m);var v=(d[f]?4:0)+(d[f-c]?8:0);for(n=1;n<o;n++)u[v=(v>>2)+(d[f+1]?4:0)+(d[f-c+1]?8:0)]&&(l[r+n]=u[v],++m),f++;if(d[f-c]!==d[f]&&(l[r+n]=d[f]?2:4,++m),m>1e3)return null}for(r=t*a,0!==d[f=c*(s-1)]&&(l[r]=8,++m),n=1;n<o;n++)d[f]!==d[f+1]&&(l[r+n]=d[f]?4:8,++m),f++;if(0!==d[f]&&(l[r+n]=4,++m),m>1e3)return null;var y=new Int32Array([0,a,-1,0,-a,0,0,0,1]),b=[];for(t=0;m&&t<=s;t++){for(var _=t*a,w=_+o;_<w&&!l[_];)_++;if(_!==w){var S,A=[_%a,t],C=l[_],E=_;do{var k=y[C];do{_+=k}while(!l[_]);5!==(S=l[_])&&10!==S?(C=S,l[_]=0):l[_]&=(C=S&51*C>>4)>>2|C<<2,A.push(_%a),A.push(_/a|0),l[_]||--m}while(E!==_);b.push(A),--t}}return function(e){e.save(),e.scale(1/o,-1/s),e.translate(0,-s),e.beginPath();for(var t=0,n=b.length;t<n;t++){var r=b[t];e.moveTo(r[0],r[1]);for(var i=2,a=r.length;i<a;i+=2)e.lineTo(r[i],r[i+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:i}):null),a&&a.compiled)a.compiled(t);else{var l=this.cachedCanvases.getCanvas("maskCanvas",r,i),u=l.context;u.save(),n(u,e),u.globalCompositeOperation="source-in",u.fillStyle=s?o.getPattern(u,this):o,u.fillRect(0,0,r,i),u.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,r,i){var o=e.width,s=e.height,a=this.current.fillColor,l=this.current.patternFill,u=this.cachedCanvases.getCanvas("maskCanvas",o,s),c=u.context;c.save(),n(c,e),c.globalCompositeOperation="source-in",c.fillStyle=l?a.getPattern(c,this):a,c.fillRect(0,0,o,s),c.restore();for(var h=this.ctx,d=0,f=i.length;d<f;d+=2)h.save(),h.transform(t,0,0,r,i[d],i[d+1]),h.scale(1,-1),h.drawImage(u.canvas,0,0,o,s,0,-1,1,1),h.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,r=this.current.fillColor,i=this.current.patternFill,o=0,s=e.length;o<s;o++){var a=e[o],l=a.width,u=a.height,c=this.cachedCanvases.getCanvas("maskCanvas",l,u),h=c.context;h.save(),n(h,a),h.globalCompositeOperation="source-in",h.fillStyle=i?r.getPattern(h,this):r,h.fillRect(0,0,l,u),h.restore(),t.save(),t.transform.apply(t,a.transform),t.scale(1,-1),t.drawImage(c.canvas,0,0,l,u,0,-1,1,1),t.restore()}},paintImageXObject:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,i){var o=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(o){for(var s=o.width,a=o.height,l=[],u=0,c=i.length;u<c;u+=2)l.push({transform:[t,0,0,n,i[u],i[u+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,l)}else(0,r.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var n=e.width,r=e.height,i=this.ctx;this.save(),i.scale(1/n,-1/r);var o,s,a=i.mozCurrentTransformInverse,l=a[0],u=a[1],c=Math.max(Math.sqrt(l*l+u*u),1),h=a[2],d=a[3],f=Math.max(Math.sqrt(h*h+d*d),1);if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)o=e;else{var p=(s=this.cachedCanvases.getCanvas("inlineImage",n,r)).context;t(p,e),o=s.canvas}for(var g=n,m=r,v="prescale1";c>2&&g>1||f>2&&m>1;){var y=g,b=m;c>2&&g>1&&(c/=g/(y=Math.ceil(g/2))),f>2&&m>1&&(f/=m/(b=Math.ceil(m/2))),(p=(s=this.cachedCanvases.getCanvas(v,y,b)).context).clearRect(0,0,y,b),p.drawImage(o,0,0,g,m,0,0,y,b),o=s.canvas,g=y,m=b,v="prescale1"===v?"prescale2":"prescale1"}if(i.drawImage(o,0,0,g,m,0,-r,n,r),this.imageLayer){var _=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:_[0],top:_[1],width:n/a[0],height:r/a[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,n){var r=this.ctx,i=e.width,o=e.height,s=this.cachedCanvases.getCanvas("inlineImage",i,o);t(s.context,e);for(var a=0,l=n.length;a<l;a++){var u=n[a];if(r.save(),r.transform.apply(r,u.transform),r.scale(1,-1),r.drawImage(s.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:i,height:o})}r.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,r.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===y?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},r.OPS)e.prototype[r.OPS[b]]=e.prototype[b];return e}();t.CanvasGraphics=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=i[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)},t.TilingPattern=void 0;var r=n(5),i={};function o(e,t){if(t&&"undefined"!=typeof Path2D){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}i.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],r=e[3],i=e[4],s=e[5],a=e[6],l=e[7];return{type:"Pattern",getPattern:function(e){var u;o(e,n),"axial"===t?u=e.createLinearGradient(i[0],i[1],s[0],s[1]):"radial"===t&&(u=e.createRadialGradient(i[0],i[1],a,s[0],s[1],l));for(var c=0,h=r.length;c<h;++c){var d=r[c];u.addColorStop(d[0],d[1])}return u}}}};var s=function(){function e(e,t,n,r,i,o,s,a){var l,u=t.coords,c=t.colors,h=e.data,d=4*e.width;u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=o,o=s,s=l),u[r+1]>u[i+1]&&(l=r,r=i,i=l,l=s,s=a,a=l),u[n+1]>u[r+1]&&(l=n,n=r,r=l,l=o,o=s,s=l);var f=(u[n]+t.offsetX)*t.scaleX,p=(u[n+1]+t.offsetY)*t.scaleY,g=(u[r]+t.offsetX)*t.scaleX,m=(u[r+1]+t.offsetY)*t.scaleY,v=(u[i]+t.offsetX)*t.scaleX,y=(u[i+1]+t.offsetY)*t.scaleY;if(!(p>=y))for(var b,_,w,S,A,C,E,k,T=c[o],x=c[o+1],I=c[o+2],P=c[s],O=c[s+1],R=c[s+2],N=c[a],D=c[a+1],L=c[a+2],M=Math.round(p),F=Math.round(y),j=M;j<=F;j++){var V,U;if(j<m)b=f-(f-g)*(V=j<p?0:p===m?1:(p-j)/(p-m)),_=T-(T-P)*V,w=x-(x-O)*V,S=I-(I-R)*V;else b=g-(g-v)*(U=j>y?1:m===y?0:(m-j)/(m-y)),_=P-(P-N)*U,w=O-(O-D)*U,S=R-(R-L)*U;var B=void 0;A=f-(f-v)*(B=j<p?0:j>y?1:(p-j)/(p-y)),C=T-(T-N)*B,E=x-(x-D)*B,k=I-(I-L)*B;for(var q=Math.round(Math.min(b,A)),H=Math.round(Math.max(b,A)),z=d*j+4*q,G=q;G<=H;G++)(B=(b-G)/(b-A))<0?B=0:B>1&&(B=1),h[z++]=_-(_-C)*B|0,h[z++]=w-(w-E)*B|0,h[z++]=S-(S-k)*B|0,h[z++]=255}}function t(t,n,r){var i,o,s=n.coords,a=n.colors;switch(n.type){case"lattice":var l=n.verticesPerRow,u=Math.floor(s.length/l)-1,c=l-1;for(i=0;i<u;i++)for(var h=i*l,d=0;d<c;d++,h++)e(t,r,s[h],s[h+1],s[h+l],a[h],a[h+1],a[h+l]),e(t,r,s[h+l+1],s[h+1],s[h+l],a[h+l+1],a[h+1],a[h+l]);break;case"triangles":for(i=0,o=s.length;i<o;i+=3)e(t,r,s[i],s[i+1],s[i+2],a[i],a[i+1],a[i+2]);break;default:throw new Error("illegal figure")}}return function(e,n,r,i,o,s,a,l){var u,c,h,d,f=Math.floor(e[0]),p=Math.floor(e[1]),g=Math.ceil(e[2])-f,m=Math.ceil(e[3])-p,v=Math.min(Math.ceil(Math.abs(g*n[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(m*n[1]*1.1)),3e3),b=g/v,_=m/y,w={coords:r,colors:i,offsetX:-f,offsetY:-p,scaleX:1/b,scaleY:1/_},S=v+4,A=y+4;if(l.isEnabled)u=l.drawFigures({width:v,height:y,backgroundColor:s,figures:o,context:w}),(c=a.getCanvas("mesh",S,A,!1)).context.drawImage(u,2,2),u=c.canvas;else{var C=(c=a.getCanvas("mesh",S,A,!1)).context,E=C.createImageData(v,y);if(s){var k=E.data;for(h=0,d=k.length;h<d;h+=4)k[h]=s[0],k[h+1]=s[1],k[h+2]=s[2],k[h+3]=255}for(h=0;h<o.length;h++)t(E,o[h],w);C.putImageData(E,2,2),u=c.canvas}return{canvas:u,offsetX:f-2*b,offsetY:p-2*_,scaleX:b,scaleY:_}}}();i.Mesh={fromIR:function(e){var t=e[2],n=e[3],i=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return{type:"Pattern",getPattern:function(e,h,d){var f;if(o(e,u),d)f=r.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(f=r.Util.singularValueDecompose2dScale(h.baseTransform),l){var p=r.Util.singularValueDecompose2dScale(l);f=[f[0]*p[0],f[1]*p[1]]}var g=s(a,f,t,n,i,d?null:c,h.cachedCanvases,h.webGLContext);return d||(e.setTransform.apply(e,h.baseTransform),l&&e.transform.apply(e,l)),e.translate(g.offsetX,g.offsetY),e.scale(g.scaleX,g.scaleY),e.createPattern(g.canvas,"no-repeat")}}}},i.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var a=function(){function e(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=i,this.type="Pattern",this.ctx=n}return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,a=this.color,l=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+this.tilingType);var u=n[0],c=n[1],h=n[2],d=n[3],f=r.Util.singularValueDecompose2dScale(this.matrix),p=r.Util.singularValueDecompose2dScale(this.baseTransform),g=[f[0]*p[0],f[1]*p[1]],m=this.getSizeAndScale(i,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(o,this.ctx.canvas.height,g[1]),y=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),b=l.createCanvasGraphics(y.context);return b.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(b,s,a),b.transform(m.scale,0,0,v.scale,0,0),b.transform(1,0,0,1,-u,-c),this.clipBbox(b,n,u,c,h,d),b.executeOperatorList(t),this.ctx.transform(1,0,0,1,u,c),this.ctx.scale(1/m.scale,1/v.scale),y.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var r=Math.max(3e3,t),i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}},clipBbox:function(e,t,n,r,i,o){Array.isArray(t)&&4===t.length&&(e.ctx.rect(n,r,i-n,o-r),e.clip(),e.endPath())},setFillAndStrokeStyleToContext:function(e,t,n){var i=e.ctx,o=e.current;switch(t){case 1:var s=this.ctx;i.fillStyle=s.fillStyle,i.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case 2:var a=r.Util.makeCssRgb(n[0],n[1],n[2]);i.fillStyle=a,i.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new r.FormatError("Unsupported paint type: ".concat(t))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},e}();t.TilingPattern=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(5);function s(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){if("object"!==a(e)||null===e)return e;switch(e.name){case"AbortException":return new o.AbortException(e.message);case"MissingPDFException":return new o.MissingPDFException(e.message);case"UnexpectedResponseException":return new o.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new o.UnknownErrorException(e.message,e.details);default:return new o.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===i.sourceName)if(t.stream)i._processStreamMessage(t);else if(t.callback){var n=t.callbackId,o=i.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],1===t.callback)o.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");o.reject(l(t.reason))}}else{var s=i.actionHandler[t.action];if(!s)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var a=i.sourceName,u=t.sourceName;new Promise((function(e){e(s(t.data))})).then((function(e){r.postMessage({sourceName:a,targetName:u,callback:1,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:a,targetName:u,callback:2,callbackId:t.callbackId,reason:l(e)})}))}else t.streamId?i._createStreamSink(t):s(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}var t,n,r,a;return t=e,(n=[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var r=this.callbackId++,i=(0,o.createPromiseCapability)();this.callbackCapabilities[r]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(s){i.reject(s)}return i.promise}},{key:"sendWithStream",value:function(e,t,n,r){var i=this,s=this.streamId++,a=this.sourceName,u=this.targetName,c=this.comObj;return new ReadableStream({start:function(n){var l=(0,o.createPromiseCapability)();return i.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:a,targetName:u,action:e,streamId:s,data:t,desiredSize:n.desiredSize},r),l.promise},pull:function(e){var t=(0,o.createPromiseCapability)();return i.streamControllers[s].pullCall=t,c.postMessage({sourceName:a,targetName:u,stream:6,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,o.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,o.createPromiseCapability)();return i.streamControllers[s].cancelCall=t,i.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:u,stream:1,streamId:s,reason:l(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=this,n=this.actionHandler[e.action],r=e.streamId,i=this.sourceName,s=e.sourceName,a=this.comObj,u={enqueue:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var l=this.desiredSize;this.desiredSize-=n,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:i,targetName:s,stream:4,streamId:r,chunk:e},a)}},close:function(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:3,streamId:r}),delete t.streamSinks[r])},error:function(e){(0,o.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:s,stream:5,streamId:r,reason:l(e)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[r]=u,new Promise((function(t){t(n(e.data,u))})).then((function(){a.postMessage({sourceName:i,targetName:s,stream:8,streamId:r,success:!0})}),(function(e){a.postMessage({sourceName:i,targetName:s,stream:8,streamId:r,reason:l(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj;switch(e.stream){case 8:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(l(e.reason));break;case 7:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(l(e.reason));break;case 6:if(!this.streamSinks[t]){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var s=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(s&&s())})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:t,reason:l(e)})}));break;case 4:if((0,o.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case 3:if((0,o.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case 5:(0,o.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(l(e.reason)),this._deleteStreamController(t);break;case 2:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(l(e.reason)),this._deleteStreamController(t);break;case 1:if(!this.streamSinks[t])break;var a=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(a&&a(l(e.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:t,reason:l(e)})})),this.streamSinks[t].sinkCapability.reject(l(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(r=i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)})),a=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){s(o,n,i,a,l,"next",e)}function l(e){s(o,n,i,a,l,"throw",e)}a(void 0)}))},function(e){return a.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(5),i=n(206);function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Metadata=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,r.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);var n=(new i.SimpleXMLParser).parseFromString(t);this._metadataMap=new Map,n&&this._parse(n)}var t;return(t=[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,n,r){return String.fromCharCode(64*t+8*n+1*r)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))})),r="",i=0,o=n.length;i<o;i+=2){var s=256*n.charCodeAt(i)+n.charCodeAt(i+1);r+=s>=32&&s<127&&60!==s&&62!==s&&38!==s?String.fromCharCode(s):"&#x"+(65536+s).toString(16).substring(1)+";"}return">"+r}))}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var n=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===n&&t.hasChildNodes())for(var r=t.childNodes,i=0,o=r.length;i<o;i++){var s=r[i];if("rdf:description"===s.nodeName.toLowerCase())for(var a=0,l=s.childNodes.length;a<l;a++)if("#text"!==s.childNodes[a].nodeName.toLowerCase()){var u=s.childNodes[a],c=u.nodeName.toLowerCase();this._metadataMap.set(c,u.textContent.trim())}}}},{key:"get",value:function(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}},{key:"getAll",value:function(){var e,t,n=Object.create(null),r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}(this._metadataMap);try{for(r.s();!(e=r.n()).done;){var i=(2,function(e){if(Array.isArray(e))return e}(t=e.value)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),2!==n.length);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t)||o(t,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());n[i[0]]=i[1]}}catch(s){r.e(s)}finally{r.f()}return n}},{key:"has",value:function(e){return this._metadataMap.has(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t){var n=e[t];return" "===n||"\n"===n||"\r"===n||"\t"===n}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var f=function(){function e(){u(this,e)}return h(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,(function(e,n){if("#x"===n.substring(0,2))return String.fromCharCode(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCharCode(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return t.onResolveEntity(n)}))}},{key:"_parseContent",value:function(e,t){var n=[],r=t;function i(){for(;r<e.length&&d(e,r);)++r}for(;r<e.length&&!d(e,r)&&">"!==e[r]&&"/"!==e[r];)++r;var o=e.substring(t,r);for(i();r<e.length&&">"!==e[r]&&"/"!==e[r]&&"?"!==e[r];){i();for(var s,a="";r<e.length&&!d(e,r)&&"="!==e[r];)a+=e[r],++r;if(i(),"="!==e[r])return null;++r,i();var l=e[r];if('"'!==l&&"'"!==l)return null;var u=e.indexOf(l,++r);if(u<0)return null;s=e.substring(r,u),n.push({name:a,value:this._resolveEntities(s)}),r=u+1,i()}return{name:o,attributes:n,parsed:r-t}}},{key:"_parseProcessingInstruction",value:function(e,t){for(var n=t;n<e.length&&!d(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var r=e.substring(t,n);!function(){for(;n<e.length&&d(e,n);)++n}();for(var i=n;n<e.length&&("?"!==e[n]||">"!==e[n+1]);)++n;return{name:r,value:e.substring(i,n),parsed:n-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var n=t;if("<"===e[t]){var r=void 0;switch(e[++n]){case"/":if(++n,(r=e.indexOf(">",n))<0)return void this.onError(-9);this.onEndElement(e.substring(n,r)),n=r+1;break;case"?":++n;var i=this._parseProcessingInstruction(e,n);if("?>"!==e.substring(n+i.parsed,n+i.parsed+2))return void this.onError(-3);this.onPi(i.name,i.value),n+=i.parsed+2;break;case"!":if("--"===e.substring(n+1,n+3)){if((r=e.indexOf("--\x3e",n+3))<0)return void this.onError(-5);this.onComment(e.substring(n+3,r)),n=r+3}else if("[CDATA["===e.substring(n+1,n+8)){if((r=e.indexOf("]]>",n+8))<0)return void this.onError(-2);this.onCdata(e.substring(n+8,r)),n=r+3}else{if("DOCTYPE"!==e.substring(n+1,n+8))return void this.onError(-6);var o=e.indexOf("[",n+8),s=!1;if((r=e.indexOf(">",n+8))<0)return void this.onError(-4);if(o>0&&r>o){if((r=e.indexOf("]>",n+8))<0)return void this.onError(-4);s=!0}var a=e.substring(n+8,r+(s?1:0));this.onDoctype(a),n=r+(s?2:1)}break;default:var l=this._parseContent(e,n);if(null===l)return void this.onError(-6);var u=!1;if("/>"===e.substring(n+l.parsed,n+l.parsed+2))u=!0;else if(">"!==e.substring(n+l.parsed,n+l.parsed+1))return void this.onError(-9);this.onBeginElement(l.name,l.attributes,u),n+=l.parsed+(u?2:1)}}else{for(;n<e.length&&"<"!==e[n];)n++;var c=e.substring(t,n);this.onText(this._resolveEntities(c))}t=n}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,n){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),p=function(){function e(t,n){u(this,e),this.nodeName=t,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return h(e,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}}]),e}();t.SimpleXMLParser=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=l(t);if(n){var i=l(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return a(this,e)});function c(){var e;return u(this,c),(e=r.call(this))._currentFragment=null,e._stack=null,e._errorCode=0,e}return h(c,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(e),0===this._errorCode){var t=(n=this._currentFragment,1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),1!==n.length);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(n)||function(e,t){if(e){if("string"==typeof e)return i(e,1);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,1):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];if(t)return{documentElement:t}}var n}},{key:"onResolveEntity",value:function(e){switch(e){case"apos":return"'"}return o(l(c.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!function(e){for(var t=0,n=e.length;t<n;t++)if(!d(e,t))return!1;return!0}(e)){var t=new p("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new p("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,n){var r=new p(e);r.childNodes=[],this._currentFragment.push(r),n||(this._stack.push(this._currentFragment),this._currentFragment=r.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var n=0,r=t.childNodes.length;n<r;n++)t.childNodes[n].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),c}(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(5);function s(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)}))}}function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}t.PDFDataTransportStream=function(){function e(t,n){var r=this;c(this,e),(0,o.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;var i=t.initialData;if(i&&i.length>0){var s=new Uint8Array(i).buffer;this._queuedChunks.push(s)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){r._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){r._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){r._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){r._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return d(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,o.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new f(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new p(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();var f=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c(this,e),this._stream=t,this._done=r||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var i,o=l(this._queuedChunks);try{for(o.s();!(i=o.n()).done;){var s=i.value;this._loaded+=s.byteLength}}catch(a){o.e(a)}finally{o.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}var t;return d(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"read",value:(t=a(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,o.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),e}(),p=function(){function e(t,n,r){c(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var t;return d(e,[{key:"_enqueue",value:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(t=a(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,o.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(5);t.WebGLContext=function(){function e(t){var n=t.enable,r=void 0!==n&&n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._enabled=!0===r}var t;return(t=[{key:"composeSMask",value:function(e){return i.composeSMask(e.layer,e.mask,e.properties)}},{key:"drawFigures",value:function(e){return i.drawFigures(e.width,e.height,e.backgroundColor,e.figures,e.context)}},{key:"clear",value:function(){i.cleanup()}},{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=i.tryInitGL()),(0,r.shadow)(this,"isEnabled",e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();var i=function(){function e(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+i)}return r}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){for(var n=e.createProgram(),r=0,i=t.length;r<i;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var o=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+o)}return n}function i(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}var o,s;function a(){o||(s=document.createElement("canvas"),o=s.getContext("webgl",{premultipliedalpha:!1}))}var l=null,u=null;return{tryInitGL:function(){try{return a(),!!o}catch(e){}return!1},composeSMask:function(e,u,c){var h=e.width,d=e.height;l||function(){var e,i;a(),e=s,s=null,i=o,o=null;var u=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(i,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);i.useProgram(u);var c={};c.gl=i,c.canvas=e,c.resolutionLocation=i.getUniformLocation(u,"u_resolution"),c.positionLocation=i.getAttribLocation(u,"a_position"),c.backdropLocation=i.getUniformLocation(u,"u_backdrop"),c.subtypeLocation=i.getUniformLocation(u,"u_subtype");var h=i.getAttribLocation(u,"a_texCoord"),d=i.getUniformLocation(u,"u_image"),f=i.getUniformLocation(u,"u_mask"),p=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,p),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),i.STATIC_DRAW),i.enableVertexAttribArray(h),i.vertexAttribPointer(h,2,i.FLOAT,!1,0,0),i.uniform1i(d,0),i.uniform1i(f,1),l=c}();var f=l,p=f.canvas,g=f.gl;p.width=h,p.height=d,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(f.resolutionLocation,h,d),c.backdrop?g.uniform4f(f.resolutionLocation,c.backdrop[0],c.backdrop[1],c.backdrop[2],1):g.uniform4f(f.resolutionLocation,0,0,0,0),g.uniform1i(f.subtypeLocation,"Luminosity"===c.subtype?1:0);var m=i(g,e,g.TEXTURE0),v=i(g,u,g.TEXTURE1),y=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,y),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,h,0,0,d,0,d,h,0,h,d]),g.STATIC_DRAW),g.enableVertexAttribArray(f.positionLocation),g.vertexAttribPointer(f.positionLocation,2,g.FLOAT,!1,0,0),g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.clear(g.COLOR_BUFFER_BIT),g.drawArrays(g.TRIANGLES,0,6),g.flush(),g.deleteTexture(m),g.deleteTexture(v),g.deleteBuffer(y),p},drawFigures:function(e,i,l,c,h){u||function(){var e,i;a(),e=s,s=null,i=o,o=null;var l=r(i,[t(i,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(i,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);i.useProgram(l);var c={};c.gl=i,c.canvas=e,c.resolutionLocation=i.getUniformLocation(l,"u_resolution"),c.scaleLocation=i.getUniformLocation(l,"u_scale"),c.offsetLocation=i.getUniformLocation(l,"u_offset"),c.positionLocation=i.getAttribLocation(l,"a_position"),c.colorLocation=i.getAttribLocation(l,"a_color"),u=c}();var d=u,f=d.canvas,p=d.gl;f.width=e,f.height=i,p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight),p.uniform2f(d.resolutionLocation,e,i);var g,m,v,y=0;for(g=0,m=c.length;g<m;g++)switch(c[g].type){case"lattice":y+=((v=c[g].coords.length/c[g].verticesPerRow|0)-1)*(c[g].verticesPerRow-1)*6;break;case"triangles":y+=c[g].coords.length}var b=new Float32Array(2*y),_=new Uint8Array(3*y),w=h.coords,S=h.colors,A=0,C=0;for(g=0,m=c.length;g<m;g++){var E=c[g],k=E.coords,T=E.colors;switch(E.type){case"lattice":var x=E.verticesPerRow;v=k.length/x|0;for(var I=1;I<v;I++)for(var P=I*x+1,O=1;O<x;O++,P++)b[A]=w[k[P-x-1]],b[A+1]=w[k[P-x-1]+1],b[A+2]=w[k[P-x]],b[A+3]=w[k[P-x]+1],b[A+4]=w[k[P-1]],b[A+5]=w[k[P-1]+1],_[C]=S[T[P-x-1]],_[C+1]=S[T[P-x-1]+1],_[C+2]=S[T[P-x-1]+2],_[C+3]=S[T[P-x]],_[C+4]=S[T[P-x]+1],_[C+5]=S[T[P-x]+2],_[C+6]=S[T[P-1]],_[C+7]=S[T[P-1]+1],_[C+8]=S[T[P-1]+2],b[A+6]=b[A+2],b[A+7]=b[A+3],b[A+8]=b[A+4],b[A+9]=b[A+5],b[A+10]=w[k[P]],b[A+11]=w[k[P]+1],_[C+9]=_[C+3],_[C+10]=_[C+4],_[C+11]=_[C+5],_[C+12]=_[C+6],_[C+13]=_[C+7],_[C+14]=_[C+8],_[C+15]=S[T[P]],_[C+16]=S[T[P]+1],_[C+17]=S[T[P]+2],A+=12,C+=18;break;case"triangles":for(var R=0,N=k.length;R<N;R++)b[A]=w[k[R]],b[A+1]=w[k[R]+1],_[C]=S[T[R]],_[C+1]=S[T[R]+1],_[C+2]=S[T[R]+2],A+=2,C+=3}}l?p.clearColor(l[0]/255,l[1]/255,l[2]/255,1):p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT);var D=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,D),p.bufferData(p.ARRAY_BUFFER,b,p.STATIC_DRAW),p.enableVertexAttribArray(d.positionLocation),p.vertexAttribPointer(d.positionLocation,2,p.FLOAT,!1,0,0);var L=p.createBuffer();return p.bindBuffer(p.ARRAY_BUFFER,L),p.bufferData(p.ARRAY_BUFFER,_,p.STATIC_DRAW),p.enableVertexAttribArray(d.colorLocation),p.vertexAttribPointer(d.colorLocation,3,p.UNSIGNED_BYTE,!1,0,0),p.uniform2f(d.scaleLocation,h.scaleX,h.scaleY),p.uniform2f(d.offsetLocation,h.offsetX,h.offsetY),p.drawArrays(p.TRIANGLES,0,y),p.flush(),p.deleteBuffer(D),p.deleteBuffer(L),f},cleanup:function(){l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),l=null,u=null}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),i=n(5);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var v=function(){function e(){p(this,e)}return m(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new b(e);case i.AnnotationType.TEXT:return new _(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new S(e);case"Btn":return e.data.radioButton?new C(e):e.data.checkBox?new A(e):new E(e);case"Ch":return new k(e)}return new w(e);case i.AnnotationType.POPUP:return new T(e);case i.AnnotationType.FREETEXT:return new I(e);case i.AnnotationType.LINE:return new P(e);case i.AnnotationType.SQUARE:return new O(e);case i.AnnotationType.CIRCLE:return new R(e);case i.AnnotationType.POLYLINE:return new N(e);case i.AnnotationType.CARET:return new L(e);case i.AnnotationType.INK:return new M(e);case i.AnnotationType.POLYGON:return new D(e);case i.AnnotationType.HIGHLIGHT:return new F(e);case i.AnnotationType.UNDERLINE:return new j(e);case i.AnnotationType.SQUIGGLY:return new V(e);case i.AnnotationType.STRIKEOUT:return new U(e);case i.AnnotationType.STAMP:return new B(e);case i.AnnotationType.FILEATTACHMENT:return new q(e);default:return new y(e)}}}]),e}(),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p(this,e),this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,n&&(this.container=this._createContainer(r))}return m(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,o=document.createElement("section"),s=t.rect[2]-t.rect[0],a=t.rect[3]-t.rect[1];o.setAttribute("data-annotation-id",t.id);var l=i.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(o.style.transform="matrix(".concat(r.transform.join(","),")"),o.style.transformOrigin="-".concat(l[0],"px -").concat(l[1],"px"),!e&&t.borderStyle.width>0){o.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(s-=2*t.borderStyle.width,a-=2*t.borderStyle.width);var u=t.borderStyle.horizontalCornerRadius,c=t.borderStyle.verticalCornerRadius;if(u>0||c>0){var h="".concat(u,"px / ").concat(c,"px");o.style.borderRadius=h}switch(t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}t.color?o.style.borderColor=i.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):o.style.borderWidth=0}return o.style.left="".concat(l[0],"px"),o.style.top="".concat(l[1],"px"),o.style.width="".concat(s,"px"),o.style.height="".concat(a,"px"),o}},{key:"_createPopup",value:function(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var r=new x({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();r.style.left=e.style.width,e.appendChild(r)}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),b=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.url||e.data.dest||e.data.action))}return m(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,r.addLinkAttributes)(n,{url:e.url,target:e.newWindow?r.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),n}(y),_=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents))}return m(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),n}(y),w=function(e){u(n,e);var t=c(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){return this.container}}]),n}(y),S=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue)}return m(n,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var e=null;if(this.renderInteractiveForms){if(this.data.multiLine?(e=document.createElement("textarea")).textContent=this.data.fieldValue:((e=document.createElement("input")).type="text",e.setAttribute("value",this.data.fieldValue)),e.disabled=this.data.readOnly,e.name=this.data.fieldName,null!==this.data.maxLen&&(e.maxLength=this.data.maxLen),this.data.comb){var t=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;e.classList.add("comb"),e.style.letterSpacing="calc(".concat(t,"px - 1ch)")}}else{(e=document.createElement("div")).textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell";var n=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(n=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(e,n)}return null!==this.data.textAlignment&&(e.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(e),this.container}},{key:"_setTextStyle",value:function(e,t){var n=e.style;if(n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",t){var r="normal";t.black?r="900":t.bold&&(r="bold"),n.fontWeight=r,n.fontStyle=t.italic?"italic":"normal";var i=t.loadedName?'"'.concat(t.loadedName,'", '):"";n.fontFamily=i+(t.fallbackName||"Helvetica, sans-serif")}}}]),n}(w),A=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,e.renderInteractiveForms)}return m(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",e.name=this.data.fieldName,this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(w),C=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,e.renderInteractiveForms)}return m(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(w),E=function(e){u(n,e);var t=c(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"render",value:function(){var e=a(f(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),n}(b),k=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,e.renderInteractiveForms)}return m(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,e.name=this.data.fieldName,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));var t,n=o(this.data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=document.createElement("option");i.textContent=r.displayValue,i.value=r.exportValue,this.data.fieldValue.includes(r.displayValue)&&i.setAttribute("selected",!0),e.appendChild(i)}}catch(s){n.e(s)}finally{n.f()}return this.container.appendChild(e),this.container}}]),n}(w),T=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!(!e.data.title&&!e.data.contents))}return m(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelector(e);if(!t)return this.container;var n=new x({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(t.style.left),i=parseFloat(t.style.width);return this.container.style.transformOrigin="-".concat(r+i,"px -").concat(t.style.top),this.container.style.left="".concat(r+i,"px"),this.container.appendChild(n.render()),this.container}}]),n}(y),x=function(){function e(t){p(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return m(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var n=this.color;n&&(t.style.backgroundColor=i.Util.makeCssRgb(0|.7*(255-n[0])+n[0],0|.7*(255-n[1])+n[1],0|.7*(255-n[2])+n[2]));var o=document.createElement("h1");o.textContent=this.title,t.appendChild(o);var s=r.PDFDateString.toDateObject(this.modificationDate);if(s){var a=document.createElement("span");a.textContent="{{date}}, {{time}}",a.dataset.l10nId="annotation_date_string",a.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),t.appendChild(a)}var l=this._formatContents(this.contents);return t.appendChild(l),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,i=n.length;r<i;++r)t.appendChild(document.createTextNode(n[r])),r<i-1&&t.appendChild(document.createElement("br"));return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),I=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),P=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),t.appendChild(n),this.container.append(t),this._createPopup(this.container,n,e),this.container}}]),n}(y),O=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",t-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(this.container,o,e),this.container}}]),n}(y),R=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(this.container,o,e),this.container}}]),n}(y),N=function(e){u(n,e);var t=c(n);function n(e){var r;return p(this,n),(r=t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)).containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return m(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),r=[],i=o(t.vertices);try{for(i.s();!(e=i.n()).done;){var s=e.value;r.push(s.x-t.rect[0]+","+(t.rect[3]-s.y))}}catch(l){i.e(l)}finally{i.f()}r=r.join(" ");var a=this.svgFactory.createElement(this.svgElementName);return a.setAttribute("points",r),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),n.appendChild(a),this.container.append(n),this._createPopup(this.container,a,t),this.container}}]),n}(y),D=function(e){u(n,e);var t=c(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(N),L=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),M=function(e){u(n,e);var t=c(n);function n(e){var r;return p(this,n),(r=t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)).containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return m(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),r=o(t.inkLists);try{for(r.s();!(e=r.n()).done;){var i,s=[],a=o(e.value);try{for(a.s();!(i=a.n()).done;){var l=i.value,u=t.rect[3]-l.y;s.push("".concat(l.x-t.rect[0],",").concat(u))}}catch(h){a.e(h)}finally{a.f()}s=s.join(" ");var c=this.svgFactory.createElement(this.svgElementName);c.setAttribute("points",s),c.setAttribute("stroke-width",t.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","none"),this._createPopup(this.container,c,t),n.appendChild(c)}}catch(h){r.e(h)}finally{r.f()}return this.container.append(n),this.container}}]),n}(y),F=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),j=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),V=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),U=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),B=function(e){u(n,e);var t=c(n);function n(e){return p(this,n),t.call(this,e,!!(e.data.hasPopup||e.data.title||e.data.contents),!0)}return m(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(y),q=function(e){u(n,e);var t=c(n);function n(e){var o;p(this,n);var s=(o=t.call(this,e,!0)).data.file,a=s.filename,l=s.content;return o.filename=(0,r.getFilenameFromUrl)(a),o.content=l,o.linkService.eventBus&&o.linkService.eventBus.dispatch("fileattachmentannotation",{source:d(o),id:(0,i.stringToPDFString)(a),filename:a,content:l}),o}return m(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,i.warn)("Download cannot be started due to unavailable download manager")}}]),n}(y);t.AnnotationLayer=function(){function e(){p(this,e)}return m(e,null,[{key:"render",value:function(e){var t,n=[],s=[],a=o(e.annotations);try{for(a.s();!(t=a.n()).done;){var l=t.value;l&&(l.annotationType!==i.AnnotationType.POPUP?n.push(l):s.push(l))}}catch(d){a.e(d)}finally{a.f()}s.length&&n.push.apply(n,s);for(var u=0,c=n;u<c.length;u++){var h=v.create({data:c[u],layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new r.DOMSVGFactory});h.isRenderable&&e.div.appendChild(h.render())}}},{key:"update",value:function(e){var t,n=o(e.annotations);try{for(n.s();!(t=n.n()).done;){var r=e.div.querySelector('[data-annotation-id="'.concat(t.value.id,'"]'));r&&(r.style.transform="matrix(".concat(e.viewport.transform.join(","),")"))}}catch(i){n.e(i)}finally{n.f()}e.div.removeAttribute("hidden")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var r=n(5),i=function(){var e=/\S/;function t(t,n,i){var o=document.createElement("span"),s={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(o),!e.test(n.str))return s.isWhitespace=!0,void t._textDivProperties.set(o,s);var a=r.Util.transform(t._viewport.transform,n.transform),l=Math.atan2(a[1],a[0]),u=i[n.fontName];u.vertical&&(l+=Math.PI/2);var c,h,d=Math.sqrt(a[2]*a[2]+a[3]*a[3]),f=d;u.ascent?f*=u.ascent:u.descent&&(f*=1+u.descent),0===l?(c=a[4],h=a[5]-f):(c=a[4]+f*Math.sin(l),h=a[5]-f*Math.cos(l)),o.style.left="".concat(c,"px"),o.style.top="".concat(h,"px"),o.style.fontSize="".concat(d,"px"),o.style.fontFamily=u.fontFamily,o.textContent=n.str,t._fontInspectorEnabled&&(o.dataset.fontName=n.fontName),0!==l&&(s.angle=l*(180/Math.PI));var p=!1;if(n.str.length>1)p=!0;else if(n.transform[0]!==n.transform[3]){var g=Math.abs(n.transform[0]),m=Math.abs(n.transform[3]);g!==m&&Math.max(g,m)/Math.min(g,m)>1.5&&(p=!0)}if(p&&(s.canvasWidth=u.vertical?n.height*t._viewport.scale:n.width*t._viewport.scale),t._textDivProperties.set(o,s),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection){var v=1,y=0;0!==l&&(v=Math.cos(l),y=Math.sin(l));var b,_,w=(u.vertical?n.height:n.width)*t._viewport.scale,S=d;_=0!==l?r.Util.getAxialAlignedBoundingBox([0,0,w,S],b=[v,y,-y,v,c,h]):[c,h,c+w,h+S],t._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:o,size:[w,S],m:b})}}function n(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}}function i(e,t,n){for(var r=0,i=0;i<n;i++){var o=e[t++];o>0&&(r=r?Math.min(o,r):o)}return r}function o(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var r,i,o=n.length-1;o>=0&&n[o].start>=e.y2;)o--;var s,a,l=-1/0;for(s=t;s<=o;s++){var u;(u=(i=(r=n[s]).boundary).x2>e.x1?i.index>e.index?i.x1New:e.x1:void 0===i.x2New?(i.x2+e.x1)/2:i.x2New)>l&&(l=u)}for(e.x1New=l,s=t;s<=o;s++)void 0===(i=(r=n[s]).boundary).x2New?i.x2>e.x1?i.index>e.index&&(i.x2New=i.x2):i.x2New=l:i.x2New>l&&(i.x2New=Math.max(l,i.x2));var c=[],h=null;for(s=t;s<=o;s++){var d=(i=(r=n[s]).boundary).x2>e.x2?i:e;h===d?c[c.length-1].end=r.end:(c.push({start:r.start,end:r.end,boundary:d}),h=d)}for(n[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[o].end&&(c[c.length-1].end=e.y2,c.push({start:e.y2,end:n[o].end,boundary:n[o].boundary})),s=t;s<=o;s++)if(void 0===(i=(r=n[s]).boundary).x2New){var f=!1;for(a=t-1;!f&&a>=0&&n[a].start>=i.y1;a--)f=n[a].boundary===i;for(a=o+1;!f&&a<n.length&&n[a].end<=i.y2;a++)f=n[a].boundary===i;for(a=0;!f&&a<c.length;a++)f=c[a].boundary===i;f||(i.x2New=l)}Array.prototype.splice.apply(n,[t,o-t+1].concat(c))})),n.forEach((function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function s(e){var t=this,n=e.textContentStream,i=e.container,o=e.viewport,s=e.textDivs,a=e.textContentItemsStr,l=e.enhanceTextSelection;this._textContent=e.textContent,this._textContentStream=n,this._container=i,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=a||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){t._layoutTextCtx&&(t._layoutTextCtx.canvas.width=0,t._layoutTextCtx.canvas.height=0,t._layoutTextCtx=null)})).catch((function(){}))}return s.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,n){for(var r=0,i=e.length;r<i;r++)this._textContentItemsStr.push(e[r].str),t(this,e[r],n)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var n="";if(0!==t.canvasWidth){var r=e.style,i=r.fontSize,o=r.fontFamily;i===this._layoutTextLastFontSize&&o===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(o),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=o);var s=this._layoutTextCtx.measureText(e.textContent).width;s>0&&(t.scale=t.canvasWidth/s,n="scaleX(".concat(t.scale,")"))}0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var t=this,i=(0,r.createPromiseCapability)(),o=Object.create(null),s=document.createElement("canvas");if(s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),i.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then((function(n){var r=n.value;n.done?i.resolve():(Object.assign(o,r.styles),t._processItems(r.items,o),e())}),i.reject)}()}i.promise.then((function(){o=null,e?t._renderTimer=setTimeout((function(){n(t),t._renderTimer=null}),e):n(t)}),this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(e){for(var t=e._bounds,n=e._viewport,s=function(e,t,n){var r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));o(e,r);var i=new Array(n.length);return r.forEach((function(e){i[e.index]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){var o=i[n],s=r[n];s.x1=t.top,s.y1=e-o.right,s.x2=t.bottom,s.y2=e-o.left,s.index=n,s.x1New=void 0,s.x2New=void 0})),o(t,r),r.forEach((function(e){var t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New})),i}(n.width,n.height,t),a=0;a<s.length;a++){var l=t[a].div,u=e._textDivProperties.get(l);if(0!==u.angle){var c=s[a],h=t[a],d=h.m,f=d[0],p=d[1],g=[[0,0],[0,h.size[1]],[h.size[0],0],h.size],m=new Float64Array(64);g.forEach((function(e,t){var n=r.Util.applyTransform(e,d);m[t+0]=f&&(c.left-n[0])/f,m[t+4]=p&&(c.top-n[1])/p,m[t+8]=f&&(c.right-n[0])/f,m[t+12]=p&&(c.bottom-n[1])/p,m[t+16]=p&&(c.left-n[0])/-p,m[t+20]=f&&(c.top-n[1])/f,m[t+24]=p&&(c.right-n[0])/-p,m[t+28]=f&&(c.bottom-n[1])/f,m[t+32]=f&&(c.left-n[0])/-f,m[t+36]=p&&(c.top-n[1])/-p,m[t+40]=f&&(c.right-n[0])/-f,m[t+44]=p&&(c.bottom-n[1])/-p,m[t+48]=p&&(c.left-n[0])/p,m[t+52]=f&&(c.top-n[1])/-f,m[t+56]=p&&(c.right-n[0])/p,m[t+60]=f&&(c.bottom-n[1])/-f}));var v=1+Math.min(Math.abs(f),Math.abs(p));u.paddingLeft=i(m,32,16)/v,u.paddingTop=i(m,48,16)/v,u.paddingRight=i(m,0,16)/v,u.paddingBottom=i(m,16,16)/v,e._textDivProperties.set(l,u)}else u.paddingLeft=t[a].left-s[a].left,u.paddingTop=t[a].top-s[a].top,u.paddingRight=s[a].right-t[a].right,u.paddingBottom=s[a].bottom-t[a].bottom,e._textDivProperties.set(l,u)}}(this),this._bounds=null);for(var t=[],n=[],s=0,a=this._textDivs.length;s<a;s++){var l=this._textDivs[s],u=this._textDivProperties.get(l);u.isWhitespace||(e?(t.length=0,n.length=0,u.originalTransform&&t.push(u.originalTransform),u.paddingTop>0?(n.push("".concat(u.paddingTop,"px")),t.push("translateY(".concat(-u.paddingTop,"px)"))):n.push(0),n.push(u.paddingRight>0?"".concat(u.paddingRight/u.scale,"px"):0),n.push(u.paddingBottom>0?"".concat(u.paddingBottom,"px"):0),u.paddingLeft>0?(n.push("".concat(u.paddingLeft/u.scale,"px")),t.push("translateX(".concat(-u.paddingLeft/u.scale,"px)"))):n.push(0),l.style.padding=n.join(" "),t.length&&(l.style.transform=t.join(" "))):(l.style.padding=null,l.style.transform=u.originalTransform))}}}},function(e){var t=new s({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(5),i=n(1),o=n(7);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var f=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=f;var p=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},g=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(p(e[0])," ").concat(p(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(p(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(p(e[4])," ").concat(p(e[5]),")");return"matrix(".concat(p(e[0])," ").concat(p(e[1])," ").concat(p(e[2])," ").concat(p(e[3])," ").concat(p(e[4])," ")+"".concat(p(e[5]),")")},m=["butt","round","square"],v=["miter","round","bevel"],y=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),n=0;n<256;n++){for(var i=n,s=0;s<8;s++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;t[n]=i}function a(e,n,r,i){var o=i,s=n.length;r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s,r[o+=4]=255&e.charCodeAt(0),r[o+1]=255&e.charCodeAt(1),r[o+2]=255&e.charCodeAt(2),r[o+3]=255&e.charCodeAt(3),r.set(n,o+=4);var a=function(e,n,r){for(var i=-1,o=n;o<r;o++)i=i>>>8^t[255&(i^e[o])];return-1^i}(r,i+4,o+=n.length);r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a}function l(e){var t=e.length,n=Math.ceil(t/65535),r=new Uint8Array(2+t+5*n+4),i=0;r[i++]=120,r[i++]=156;for(var o=0;t>65535;)r[i++]=0,r[i++]=255,r[i++]=255,r[i++]=0,r[i++]=0,r.set(e.subarray(o,o+65535),i),i+=65535,o+=65535,t-=65535;r[i++]=1,r[i++]=255&t,r[i++]=t>>8&255,r[i++]=255&~t,r[i++]=(65535&~t)>>8&255,r.set(e.subarray(o),i),i+=e.length-o;var s=function(e,t,n){for(var r=1,i=0,o=0;o<n;++o)i=(i+(r=(r+(255&e[o]))%65521))%65521;return i<<16|r}(e,0,e.length);return r[i++]=s>>24&255,r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s,r}return function(t,n,i){return function(t,n,i,s){var u,c,h,d=t.width,f=t.height,p=t.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:c=0,u=1,h=d+7>>3;break;case r.ImageKind.RGB_24BPP:c=2,u=8,h=3*d;break;case r.ImageKind.RGBA_32BPP:c=6,u=8,h=4*d;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+h)*f),m=0,v=0,y=0;y<f;++y)g[m++]=0,g.set(p.subarray(v,v+h),m),v+=h,m+=h;if(n===r.ImageKind.GRAYSCALE_1BPP&&s){m=0;for(var b=0;b<f;b++){m++;for(var _=0;_<h;_++)g[m++]^=255}}var w=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,u,c,0,0,0]),S=function(e){if(!o.isNodeJS)return l(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(1).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(i){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+i)}return l(e)}(g),A=new Uint8Array(e.length+36+w.length+S.length),C=0;return A.set(e,C),a("IHDR",w,A,C+=e.length),a("IDATA",S,A,C+=12+w.length),C+=12+S.length,a("IEND",new Uint8Array(0),A,C),(0,r.createObjectURL)(A,"image/png",i)}(t,void 0===t.kind?r.ImageKind.GRAYSCALE_1BPP:t.kind,n,i)}}(),b=function(){function e(){c(this,e),this.fontSizeScale=1,this.fontWeight="normal",this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return d(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),_=0,w=0,S=0;t.SVGGraphics=f=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var s in c(this,e),this.svgFactory=new i.DOMSVGFactory,this.current=new b,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!o,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[s]]=s}return d(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,i=e.argsArray,o=0,s=n.length;o<s;o++)if(n[o]===r.OPS.dependency){var l,u=a(i[o]);try{var c=function(){var e=l.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise((function(t){n.get(e,t)}));t.current.dependencies.push(r)};for(u.s();!(l=u.n()).done;)c()}catch(h){u.e(h)}finally{u.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,i,o,s){this.transformMatrix=r.Util.transform(this.transformMatrix,[e,t,n,i,o,s]),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var i=this._initialize(t);return this.loadDependencies(e).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),i}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[],o=0,s=r.length;o<s;o++){var l=r[o];i.push({fnId:l,fn:t[l],args:n[o]})}return function(e){var t,n=[],r=[],i=a(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;"save"!==o.fn?"restore"===o.fn?n=r.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(s){i.e(s)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.fn,s=i.args;switch(0|i.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(o))}}}catch(l){n.e(l)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,i,o){var s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,i,o],s.textMatrixScale=Math.sqrt(e*e+t*t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(p(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",p(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.appendChild(s.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(p(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",p(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,i=t.fontSize;if(0!==i){var o,s=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,c=t.fontDirection,h=t.textHScale*c,d=n.vertical,f=d?1:-1,m=n.defaultVMetrics,v=i*t.fontMatrix[0],y=0,b=a(e);try{for(b.s();!(o=b.n()).done;){var _=o.value;if(null!==_)if((0,r.isNum)(_))y+=f*_*i/1e3;else{var w=(_.isSpace?u:0)+l,S=_.fontChar,A=void 0,C=void 0,E=_.width;if(d){var k=void 0,T=_.vmetric||m;k=_.vmetric?T[1]:.5*E,E=T?-T[0]:E,A=(k=-k*v)/s,C=(y+T[2]*v)/s}else A=y/s,C=0;(_.isInFont||n.missingFile)&&(t.xcoords.push(t.x+A),d&&t.ycoords.push(-t.y+C),t.tspan.textContent+=S),y+=d?E*v-w*c:E*v+w*c}else y+=c*u}}catch(P){b.e(P)}finally{b.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(p).join(" ")),t.tspan.setAttributeNS(null,"y",d?t.ycoords.map(p).join(" "):p(-t.y)),d?t.y-=y:t.x+=y*h,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(p(t.fontSize),"px")),"normal"!==t.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),"normal"!==t.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var x=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;x===r.TextRenderingMode.FILL||x===r.TextRenderingMode.FILL_STROKE?("#000000"!==t.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(x===r.TextRenderingMode.STROKE||x===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));var I=t.textMatrix;0!==t.textRise&&((I=I.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(g(I)," scale(").concat(p(h),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),i=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX;var o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=n.loadedName,t.fontWeight=o,t.fontStyle=s,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",p(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=m[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=v[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=r.Util.makeCssRgb(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=r.Util.makeCssRgb(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),o=r.Util.applyTransform([0,0],i),s=r.Util.applyTransform([0,n],i),a=r.Util.applyTransform([t,0],i),l=r.Util.applyTransform([t,n],i),u=Math.min(o[0],s[0],a[0],l[0]),c=Math.min(o[1],s[1],a[1],l[1]),h=Math.max(o[0],s[0],a[0],l[0]),d=Math.max(o[1],s[1],a[1],l[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",u),f.setAttributeNS(null,"y",c),f.setAttributeNS(null,"width",h-u),f.setAttributeNS(null,"height",d-c),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(f)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],i=e[3]||r.IDENTITY_MATRIX,o=s(e[4],4),a=o[0],c=o[1],h=o[2],d=o[3],f=e[5],p=e[6],g=e[7],m="shading".concat(S++),v=s(r.Util.applyTransform([a,c],i),2),y=v[0],b=v[1],_=s(r.Util.applyTransform([h,d],i),2),w=_[0],A=_[1],C=s(r.Util.singularValueDecompose2dScale(i),2),E=f*C[0],k=p*C[1],T=this.svgFactory.createElement("svg:pattern");T.setAttributeNS(null,"id",m),T.setAttributeNS(null,"patternUnits","userSpaceOnUse"),T.setAttributeNS(null,"width",E),T.setAttributeNS(null,"height",k),T.setAttributeNS(null,"x","".concat(y)),T.setAttributeNS(null,"y","".concat(b));var x,I=this.svg,P=this.transformMatrix,O=this.current.fillColor,R=this.current.strokeColor,N=this.svgFactory.create(w-y,A-b);if(this.svg=N,this.transformMatrix=i,2===g){var D=r.Util.makeCssRgb.apply(r.Util,function(e){if(Array.isArray(e))return u(e)}(x=t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(x)||l(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());this.current.fillColor=D,this.current.strokeColor=D}return this.executeOpTree(this.convertOpList(n)),this.svg=I,this.transformMatrix=P,this.current.fillColor=O,this.current.strokeColor=R,T.appendChild(N.childNodes[0]),this.defs.appendChild(T),"url(#".concat(m,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(S++),i=e[3];switch(e[1]){case"axial":var o=e[4],s=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",o[0]),t.setAttributeNS(null,"y1",o[1]),t.setAttributeNS(null,"x2",s[0]),t.setAttributeNS(null,"y2",s[1]);break;case"radial":var l=e[4],u=e[5],c=e[6],h=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",u[0]),t.setAttributeNS(null,"cy",u[1]),t.setAttributeNS(null,"r",h),t.setAttributeNS(null,"fx",l[0]),t.setAttributeNS(null,"fy",l[1]),t.setAttributeNS(null,"fr",c);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var d,f=a(i);try{for(f.s();!(d=f.n()).done;){var p=d.value,g=this.svgFactory.createElement("svg:stop");g.setAttributeNS(null,"offset",p[0]),g.setAttributeNS(null,"stop-color",p[1]),t.appendChild(g)}}catch(m){f.e(m)}finally{f.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,i=this.current,o=i.x,s=i.y,l=[],u=0,c=a(e);try{for(c.s();!(n=c.n()).done;)switch(0|n.value){case r.OPS.rectangle:o=t[u++],s=t[u++];var h=o+t[u++],d=s+t[u++];l.push("M",p(o),p(s),"L",p(h),p(s),"L",p(h),p(d),"L",p(o),p(d),"Z");break;case r.OPS.moveTo:o=t[u++],s=t[u++],l.push("M",p(o),p(s));break;case r.OPS.lineTo:o=t[u++],s=t[u++],l.push("L",p(o),p(s));break;case r.OPS.curveTo:o=t[u+4],s=t[u+5],l.push("C",p(t[u]),p(t[u+1]),p(t[u+2]),p(t[u+3]),p(o),p(s)),u+=6;break;case r.OPS.curveTo2:l.push("C",p(o),p(s),p(t[u]),p(t[u+1]),p(t[u+2]),p(t[u+3])),o=t[u+2],s=t[u+3],u+=4;break;case r.OPS.curveTo3:o=t[u+2],s=t[u+3],l.push("C",p(t[u]),p(t[u+1]),p(o),p(s),p(o),p(s)),u+=4;break;case r.OPS.closePath:l.push("Z")}}catch(f){c.e(f)}finally{c.f()}l=l.join(" "),i.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?l=i.path.getAttributeNS(null,"d")+l:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",l),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(o,s)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(_++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",g(this.transformMatrix));var r=e.element.cloneNode(!0);r.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var i=s(t.value,2),o=i[0],l=i[1];switch(o){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l);break;case"CA":this.setStrokeAlpha(l);break;case"ca":this.setFillAlpha(l);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(o))}}}catch(u){n.e(u)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",p(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",p(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(p).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",p(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,i=y(e,this.forceDataSchema,!!t),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",p(n)),o.setAttributeNS(null,"height",p(r)),this.current.element=o,this.clip("nonzero");var s=this.svgFactory.createElement("svg:image");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",p(-r)),s.setAttributeNS(null,"width",p(n)+"px"),s.setAttributeNS(null,"height",p(r)+"px"),s.setAttributeNS(null,"transform","scale(".concat(p(1/n)," ").concat(p(-1/r),")")),t?t.appendChild(s):this._ensureTransformGroup().appendChild(s)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask".concat(w++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",t.maskId);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",p(n)),s.setAttributeNS(null,"height",p(r)),s.setAttributeNS(null,"fill",i),s.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(s),this.paintInlineImageXObject(e,o)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",p(n)),i.setAttributeNS(null,"height",p(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",g(e.transform)),t.appendChild(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",g(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(5),s=n(213);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){d(o,r,i,s,a,"next",e)}function a(e){d(o,r,i,s,a,"throw",e)}s(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}var v=__webpack_require__(2),y=__webpack_require__(3),b=__webpack_require__(4),_=__webpack_require__(5),w=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=function(){function e(t){var n,r;p(this,e),this.source=t,this.url="file:"===(r=_.parse(n=t.url)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(n)?_.parse("file:///".concat(n)):(r.host||(r.protocol="file:"),r),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return m(e,[{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new T(this):new E(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new x(this,e,t):new k(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();var S=function(){function e(t){p(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}var t;return m(e,[{key:"read",value:(t=f(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),A=function(){function e(t){p(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!t.source.disableStream}var t;return m(e,[{key:"read",value:(t=f(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}();function C(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var E=function(e){l(n,e);var t=u(n);function n(e){var r;p(this,n);var i=function(t){if(404===t.statusCode){var n=new o.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(t);var i=function(e){return r._readableStream.headers[e.toLowerCase()]},a=(0,s.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=a.suggestedLength;r._isRangeSupported=a.allowRangeRequests,r._contentLength=l||r._contentLength,r._filename=(0,s.extractFilenameFromHeader)(i)};return(r=t.call(this,e))._request=null,r._request="http:"===r._url.protocol?y.request(C(r._url,e.httpHeaders),i):b.request(C(r._url,e.httpHeaders),i),r._request.on("error",(function(e){r._storedError=e,r._headersCapability.reject(e)})),r._request.end(),r}return n}(S),k=function(e){l(n,e);var t=u(n);function n(e,r,i){var s;for(var a in p(this,n),(s=t.call(this,e))._httpHeaders={},e.httpHeaders){var l=e.httpHeaders[a];void 0!==l&&(s._httpHeaders[a]=l)}s._httpHeaders.Range="bytes=".concat(r,"-").concat(i-1);var u=function(e){if(404!==e.statusCode)s._setReadableStream(e);else{var t=new o.MissingPDFException('Missing PDF "'.concat(s._url,'".'));s._storedError=t}};return s._request=null,s._request="http:"===s._url.protocol?y.request(C(s._url,s._httpHeaders),u):b.request(C(s._url,s._httpHeaders),u),s._request.on("error",(function(e){s._storedError=e})),s._request.end(),s}return n}(A),T=function(e){l(n,e);var t=u(n);function n(e){var r;p(this,n),r=t.call(this,e);var i=decodeURIComponent(r._url.path);return w.test(r._url.href)&&(i=i.replace(/^\//,"")),v.lstat(i,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new o.MissingPDFException('Missing PDF "'.concat(i,'".'))),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(v.createReadStream(i)),r._headersCapability.resolve()})),r}return n}(S),x=function(e){l(n,e);var t=u(n);function n(e,r,i){var o;p(this,n),o=t.call(this,e);var s=decodeURIComponent(o._url.path);return w.test(o._url.href)&&(s=s.replace(/^\//,"")),o._setReadableStream(v.createReadStream(s,{start:r,end:i-1})),o}return n}(A)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,i.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if(/\.pdf$/i.test(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,i=e.rangeChunkSize,o=e.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*i||o||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(5),i=n(214)},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=s("filename\\*","i").exec(e);if(n){var i=u(n=n[1]);return l(i=h(i=c(i=unescape(i))))}if(n=function(e){for(var t,n=[],i=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=i.exec(e));){var o=r(t,4),a=o[1],l=o[2],h=o[3];if((a=parseInt(a,10))in n){if(0===a)break}else n[a]=[l,h]}for(var d=[],f=0;f<n.length&&f in n;++f){var p=r(n[f],2),g=p[0],m=p[1];m=u(m),g&&(m=unescape(m),0===f&&(m=c(m))),d.push(m)}return d.join("")}(e))return l(h(n));if(n=s("filename","i").exec(e)){var o=u(n=n[1]);return l(o=h(o))}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function a(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(e,{fatal:!0}),i=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=r.decode(new Uint8Array(i)),t=!1}catch(o){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(s){}}}return n}function l(e){return t&&/[\x80-\xff]/.test(e)&&(e=a("utf-8",e),t&&(e=a("iso-8859-1",e))),e}function u(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function c(e){var t=e.indexOf("'");return-1===t?e:a(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function h(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return a(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(i){}return a(t,r)}))}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(5),s=n(213);function a(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var d=function(){function e(t,n){u(this,e),this.url=t,n=n||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return h(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[i];void 0!==o&&t.setRequestHeader(i,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===r.status&&this.isHttp)n.onError&&n.onError(r.status);else{var i=r.status||200;if(200===i&&206===n.expectedStatus||i===n.expectedStatus){var s=function(e){var t=e.response;return"string"!=typeof t?t:(0,o.stringToBytes)(t).buffer}(r);if(206===i){var a=r.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(a);n.onDone({begin:parseInt(l[1],10),chunk:s})}else s?n.onDone({begin:0,chunk:s}):n.onError&&n.onError(r.status)}else n.onError&&n.onError(r.status)}}}},{key:"hasPendingRequests",value:function(){for(var e in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}();t.PDFNetworkStream=function(){function e(t){u(this,e),this._source=t,this._manager=new d(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new f(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new p(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();var f=function(){function e(t,n){u(this,e),this._manager=t;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(r),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var t;return h(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.suggestedLength;r.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(e){var t=(0,s.createResponseStatusError)(e,this._url);this._storedError=t,this._headersReceivedCapability.reject(t),this._requests.forEach((function(e){e.reject(t)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"read",value:(t=l(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,o.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),e}(),p=function(){function e(t,n,r){u(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var t;return h(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"read",value:(t=l(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,o.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(5),s=n(213);function a(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function f(e){var t=new Headers;for(var n in e){var r=e[n];void 0!==r&&t.append(n,r)}return t}t.PDFFetchStream=function(){function e(t){u(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(e,[{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new p(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new g(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),e}();var p=function(){function e(t){var n=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var r=t.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=f(this._stream.httpHeaders);var i=r.url;fetch(i,d(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,i);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},r=(0,s.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),a=r.suggestedLength;n._isRangeSupported=r.allowRangeRequests,n._contentLength=a||n._contentLength,n._filename=(0,s.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new o.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}var t;return h(e,[{key:"read",value:(t=l(i.default.mark((function e(){var t,n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),o=new Uint8Array(n).buffer,e.abrupt("return",{value:o,done:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}(),g=function(){function e(t,n,r){var i=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0;var a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=f(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1));var l=a.url;fetch(l,d(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,l);i._readCapability.resolve(),i._reader=e.body.getReader()})),this.onProgress=null}var t;return h(e,[{key:"read",value:(t=l(i.default.mark((function e(){var t,n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),o=new Uint8Array(n).buffer,e.abrupt("return",{value:o,done:!1});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),e}()}])},module.exports=factory()},SeVD:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("HDdC"),i=n("ngJS"),o=n("a7t3"),s=n("pLzU"),a=n("CRDf"),l=n("I55L"),u=n("c2HN"),c=n("XoHu"),h=n("Lhse"),d=n("kJWO");const f=e=>{if(e instanceof r.a)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[d.a])return Object(a.a)(e);if(Object(l.a)(e))return Object(i.a)(e);if(Object(u.a)(e))return Object(o.a)(e);if(e&&"function"==typeof e[h.a])return Object(s.a)(e);{const t=Object(c.a)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}}},SpAZ:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},VRyK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return Object(i.a)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(t)(Object(s.a)(e,n))}},XNiG:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),l=n("2QA8");class u extends i.a{constructor(e){super(e),this.destination=e}}let c=(()=>{class e extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.a](){return new u(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.a;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.isStopped?(e.complete(),o.a.EMPTY):(this.observers.push(e),new a.a(this,e))}asObservable(){const e=new r.a;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends c{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):o.a.EMPTY}}},XUOw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("HDdC");function i(e){const t=new r.a(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}},XoHu:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},Ylt2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},ZUHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD");function o(e,t,n,o,s=new r.a(e,n,o)){if(!s.closed)return Object(i.a)(t)(s)}},a7t3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("NJ4a");const i=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t)},bHdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(e=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,e)}},c2HN:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},gRHU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(e){},error(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete(){}}},jmUF:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return A}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),l=n("8Y7J"),u=n("Jgta");function c(){}class h{constructor(e,t=r.a){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule((function(t){r.runGuarded(()=>{e.apply(this,[t])})}),t,n)}}class d{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),t.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=e.run(()=>new h(Zone.current,i.a))}}function p(e){return function(t){return(t=t.lift(new d(e.ngZone))).pipe(Object(s.a)(e.outsideAngular),Object(a.b)(e.insideAngular))}}const g=["ngOnDestroy"],m=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(g.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(e=>{const t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>s[t],apply:(e,t,n)=>s.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i})})})}),v=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},y=new l.p("angularfire2.app.options"),b=new l.p("angularfire2.app.nameOrConfig");class _{}const w=new l.N("6.1.5");function S(t,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(e=>e&&e.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(t,i));try{JSON.stringify(t)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const A=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(e,...t)=>{Object(l.X)()&&"undefined"!=typeof console&&console[e](...t)};function E(t,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(t)||[];if(s){try{o.some((e,t)=>{const n=a[t];return e&&"object"==typeof e?JSON.stringify(e)!==JSON.stringify(n):e!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${e.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(l){}return s}{const e=i();return globalThis.\u0275AngularfireInstanceCache.set(t,[e,...o]),e}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);class k{constructor(e){u.a.registerVersion("angularfire",w.full,e.toString()),u.a.registerVersion("angular",l.M.full)}static initializeApp(e,t){return{ngModule:k,providers:[{provide:y,useValue:e},{provide:b,useValue:t}]}}}}).call(this,n("3UD+")(e))},kJWO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}},lJxs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("7o/Q");function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}class o{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends r.a{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},mCNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("KqfI");function i(...e){return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:r.a}},n6bG:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},ngJS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},pLzU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Lhse");const i=e=>t=>{const n=e[r.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t}},pxpQ:function(e,t,n){"use strict";var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return e=this.error,new s.a(t=>t.error(e));case"C":return Object(i.b)()}var e;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function l(e,t=0){return function(n){return n.lift(new u(e,t))}}n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));class u{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))}}class c extends r.a{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f}));var o=[],s=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=u[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function d(e){o.forEach((function(t){t.setLogLevel(e)}))}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(e,t,n){"use strict";var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return C})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return T})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return d})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return y}));var o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function s(e){return a(void 0,e)}function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}var l=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),o.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return c().indexOf("Electron/")>=0}function v(){var e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var b=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),_=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new b(i,a,r);return l},e}();function w(e,t){return e.replace(S,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var S=/\{\$([^}]+)}/g;function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(e,t){var n=new E(e,t);return n.subscribe.bind(n)}var E=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function k(){}function T(e){return e&&e._delegate?e._delegate:e}},qgXg:function(e,t,n){"use strict";var r=n("3N8a");class i extends r.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}var o=n("IjjT");class s extends o.a{}n.d(t,"a",(function(){return a}));const a=new s(i)},quSY:function(e,t,n){"use strict";var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");function s(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}s.prototype=Object.create(Error.prototype);const a=s;n.d(t,"a",(function(){return l}));let l=(()=>{class e{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:s,_unsubscribe:l,_subscriptions:c}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let h=-1,d=s?s.length:0;for(;n;)n.remove(this),n=++h<d&&s[h]||null;if(Object(o.a)(l))try{l.call(this)}catch(f){t=!0,e=f instanceof a?u(f.errors):[f]}if(Object(r.a)(c))for(h=-1,d=c.length;++h<d;){const n=c[h];if(Object(i.a)(n))try{n.unsubscribe()}catch(f){t=!0,e=e||[],f instanceof a?e=e.concat(u(f.errors)):e.push(f)}}if(t)throw new a(e)}add(t){let n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){const e=this._subscriptions;e?e.push(n):this._subscriptions=[n]}return n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof a?t.errors:t),[])}},"tf+s":function(e,t,n){"use strict";var r=n("HDdC");let i=1;const o={},s={setImmediate(e){const t=i++;return o[t]=e,Promise.resolve().then(()=>function(e){const t=o[e];t&&t()}(t)),t},clearImmediate(e){delete o[e]}};var a=n("3N8a");class l extends a.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=s.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(s.clearImmediate(t),e.scheduled=void 0)}}var u=n("IjjT");class c extends u.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}const h=new c(l);var d=n("DH7j");class f extends r.a{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,r=t,(Object(d.a)(r)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}n.d(t,"a",(function(){return p}));class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},vkgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends r.a{constructor(e,t,n,r){super(e),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i.a,this._tapError=t.error||i.a,this._tapComplete=t.complete||i.a)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},yCtX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY"),o=n("ngJS");function s(e,t){return new r.a(t?n=>{const r=new i.a;let o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:Object(o.a)(e))}},"z+Ro":function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},zIRd:function(e,t,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=n("qOnz"),a=n("/6Yf"),l=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.b("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new l.b("@firebase/app"),f=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(e),this.container=new a.b(t.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(s.c)(t,a))throw c.create("duplicate-app",{appName:a});var l=new e(n,o,r);return t[a]=l,l},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),l=t.match(/\s|\//);if(s||l){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&l&&u.push("and"),l&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:l.c,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw c.create("invalid-log-argument");Object(l.d)(e,t)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||"[DEFAULT]",!Object(s.c)(t,e))throw c.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var l=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Object(s.g)(l,o.serviceProps),r[a]=l,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,h=Object.keys(t);u<h.length;u++)t[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(f);return t.INTERNAL=o(o({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.g)(t,e)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(s.j)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=p.initializeApp;p.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(s.o)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,e)};var y,b=p;(y=b).INTERNAL.registerComponent(new a.a("platform-logger",(function(e){return new g(e)}),"PRIVATE")),y.registerVersion("@firebase/app","0.6.22",void 0),y.registerVersion("fire-js",""),t.a=b},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J");const i={production:!0,urlApi:"https://api.almacenesuniversal.com/",urlDian:"https://catalogo-vpfe.dian.gov.co/document/searchqr?documentkey=",firebaseConfig:{apiKey:"AIzaSyApasa7tg_CeXaPRcmTCLDkwBcmgXl_-LE",authDomain:"bigsaledev.firebaseapp.com",databaseURL:"https://bigsaledev.firebaseio.com",projectId:"bigsaledev",storageBucket:"bigsaledev.appspot.com",messagingSenderId:"1072537226666",appId:"1:1072537226666:web:2303e589ac96a472"}};class o{}const s=new r.p("Location Initialized");class a{}const l=new r.p("appBaseHref");class u{constructor(e,t){this._subject=new r.m,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=u.stripTrailingSlash(c(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+u.normalizeQueryParams(t))}normalize(e){return u.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,c(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+u.normalizeQueryParams(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+u.normalizeQueryParams(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}function c(e){return e.replace(/\/index.html$/,"")}class h extends a{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=u.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class d extends a{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return u.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+u.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const f={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},p=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),g=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),m=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function v(e,t){const n=Object(r.ub)(e),i=n[r.eb.NumberSymbols][t];if(void 0===i){if(t===m.CurrencyDecimal)return n[r.eb.NumberSymbols][m.Decimal];if(t===m.CurrencyGroup)return n[r.eb.NumberSymbols][m.Group]}return i}const y=r.vb,b=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function _(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const w=new r.p("UseV4Plurals");class S{}class A extends S{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):y(t||this.locale)(e)){case g.Zero:return"zero";case g.One:return"one";case g.Two:return"two";case g.Few:return"few";case g.Many:return"many";default:return"other"}}}function C(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class E{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class k{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Object(r.X)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(yw){throw new Error(`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new E(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new T(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new T(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}class T{constructor(e,t){this.record=e,this.view=t}}class x{constructor(e,t){this._viewContainer=e,this._context=new I,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){P("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){P("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class I{constructor(){this.$implicit=null,this.ngIf=null}}function P(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Object(r.Jb)(t)}'.`)}class O{constructor(e){this._locale=e}transform(e,t,n="symbol",i,o){if(function(e){return null==e||""===e||e!=e}(e))return null;o=o||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let s=t||"USD";"code"!==n&&(s="symbol"===n||"symbol-narrow"===n?function(e,t,n="en"){const i=function(e){return Object(r.ub)(e)[r.eb.Currencies]}(n)[e]||f[e]||[],o=i[1];return"narrow"===t&&"string"==typeof o?o:i[0]||e}(s,"symbol"===n?"wide":"narrow",o):n);try{return function(e,t,n,i,o){const s=function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const e=l.charAt(c);"0"===e?n.minFrac=n.maxFrac=c+1:"#"===e?n.maxFrac=c+1:n.posSuf+=e}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const e=i.length-n.posPre.length-n.posSuf.length,t=o.indexOf("#");n.negPre=o.substr(0,t).replace(/'/g,""),n.negSuf=o.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return Object(r.ub)(e)[r.eb.NumberFormats][t]}(t,p.Currency),v(t,m.MinusSign));return s.minFrac=function(e){let t;const n=f[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),s.maxFrac=s.minFrac,function(e,t,n,r,i,o,s=!1){let a="",l=!1;if(isFinite(e)){let u=function(e){let t,n,r,i,o,s=Math.abs(e)+"",a=0;for((n=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;"0"===s.charAt(r);r++);if(r===(o=s.length))t=[0],n=1;else{for(o--;"0"===s.charAt(o);)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=Number(s.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);s&&(u=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let c=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const e=o.match(b);if(null===e)throw new Error(o+" is not a valid digit info");const t=e[1],n=e[3],r=e[5];null!=t&&(c=_(t)),null!=n&&(h=_(n)),null!=r?d=_(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let e=s;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let e=1;e<s;e++)r[e]=0}if(a>=5)if(s-1<0){for(let t=0;t>s;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const u=t+e.integerLen,c=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,l&&(0===r[n]&&n>=u?r.pop():l=!1),t>=10?1:0}),0);c&&(r.unshift(c),e.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const g=u.exponent;let y=[];for(l=f.every(e=>!e);p<c;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?y=f.splice(p,f.length):(y=f,f=[0]);const w=[];for(f.length>=t.lgSize&&w.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)w.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(v(n,r)),y.length&&(a+=v(n,i)+y.join("")),g&&(a+=v(n,m.Exponential)+"+"+g)}else a=v(n,m.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,s,t,m.CurrencyGroup,m.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","")}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}(e),o,s,t,i)}catch(a){throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Object(r.Jb)(e)}'`)}(O,a.message)}}}class R{}const N=new r.p("DocumentToken");function D(e){return"server"===e}let L=(()=>{class e{}return e.ngInjectableDef=Object(r.Qb)({token:e,providedIn:"root",factory:()=>new M(Object(r.Rb)(N),window,Object(r.Rb)(r.l))}),e})();class M{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(OS){this.errorHandler.handleError(OS)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(yw){return!1}}}var F,j,V,U=n("AQDP");F=n.n(U).a,"string"!=typeof(j="es-Co")&&(V=j,j=F[r.eb.LocaleId]),j=j.toLowerCase().replace(/_/g,"-"),r.db[j]=F,V&&(r.db[j][r.eb.ExtraData]=V);class B{}class q{}var H=n("LRne"),z=n("Cfvw"),G=n("XNiG"),W=n("9ppp");class K extends G.a{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new W.a;return this._value}next(e){super.next(this._value=e)}}var Q=n("HDdC");function Y(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Y.prototype=Object.create(Error.prototype);const X=Y;var J=n("z+Ro"),Z=n("DH7j"),ee=n("l7GE"),te=n("ZUHj"),ne=n("yCtX");const re={};class ie{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new oe(e,this.resultSelector))}}class oe extends ee.a{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(re),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(Object(te.a)(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,r,i){const o=this.values,s=this.toRespond?o[n]===re?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var se=n("EY2u");function ae(e){return new Q.a(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(z.a)(n):Object(se.b)()).subscribe(t)})}var le=n("lJxs"),ue=n("bHdf");function ce(){return Object(ue.a)(1)}var he=n("7o/Q");function de(e,t){return function(n){return n.lift(new fe(e,t))}}class fe{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new pe(e,this.predicate,this.thisArg))}}class pe extends he.a{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function ge(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ge.prototype=Object.create(Error.prototype);const me=ge;function ve(e){return function(t){return 0===e?Object(se.b)():t.lift(new ye(e))}}class ye{constructor(e){if(this.total=e,this.total<0)throw new me}call(e,t){return t.subscribe(new be(e,this.total))}}class be extends he.a{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var _e=n("vkgz");const we=(e=Se)=>Object(_e.a)({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function Se(){return new X}function Ae(e=null){return t=>t.lift(new Ce(e))}class Ce{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Ee(e,this.defaultValue))}}class Ee extends he.a{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ke=n("SpAZ");function Te(e,t){const n=arguments.length>=2;return r=>r.pipe(e?de((t,n)=>e(t,n,r)):ke.a,ve(1),n?Ae(t):we(()=>new X))}var xe=n("51Dv");function Ie(e){return function(t){const n=new Pe(e),r=t.lift(n);return n.caught=r}}class Pe{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Oe(e,this.selector,this.caught))}}class Oe extends ee.a{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new xe.a(this,void 0,void 0);this.add(r),Object(te.a)(this,n,void 0,void 0,r)}}}function Re(e){return t=>0===e?Object(se.b)():t.lift(new Ne(e))}class Ne{constructor(e){if(this.total=e,this.total<0)throw new me}call(e,t){return t.subscribe(new De(e,this.total))}}class De extends he.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Le(e,t){const n=arguments.length>=2;return r=>r.pipe(e?de((t,n)=>e(t,n,r)):ke.a,Re(1),n?Ae(t):we(()=>new X))}var Me=n("5+tZ");class Fe{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new je(e,this.predicate,this.thisArg,this.source))}}class je extends he.a{constructor(e,t,n,r){super(e),this.predicate=t,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ve(e,t){return"function"==typeof t?n=>n.pipe(Ve((n,r)=>Object(z.a)(e(n,r)).pipe(Object(le.a)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Ue(e))}class Ue{constructor(e){this.project=e}call(e,t){return t.subscribe(new Be(e,this.project))}}class Be extends ee.a{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}_innerSub(e,t,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new xe.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(te.a)(this,e,t,n,i)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,r,i){this.destination.next(t)}}var qe=n("XUOw");function He(...e){return t=>{let n=e[e.length-1];Object(J.a)(n)?e.pop():n=null;const r=e.length;return function(...e){return ce()(Object(H.a)(...e))}(1!==r||n?r>0?Object(ne.a)(e,n):Object(se.b)(n):Object(qe.a)(e[0]),t)}}function ze(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ge(e,t,n))}}class Ge{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new We(e,this.accumulator,this.seed,this.hasSeed))}}class We extends he.a{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ke(e,t){return Object(Me.a)(e,t,1)}var Qe=n("mCNh"),$e=n("quSY");class Ye{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Xe(e,this.callback))}}class Xe extends he.a{constructor(e,t){super(e),this.add(new $e.a(t))}}let Je=null;function Ze(){return Je}const et={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rt=(()=>{if(r.wb.Node)return r.wb.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}})();class it extends class extends class{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(t).forEach(n=>{null!=this.getStyle(e,n)&&(this._transitionEnd=t[n])})}catch(yw){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new it,Je||(Je=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return et}contains(e,t){return rt.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const r=this.getStyle(e,t)||"";return n?r==n:r.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,r){e.setAttributeNS(t,n,r)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(yw){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&nt.hasOwnProperty(t)&&(t=nt[t]))}return tt[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=st||(st=document.querySelector("base"),st)?st.getAttribute("href"):null;return null==t?null:(n=t,ot||(ot=document.createElement("a")),ot.setAttribute("href",n),"/"===ot.pathname.charAt(0)?ot.pathname:"/"+ot.pathname);var n}resetBaseElement(){st=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return C(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let ot,st=null;function at(){return!!window.history.pushState}const lt=new r.p("TRANSITION_ID"),ut=[{provide:r.d,useFactory:function(e,t,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=Ze();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[lt,N,r.q],multi:!0}];class ct{static init(){Object(r.Z)(new ct)}addToWindow(e){r.wb.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.wb.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.wb.getAllAngularRootElements=()=>e.getAllRootElements(),r.wb.frameworkStabilizers||(r.wb.frameworkStabilizers=[]),r.wb.frameworkStabilizers.push(e=>{const t=r.wb.getAllAngularTestabilities();let n=t.length,i=!1;const o=function(t){i=i||t,n--,0==n&&e(i)};t.forEach((function(e){e.whenStable(o)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?Ze().isShadowRoot(t)?this.findTestabilityInTree(e,Ze().getHost(t),!0):this.findTestabilityInTree(e,Ze().parentElement(t),!0):null}}function ht(e,t){"undefined"!=typeof COMPILED&&COMPILED||((r.wb.ng=r.wb.ng||{})[e]=t)}const dt=(()=>({ApplicationRef:r.g,NgZone:r.y}))();function ft(e){return Object(r.V)(e)}const pt=new r.p("EventManagerPlugins");class gt{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}class mt{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=Ze().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}class vt{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}class yt extends vt{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Ze().remove(e))}}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},_t=/%COMP%/g;function wt(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?wt(e,i,n):(i=i.replace(_t,e),n.push(i))}return n}function St(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class At{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ct(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.P.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Tt(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case r.P.Native:case r.P.ShadowDom:return new xt(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=wt(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class Ct{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=bt[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=bt[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&r.E.DashCase?e.style.setProperty(t,n,i&r.E.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.E.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){kt(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return kt(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,St(n)):this.eventManager.addEventListener(e,t,St(n))}}const Et=(()=>"@".charCodeAt(0))();function kt(e,t){if(e.charCodeAt(0)===Et)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class Tt extends Ct{constructor(e,t,n,r){super(e),this.component=n;const i=wt(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(_t,r+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(_t,e)}(r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class xt extends Ct{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=wt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const e=document.createElement("style");e.textContent=o[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const It=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e})(),Pt=It("addEventListener"),Ot=It("removeEventListener"),Rt={},Nt="__zone_symbol__propagationStopped",Dt=(()=>{const e="undefined"!=typeof Zone&&Zone[It("BLACK_LISTED_EVENTS")];if(e){const t={};return e.forEach(e=>{t[e]=e}),t}})(),Lt=function(e){return!!Dt&&Dt.hasOwnProperty(e)},Mt=function(e){const t=Rt[e.type];if(!t)return;const n=this[t];if(!n)return;const r=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[Nt];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,r):e.handler.apply(this,r)}}};class Ft extends mt{constructor(e,t,n){super(e),this.ngZone=t,n&&D(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype.__zone_symbol__stopImmediatePropagation)return;const e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Nt]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){let i=n;if(!e[Pt]||r.y.isInAngularZone()&&!Lt(t))e.addEventListener(t,i,!1);else{let n=Rt[t];n||(n=Rt[t]=It("ANGULAR"+t+"FALSE"));let r=e[n];const o=r&&r.length>0;r||(r=e[n]=[]);const s=Lt(t)?Zone.root:Zone.current;if(0===r.length)r.push({zone:s,handler:i});else{let e=!1;for(let t=0;t<r.length;t++)if(r[t].handler===i){e=!0;break}e||r.push({zone:s,handler:i})}o||e[Pt](t,Mt,!1)}return()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,n){let r=e[Ot];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);let i=Rt[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,Mt,!1]):e.removeEventListener.apply(e,[t,n,!1])}}const jt={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Vt=new r.p("HammerGestureConfig"),Ut=new r.p("HammerLoader");class Bt{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}class qt extends mt{constructor(e,t,n,r){super(e),this._config=t,this.console=n,this.loader=r}supports(e){return!(!jt.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.`),1))}addEventListener(e,t,n){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom Hammer.JS loader failed.`),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),o=function(e){r.runGuarded((function(){n(e)}))};return i.on(t,o),()=>{i.off(t,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}const Ht=["alt","control","meta","shift"],zt={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class Gt extends mt{constructor(e){super(e)}supports(e){return null!=Gt.parseEventName(e)}addEventListener(e,t,n){const r=Gt.parseEventName(t),i=Gt.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ze().onAndCancel(e,r.domEventName,i))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const r=Gt._normalizeKey(t.pop());let i="";if(Ht.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i+=e+".")}),i+=r,0!=t.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(e){let t="",n=Ze().getEventKey(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ht.forEach(r=>{r!=n&&(0,zt[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(e,t,n){return r=>{Gt.getEventFullKey(r)===e&&n.runGuarded(()=>t(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}class Wt{}class Kt extends Wt{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case r.G.NONE:return t;case r.G.HTML:return t instanceof $t?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(r.fb)(this._doc,String(t)));case r.G.STYLE:return t instanceof Yt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(r.gb)(t));case r.G.SCRIPT:if(t instanceof Xt)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case r.G.URL:return t instanceof Zt||t instanceof Jt?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(r.hb)(String(t)));case r.G.RESOURCE_URL:if(t instanceof Zt)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof Qt)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} (see http://g.co/ng/security#xss)`)}bypassSecurityTrustHtml(e){return new $t(e)}bypassSecurityTrustStyle(e){return new Yt(e)}bypassSecurityTrustScript(e){return new Xt(e)}bypassSecurityTrustUrl(e){return new Jt(e)}bypassSecurityTrustResourceUrl(e){return new Zt(e)}}class Qt{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class $t extends Qt{getTypeName(){return"HTML"}}class Yt extends Qt{getTypeName(){return"Style"}}class Xt extends Qt{getTypeName(){return"Script"}}class Jt extends Qt{getTypeName(){return"URL"}}class Zt extends Qt{getTypeName(){return"ResourceURL"}}const en=[{provide:r.A,useValue:"browser"},{provide:r.B,useValue:function(){it.makeCurrent(),ct.init()},multi:!0},{provide:o,useClass:class extends o{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Ze().getLocation(),this._history=Ze().getHistory()}getBaseHrefFromDOM(){return Ze().getBaseHref(this._doc)}onPopState(e){Ze().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Ze().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){at()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){at()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[N]},{provide:N,useFactory:function(){return document},deps:[]}],tn=Object(r.R)(r.Y,"browser",en);function nn(){return new r.l}class rn{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:rn,providers:[{provide:r.c,useValue:e.appId},{provide:lt,useExisting:r.c},ut]}}}"undefined"!=typeof window&&window;class on{constructor(e,t){this.id=e,this.url=t}}class sn extends on{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class an extends on{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ln extends on{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class un extends on{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cn extends on{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends on{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends on{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fn extends on{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pn extends on{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vn{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _n{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Sn{}class An{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cn(e){return new An(e)}function En(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function kn(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}class Tn{constructor(e,t){this.routes=e,this.module=t}}function xn(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];In(r,Pn(t,r))}}function In(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&xn(e.children,t)}function Pn(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function On(e){const t=e.children&&e.children.map(On),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Sn),n}function Rn(e,t){const n=Object.keys(e),r=Object.keys(t);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],e[i]!==t[i])return!1;return!0}function Nn(e){return Array.prototype.concat.apply([],e)}function Dn(e){return e.length>0?e[e.length-1]:null}function Ln(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Mn(e){return Object(r.zb)(e)?e:Object(r.Ab)(e)?Object(z.a)(Promise.resolve(e)):Object(H.a)(e)}function Fn(e,t,n){return n?function(e,t){return Rn(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Bn(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Bn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Bn(n.segments,i))return!1;for(const t in r.children){if(!n.children[t])return!1;if(!e(n.children[t],r.children[t]))return!1}return!0}{const e=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Bn(n.segments,e)&&!!n.children.primary&&t(n.children.primary,r,o)}}(t,n,n.segments)}(e.root,t.root)}class jn{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return Gn.serialize(this)}}class Vn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ln(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wn(this)}}class Un{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cn(this.parameters)),this._parameterMap}toString(){return Jn(this)}}function Bn(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function qn(e,t){let n=[];return Ln(e.children,(e,r)=>{"primary"===r&&(n=n.concat(t(e,r)))}),Ln(e.children,(e,r)=>{"primary"!==r&&(n=n.concat(t(e,r)))}),n}class Hn{}class zn{parse(e){const t=new rr(e);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return Wn(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",r=[];return Ln(t.children,(t,n)=>{"primary"!==n&&r.push(`${n}:${e(t,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=qn(t,(n,r)=>"primary"===r?[e(t.children.primary,!1)]:[`${r}:${e(n,!1)}`]);return`${Wn(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Qn(t)}=${Qn(e)}`).join("&"):`${Qn(t)}=${Qn(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Gn=new zn;function Wn(e){return e.segments.map(e=>Jn(e)).join("/")}function Kn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qn(e){return Kn(e).replace(/%3B/gi,";")}function $n(e){return Kn(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yn(e){return decodeURIComponent(e)}function Xn(e){return Yn(e.replace(/\+/g,"%20"))}function Jn(e){return`${$n(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${$n(e)}=${$n(t[e])}`).join("")}`;var t}const Zn=/^[^\/()?;=#]+/;function er(e){const t=e.match(Zn);return t?t[0]:""}const tr=/^[^=?&#]+/,nr=/^[^?&#]+/;class rr{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vn([],{}):new Vn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Vn(e,t)),n}parseSegment(){const e=er(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Un(Yn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=er(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=er(this.remaining);e&&(n=e,this.capture(n))}e[Yn(t)]=Yn(n)}parseQueryParam(e){const t=function(e){const t=e.match(tr);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(nr);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=Xn(t),i=Xn(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=er(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");const o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Vn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class ir{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=or(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=or(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return sr(e,this._root).map(e=>e.value)}}function or(e,t){if(e===t.value)return t;for(const n of t.children){const t=or(e,n);if(t)return t}return null}function sr(e,t){if(e===t.value)return[t];for(const n of t.children){const r=sr(e,n);if(r.length)return r.unshift(t),r}return[]}class ar{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function lr(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class ur extends ir{constructor(e,t){super(e),this.snapshot=t,gr(this,e)}toString(){return this.snapshot.toString()}}function cr(e,t){const n=function(e,t){const n=new fr([],{},{},"",{},"primary",t,null,e.root,-1,{});return new pr("",new ar(n,[]))}(e,t),r=new K([new Un("",{})]),i=new K({}),o=new K({}),s=new K({}),a=new K(""),l=new hr(r,i,s,a,o,"primary",t,n.root);return l.snapshot=n.root,new ur(new ar(l,[]),n)}class hr{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(le.a)(e=>Cn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(le.a)(e=>Cn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dr(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class fr{constructor(e,t,n,r,i,o,s,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pr extends ir{constructor(e,t){super(t),this.url=e,gr(this,t)}toString(){return mr(this._root)}}function gr(e,t){t.value._routerState=e,t.children.forEach(t=>gr(e,t))}function mr(e){const t=e.children.length>0?` { ${e.children.map(mr).join(", ")} } `:"";return`${e.value}${t}`}function vr(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Rn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Rn(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Rn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Rn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function yr(e,t){return Rn(e.params,t.params)&&function(e,t){return Bn(e,t)&&e.every((e,n)=>Rn(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||yr(e.parent,t.parent))}function br(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function _r(e,t,n,r,i){let o={};return r&&Ln(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new jn(n.root===e?t:function e(t,n,r){const i={};return Ln(t.children,(t,o)=>{i[o]=t===n?r:e(t,n,r)}),new Vn(t.segments,i)}(n.root,e,t),o,i)}class wr{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&br(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(r&&r!==Dn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sr{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Ar(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Cr(e,t,n){if(e||(e=new Vn([],{})),0===e.segments.length&&e.hasChildren())return Er(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=Ar(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Ir(s,a,t))return o;r+=2}else{if(!Ir(s,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Vn(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Vn(e.segments.slice(r.pathIndex),e.children),Er(t,0,i)}return r.match&&0===i.length?new Vn(e.segments,{}):r.match&&!e.hasChildren()?kr(e,t,n):r.match?Er(e,0,i):kr(e,t,n)}function Er(e,t,n){if(0===n.length)return new Vn(e.segments,{});{const r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Ln(r,(n,r)=>{null!==n&&(i[r]=Cr(e.children[r],t,n))}),Ln(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Vn(e.segments,i)}}function kr(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const e=Tr(n[i].outlets);return new Vn(r,e)}if(0===i&&br(n[0])){r.push(new Un(e.segments[t].path,n[0])),i++;continue}const o=Ar(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&br(s)?(r.push(new Un(o,xr(s))),i+=2):(r.push(new Un(o,{})),i++)}return new Vn(r,{})}function Tr(e){const t={};return Ln(e,(e,n)=>{null!==e&&(t[n]=kr(new Vn([],{}),0,e))}),t}function xr(e){const t={};return Ln(e,(e,n)=>t[n]=""+e),t}function Ir(e,t,n){return e==n.path&&Rn(t,n.parameters)}class Pr{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),vr(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=lr(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Ln(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const r=lr(e),i=e.value.component?n.children:t;Ln(r,(e,t)=>this.deactivateRouteAndItsChildren(e,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const r=lr(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new _n(e.value.snapshot))}),e.children.length&&this.forwardEvent(new yn(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(vr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Or(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Or(e){vr(e.value),e.children.forEach(Or)}function Rr(e){return"function"==typeof e}function Nr(e){return e instanceof jn}class Dr{constructor(e){this.segmentGroup=e||null}}class Lr{constructor(e){this.urlTree=e}}function Mr(e){return new Q.a(t=>t.error(new Dr(e)))}function Fr(e){return new Q.a(t=>t.error(new Lr(e)))}function jr(e){return new Q.a(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Vr{constructor(e,t,n,i,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(r.w)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(le.a)(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ie(e=>{if(e instanceof Lr)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Dr)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(le.a)(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Ie(e=>{if(e instanceof Dr)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Vn([],{primary:e}):e;return new jn(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(le.a)(e=>new Vn([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Object(H.a)({});const n=[],r=[],i={};return Ln(e,(e,o)=>{const s=t(o,e).pipe(Object(le.a)(e=>i[o]=e));"primary"===o?n.push(s):r.push(s)}),H.a.apply(null,n.concat(r)).pipe(ce(),Te(),Object(le.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(e,t,r,n))}expandSegment(e,t,n,r,i,o){return Object(H.a)(...n).pipe(Object(le.a)(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Ie(e=>{if(e instanceof Dr)return Object(H.a)(null);throw e}))),ce(),Le(e=>!!e),Ie((e,n)=>{if(e instanceof X||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,r,i))return Object(H.a)(new Vn([],{}));throw new Dr(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return Hr(r)!==o?Mr(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Mr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fr(i):this.lineralizeSegments(n,i).pipe(Object(Me.a)(n=>{const i=new Vn(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Ur(t,r,i);if(!s)return Mr(t);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Fr(c):this.lineralizeSegments(r,c).pipe(Object(Me.a)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(le.a)(e=>(n._loadedConfig=e,new Vn(r,{})))):Object(H.a)(new Vn(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Ur(t,n,r);if(!i)return Mr(t);const a=r.slice(s);return this.getChildConfig(e,n,r).pipe(Object(Me.a)(e=>{const n=e.module,r=e.routes,{segmentGroup:i,slicedSegments:s}=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some(n=>qr(e,t,n)&&"primary"!==Hr(n))}(e,n,r)?{segmentGroup:Br(new Vn(t,function(e,t){const n={};n.primary=t;for(const r of e)""===r.path&&"primary"!==Hr(r)&&(n[Hr(r)]=new Vn([],{}));return n}(r,new Vn(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>qr(e,t,n))}(e,n,r)?{segmentGroup:Br(new Vn(e.segments,function(e,t,n,r){const i={};for(const o of n)qr(e,t,o)&&!r[Hr(o)]&&(i[Hr(o)]=new Vn([],{}));return Object.assign({},r,i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(le.a)(e=>new Vn(o,e))):0===r.length&&0===s.length?Object(H.a)(new Vn(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(le.a)(e=>new Vn(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Object(H.a)(new Tn(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(H.a)(t._loadedConfig):function(e,t,n){const r=t.canLoad;return r&&0!==r.length?Object(z.a)(r).pipe(Object(le.a)(r=>{const i=e.get(r);let o;if(function(e){return e&&Rr(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Rr(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return Mn(o)})).pipe(ce(),(i=e=>!0===e,e=>e.lift(new Fe(i,void 0,e)))):Object(H.a)(!0);var i}(e.injector,t,n).pipe(Object(Me.a)(n=>n?this.configLoader.load(e.injector,t).pipe(Object(le.a)(e=>(t._loadedConfig=e,e))):function(e){return new Q.a(t=>t.error(En(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Object(H.a)(new Tn([],e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(H.a)(n);if(r.numberOfChildren>1||!r.children.primary)return jr(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new jn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Ln(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return Ln(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new Vn(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Ur(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(t.matcher||kn)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Br(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Vn(e.segments.concat(t.segments),t.children)}return e}function qr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Hr(e){return e.outlet||"primary"}class zr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gr{constructor(e,t){this.component=e,this.route=t}}function Wr(e,t,n){const r=e._root;return function e(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=lr(n);return t.children.forEach(t=>{!function(t,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Bn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Bn(e.url,t.url)||!Rn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yr(e,t)||!Rn(e.queryParams,t.queryParams);case"paramsChange":default:return!yr(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new zr(i)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?l?l.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Gr(l&&l.outlet&&l.outlet.component||null,a))}else a&&Qr(n,l,o),o.canActivateChecks.push(new zr(i)),e(t,null,s.component?l?l.children:null:r,i,o)}(t,s[t.value.outlet],r,i.concat([t.value]),o),delete s[t.value.outlet]}),Ln(s,(e,t)=>Qr(e,r.getContext(t),o)),o}(r,t?t._root:null,n,[r.value])}function Kr(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Qr(e,t,n){const r=lr(e),i=e.value;Ln(r,(e,r)=>{Qr(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Gr(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}const $r=Symbol("INITIAL_VALUE");function Yr(){return Ve(e=>function(...e){let t=null,n=null;return Object(J.a)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&Object(Z.a)(e[0])&&(e=e[0]),Object(ne.a)(e,n).lift(new ie(t))}(...e.map(e=>e.pipe(Re(1),He($r)))).pipe(ze((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==$r)return e;if(r===$r&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Nr(r))return r}return e},e)},$r),de(e=>e!==$r),Object(le.a)(e=>Nr(e)?e:!0===e),Re(1)))}function Xr(e,t){return null!==e&&t&&t(new bn(e)),Object(H.a)(!0)}function Jr(e,t){return null!==e&&t&&t(new vn(e)),Object(H.a)(!0)}function Zr(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(H.a)(!0);const i=r.map(r=>ae(()=>{const i=Kr(r,t,n);let o;if(function(e){return e&&Rr(e.canActivate)}(i))o=Mn(i.canActivate(t,e));else{if(!Rr(i))throw new Error("Invalid CanActivate guard");o=Mn(i(t,e))}return o.pipe(Le())}));return Object(H.a)(i).pipe(Yr())}function ei(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>ae(()=>{const i=t.guards.map(i=>{const o=Kr(i,t.node,n);let s;if(function(e){return e&&Rr(e.canActivateChild)}(o))s=Mn(o.canActivateChild(r,e));else{if(!Rr(o))throw new Error("Invalid CanActivateChild guard");s=Mn(o(r,e))}return s.pipe(Le())});return Object(H.a)(i).pipe(Yr())}));return Object(H.a)(i).pipe(Yr())}class ti{}class ni{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=oi(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new fr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ar(n,t),i=new pr(this.url,r);return this.inheritParamsAndData(i._root),Object(H.a)(i)}catch(OS){return new Q.a(t=>t.error(OS))}}inheritParamsAndData(e){const t=e.value,n=dr(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=qn(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),r=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${r}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,r){for(const i of e)try{return this.processSegmentAgainstRoute(i,t,n,r)}catch(OS){if(!(OS instanceof ti))throw OS}if(this.noLeftoversInUrl(t,n,r))return[];throw new ti}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo)throw new ti;if((e.outlet||"primary")!==r)throw new ti;let i,o=[],s=[];if("**"===e.path){const o=n.length>0?Dn(n).parameters:{};i=new fr(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,li(e),r,e.component,e,ri(t),ii(t)+n.length,ui(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new ti;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(t.matcher||kn)(n,e,t);if(!r)throw new ti;const i={};Ln(r.posParams,(e,t)=>{i[t]=e.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new fr(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,li(e),r,e.component,e,ri(t),ii(t)+o.length,ui(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=oi(t,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new ar(i,e)]}if(0===a.length&&0===u.length)return[new ar(i,[])];const c=this.processSegment(a,l,u,"primary");return[new ar(i,c)]}}function ri(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ii(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function oi(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some(n=>si(e,t,n)&&"primary"!==ai(n))}(e,n,r)){const i=new Vn(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&"primary"!==ai(o)){const n=new Vn([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[ai(o)]=n}return i}(e,t,r,new Vn(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>si(e,t,n))}(e,n,r)){const o=new Vn(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(si(e,n,a)&&!i[ai(a)]){const n=new Vn([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[ai(a)]=n}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new Vn(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function si(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ai(e){return e.outlet||"primary"}function li(e){return e.data||{}}function ui(e){return e.resolve||{}}function ci(e,t,n,r){const i=Kr(e,t,r);return Mn(i.resolve?i.resolve(t,n):i(t,n))}function hi(e){return function(t){return t.pipe(Ve(t=>{const n=e(t);return n?Object(z.a)(n).pipe(Object(le.a)(()=>t)):Object(z.a)([t])}))}}class di{}class fi{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const pi=new r.p("ROUTES");class gi{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(le.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new Tn(Nn(r.injector.get(pi)).map(On),r)}))}loadModuleFactory(e){return"string"==typeof e?Object(z.a)(this.loader.load(e)):Mn(e()).pipe(Object(Me.a)(e=>e instanceof r.u?Object(H.a)(e):Object(z.a)(this.compiler.compileModuleAsync(e))))}}class mi{}class vi{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yi(e){throw e}function bi(e,t,n){return t.parse("/")}function _i(e,t){return Object(H.a)(null)}class wi{constructor(e,t,n,i,o,s,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new G.a,this.errorHandler=yi,this.malformedUriErrorHandler=bi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_i,afterPreactivation:_i},this.urlHandlingStrategy=new vi,this.routeReuseStrategy=new fi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.w),this.console=o.get(r.cb);const u=o.get(r.y);this.isNgZoneEnabled=u instanceof r.y,this.resetConfig(l),this.currentUrlTree=new jn(new Vn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gi(s,a,e=>this.triggerEvent(new gn(e)),e=>this.triggerEvent(new mn(e))),this.routerState=cr(this.currentUrlTree,this.rootComponentType),this.transitions=new K({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(de(e=>0!==e.id),Object(le.a)(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Ve(e=>{let n=!1,r=!1;return Object(H.a)(e).pipe(Object(_e.a)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Ve(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(H.a)(e).pipe(Ve(e=>{const n=this.transitions.getValue();return t.next(new sn(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?se.a:[e]}),Ve(e=>Promise.resolve(e)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(e){return e.pipe(Ve(e=>function(e,t,n,r,i){return new Vr(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe(Object(le.a)(t=>Object.assign({},e,{urlAfterRedirects:t})))))}),Object(_e.a)(e=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return function(o){return o.pipe(Object(Me.a)(o=>function(e,t,n,r,i="emptyOnly",o="legacy"){return new ni(e,t,n,r,i,o).recognize()}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(le.a)(e=>Object.assign({},o,{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(_e.a)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Object(_e.a)(e=>{const n=new cn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new sn(n,this.serializeUrl(r),i,o);t.next(a);const l=cr(r,this.rootComponentType).snapshot;return Object(H.a)(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),se.a}),hi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(_e.a)(e=>{const t=new hn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Object(le.a)(e=>Object.assign({},e,{guards:Wr(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(Object(Me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(H.a)(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return Object(z.a)(e).pipe(Object(Me.a)(e=>function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(H.a)(!0);const s=o.map(o=>{const s=Kr(o,t,i);let a;if(function(e){return e&&Rr(e.canDeactivate)}(s))a=Mn(s.canDeactivate(e,t,n,r));else{if(!Rr(s))throw new Error("Invalid CanDeactivate guard");a=Mn(s(e,t,n,r))}return a.pipe(Le())});return Object(H.a)(s).pipe(Yr())}(e.component,e.route,n,t,r)),Le(e=>!0!==e,!0))}(s,r,i,e).pipe(Object(Me.a)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return Object(z.a)(t).pipe(Ke(t=>Object(z.a)([Jr(t.route.parent,r),Xr(t.route,r),ei(e,t.path,n),Zr(e,t.route,n)]).pipe(ce(),Le(e=>!0!==e,!0))),Le(e=>!0!==e,!0))}(r,o,e,t):Object(H.a)(n)),Object(le.a)(e=>Object.assign({},n,{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Object(_e.a)(e=>{if(Nr(e.guardsResult)){const t=En(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Object(_e.a)(e=>{const t=new dn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),de(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new ln(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),hi(e=>{if(e.guards.canActivateChecks.length)return Object(H.a)(e).pipe(Object(_e.a)(e=>{const t=new fn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(Object(Me.a)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;return i.length?Object(z.a)(i).pipe(Ke(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return Object(H.a)({});if(1===i.length){const o=i[0];return ci(e[o],t,n,r).pipe(Object(le.a)(e=>({[o]:e})))}const o={};return Object(z.a)(i).pipe(Object(Me.a)(i=>ci(e[i],t,n,r).pipe(Object(le.a)(e=>(o[i]=e,e))))).pipe(Te(),Object(le.a)(()=>o))}(e._resolve,e,t,r).pipe(Object(le.a)(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,dr(e,n).resolve),null)))}(e.route,r,t,n)),function(e,t){return arguments.length>=2?function(n){return Object(Qe.a)(ze(e,t),ve(1),Ae(t))(n)}:function(t){return Object(Qe.a)(ze((t,n,r)=>e(t,n,r+1)),ve(1))(t)}}((e,t)=>e),Object(le.a)(t=>e)):Object(H.a)(e)}))}),Object(_e.a)(e=>{const t=new pn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),hi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(le.a)(e=>{const t=function(e,t,n){const r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(t,n,r){return n.children.map(n=>{for(const i of r.children)if(t.shouldReuseRoute(i.value.snapshot,n.value))return e(t,n,i);return e(t,n)})}(t,n,r);return new ar(i,o)}{const r=t.retrieve(n.value);if(r){const e=r.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,e),e}{const r=new hr(new K((i=n.value).url),new K(i.params),new K(i.queryParams),new K(i.fragment),new K(i.data),i.outlet,i.component,i),o=n.children.map(n=>e(t,n));return new ar(r,o)}}var i}(e,t._root,n?n._root:void 0);return new ur(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),Object(_e.a)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=e=>this.triggerEvent(e),Object(le.a)(e=>(new Pr(s,e.targetRouterState,e.currentRouterState,a).activate(o),e))),Object(_e.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new ln(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Ye(i))),Ie(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Nr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new ln(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),e.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new un(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(op){e.reject(op)}}var i;return se.a}));var i,o,s,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){xn(e),this.config=e.map(On),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:l}=t;Object(r.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,r,i){if(0===n.length)return _r(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wr(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Ln(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new wr(n,t,r)}(n);if(o.toRoot())return _r(t.root,new Vn([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Sr(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Sr(n.snapshot._urlSegment,!0,0);const r=br(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Sr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Er(s.segmentGroup,s.index,o.commands):Cr(s.segmentGroup,s.index,o.commands);return _r(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){Object(r.X)()&&this.isNgZoneEnabled&&!r.y.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Nr(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(OS){t=this.malformedUriErrorHandler(OS,this.urlSerializer,e)}return t}isActive(e,t){if(Nr(e))return Fn(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Fn(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new an(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r){const i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((e,t)=>{o=e,s=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,r){const i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class Si{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof an&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Ai(this.skipLocationChange),replaceUrl:Ai(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ai(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ai(this.preserveFragment)})}}function Ai(e){return""===e||!!e}class Ci{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ei,this.attachRef=null}}class Ei{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ci,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class ki{constructor(e,t,n,i,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ti(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Ti{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===hr?this.route:e===Ei?this.childContexts:this.parent.get(e,t)}}class xi{}class Ii{preload(e,t){return t().pipe(Ie(()=>Object(H.a)(null)))}}class Pi{preload(e,t){return Object(H.a)(null)}}class Oi{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new gi(t,n,t=>e.triggerEvent(new gn(t)),t=>e.triggerEvent(new mn(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(de(e=>e instanceof an),Ke(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.w);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return Object(z.a)(n).pipe(Object(ue.a)(),Object(le.a)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(Object(Me.a)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}class Ri{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof an&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wn&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new wn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Ni=new r.p("ROUTER_CONFIGURATION"),Di=new r.p("ROUTER_FORROOT_GUARD"),Li=[u,{provide:Hn,useClass:zn},{provide:wi,useFactory:qi,deps:[r.g,Hn,Ei,u,r.q,r.v,r.i,pi,Ni,[mi,new r.z],[di,new r.z]]},Ei,{provide:hr,useFactory:Hi,deps:[wi]},{provide:r.v,useClass:r.I},Oi,Pi,Ii,{provide:Ni,useValue:{enableTracing:!1}}];function Mi(){return new r.x("Router",wi)}class Fi{constructor(e,t){}static forRoot(e,t){return{ngModule:Fi,providers:[Li,Bi(e),{provide:Di,useFactory:Ui,deps:[[wi,new r.z,new r.H]]},{provide:Ni,useValue:t||{}},{provide:a,useFactory:Vi,deps:[o,[new r.o(l),new r.z],Ni]},{provide:Ri,useFactory:ji,deps:[wi,L,Ni]},{provide:xi,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:Pi},{provide:r.x,multi:!0,useFactory:Mi},[zi,{provide:r.d,multi:!0,useFactory:Gi,deps:[zi]},{provide:Ki,useFactory:Wi,deps:[zi]},{provide:r.b,multi:!0,useExisting:Ki}]]}}static forChild(e){return{ngModule:Fi,providers:[Bi(e)]}}}function ji(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ri(e,t,n)}function Vi(e,t,n={}){return n.useHash?new h(e,t):new d(e,t)}function Ui(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bi(e){return[{provide:r.a,multi:!0,useValue:e},{provide:pi,multi:!0,useValue:e}]}function qi(e,t,n,r,i,o,s,a,l={},u,c){const h=new wi(null,t,n,r,i,o,s,Nn(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const e=Ze();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Hi(e){return e.routerState.root}class zi{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new G.a}appInitializer(){return this.injector.get(s,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(wi),r=this.injector.get(Ni);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(H.a)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(Ni),n=this.injector.get(Oi),i=this.injector.get(Ri),o=this.injector.get(wi),s=this.injector.get(r.g);e===s.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function Gi(e){return e.appInitializer.bind(e)}function Wi(e){return e.bootstrapListener.bind(e)}const Ki=new r.p("Router Initializer");var Qi=r.rb({encapsulation:2,styles:[],data:{}});function $i(e){return r.Mb(0,[(e()(),r.tb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.sb(1,212992,null,0,ki,[Ei,r.O,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,1,0)}),null)}function Yi(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"ng-component",[],null,null,null,$i,Qi)),r.sb(1,49152,null,0,Sn,[],null,null)],null,null)}var Xi=r.pb("ng-component",Sn,Yi,{},{},[]);class Ji{constructor(){}ngOnInit(){}}var Zi=r.rb({encapsulation:0,styles:[[".top-header[_ngcontent-%COMP%]{background:#10519f;color:#fff;border-bottom:2px solid #f46406}.ui.inline.dropdown.loc-title[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{color:#fff;font-size:large;width:230px;margin-top:7px}.menu.dropdown_account[_ngcontent-%COMP%]{left:initial!important;right:0}.offer-link[_ngcontent-%COMP%], .select_location[_ngcontent-%COMP%]{color:#fff}.menu.dropdown_loc[_ngcontent-%COMP%]{width:200px;min-width:200px!important}.bs-canvas-footer[_ngcontent-%COMP%]{padding-top:13px}.saving-total[_ngcontent-%COMP%]{padding:5px 20px 0}.main-total-cart[_ngcontent-%COMP%]{padding:5px 20px 12px}.result-search[_ngcontent-%COMP%]   .content-search[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]{font-size:20px;color:#000!important;padding-left:10px}.checkout-cart[_ngcontent-%COMP%]{padding:0}.cart-checkout-btn[_ngcontent-%COMP%]{padding:20px 15px;width:100%;border-radius:0;text-align:center}.ui.search[_ngcontent-%COMP%] > .results[_ngcontent-%COMP%]{z-index:9999;width:50em}.content-search[_ngcontent-%COMP%]:hover{background:#c9c2c2}.cart-top-total[_ngcontent-%COMP%]{padding:15px}.form-control[_ngcontent-%COMP%]{width:100%;border-radius:0!important;border:1px solid #efefef!important}.form-control-lg[_ngcontent-%COMP%]{height:30px;padding-top:8px;padding-left:0;font-size:1.25rem;line-height:1.5;border-radius:.3rem}.icon__1[_ngcontent-%COMP%]{font-size:18px;margin-right:10px}"]],data:{}});function eo(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,24,"header",[["class","header clearfix"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,23,"div",[["class","top-header-group"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,22,"div",[["class","top-header"]],null,null,null,null,null)),(e()(),r.tb(3,0,null,null,3,"div",[["class","res_main_logo"]],null,null,null,null,null)),(e()(),r.tb(4,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(5,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(6,0,null,null,0,"img",[["alt",""],["src","assets/images/logo-mobile.png"]],null,null,null,null,null)),(e()(),r.tb(7,0,null,null,6,"div",[["class","main_logo"],["id","logo"]],null,null,null,null,null)),(e()(),r.tb(8,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,9).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(9,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(10,0,null,null,0,"img",[["alt",""],["src","assets/images/logo.png"]],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(12,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(13,0,null,null,0,"img",[["alt",""],["class","logo-inverse"],["src","assets/images/dark-logo.svg"]],null,null,null,null,null)),(e()(),r.tb(14,0,null,null,3,"div",[["class","select_location"]],null,null,null,null,null)),(e()(),r.tb(15,0,null,null,2,"div",[["class","ui inline dropdown loc-title"]],null,null,null,null,null)),(e()(),r.tb(16,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" \xa1Gracias! por tu compra "])),(e()(),r.tb(18,0,null,null,0,"div",[["class","search120"]],null,null,null,null,null)),(e()(),r.tb(19,0,null,null,5,"div",[["class","header_right"]],null,null,null,null,null)),(e()(),r.tb(20,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.tb(21,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(22,0,null,null,2,"a",[["class","offer-link"],["href","http://wa.me/573202520442"],["target","_blank"]],null,null,null,null,null)),(e()(),r.tb(23,0,null,null,0,"i",[["class","uil uil-phone-alt"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["320-252-04-42 "]))],(function(e,t){e(t,5,0,"/"),e(t,9,0,"/"),e(t,12,0,"/")}),(function(e,t){e(t,4,0,r.Eb(t,5).target,r.Eb(t,5).href),e(t,8,0,r.Eb(t,9).target,r.Eb(t,9).href),e(t,11,0,r.Eb(t,12).target,r.Eb(t,12).href)}))}class to{constructor(){}ngOnInit(){}}var no=r.rb({encapsulation:0,styles:[[""]],data:{}});function ro(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-factura-header",[],null,null,null,eo,Zi)),r.sb(1,114688,null,0,Ji,[],null,null),(e()(),r.tb(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.sb(3,212992,null,0,ki,[Ei,r.O,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,1,0),e(t,3,0)}),null)}function io(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-factura-wrapper",[],null,null,null,ro,no)),r.sb(1,114688,null,0,to,[],null,null)],(function(e,t){e(t,1,0)}),null)}var oo=r.pb("app-factura-wrapper",to,io,{},{},[]),so=n("Q4Nv"),ao=n("+Nuo");const lo=function(e){const t=new e.EventBus(!0);var n;return(n=t).on("documentload",()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),n.on("pagerendered",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("pagerendered",!0,!0,{pageNumber:e.pageNumber,cssTransform:e.cssTransform}),e.source.div.dispatchEvent(t)}),n.on("textlayerrendered",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e.pageNumber}),e.source.textLayerDiv.dispatchEvent(t)}),n.on("pagechanging",e=>{const t=document.createEvent("UIEvents");t.initEvent("pagechanging",!0,!0),t.pageNumber=e.pageNumber,e.source.container.dispatchEvent(t)}),n.on("pagesinit",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),e.source.container.dispatchEvent(t)}),n.on("pagesloaded",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e.pagesCount}),e.source.container.dispatchEvent(t)}),n.on("scalechange",e=>{const t=document.createEvent("UIEvents");t.initEvent("scalechange",!0,!0),t.scale=e.scale,t.presetValue=e.presetValue,e.source.container.dispatchEvent(t)}),n.on("updateviewarea",e=>{const t=document.createEvent("UIEvents");t.initEvent("updateviewarea",!0,!0),t.location=e.location,e.source.container.dispatchEvent(t)}),n.on("find",e=>{if(e.source===window)return;const t=document.createEvent("CustomEvent");t.initCustomEvent("find"+e.type,!0,!0,{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,highlightAll:e.highlightAll,findPrevious:e.findPrevious}),window.dispatchEvent(t)}),n.on("attachmentsloaded",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e.attachmentsCount}),e.source.container.dispatchEvent(t)}),n.on("sidebarviewchanged",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("sidebarviewchanged",!0,!0,{view:e.view}),e.source.outerContainer.dispatchEvent(t)}),n.on("pagemode",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("pagemode",!0,!0,{mode:e.mode}),e.source.pdfViewer.container.dispatchEvent(t)}),n.on("namedaction",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("namedaction",!0,!0,{action:e.action}),e.source.pdfViewer.container.dispatchEvent(t)}),n.on("presentationmodechanged",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("presentationmodechanged",!0,!0,{active:e.active,switchInProgress:e.switchInProgress}),window.dispatchEvent(t)}),n.on("outlineloaded",e=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e.outlineCount}),e.source.container.dispatchEvent(t)}),t};function uo(e,t,n){e[t]=n}function co(){return"undefined"==typeof window}var ho,fo=function(e){return e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED",e}({});let po=(()=>{let e=ho=class{constructor(e){if(this.element=e,this.isVisible=!1,this._cMapsUrl=void 0!==so?`https://unpkg.com/pdfjs-dist@${so.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=fo.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.isInitialized=!1,this.afterLoadComplete=new r.m,this.pageRendered=new r.m,this.pageInitialized=new r.m,this.textLayerRendered=new r.m,this.onError=new r.m,this.onProgress=new r.m,this.pageChange=new r.m(!0),co())return;let t;t=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${so.version}/es5/build/pdf.worker.js`,uo(so.GlobalWorkerOptions,"workerSrc",t)}set cMapsUrl(e){this._cMapsUrl=e}set page(e){const t=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,t!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=Boolean(e)}set fitToPage(e){this._fitToPage=Boolean(e)}set showBorders(e){this._showBorders=Boolean(e)}static getLinkTarget(e){switch(e){case"blank":return so.LinkTarget.BLANK;case"none":return so.LinkTarget.NONE;case"self":return so.LinkTarget.SELF;case"parent":return so.LinkTarget.PARENT;case"top":return so.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.ngOnInit(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){!co()&&this.isVisible&&(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}ngOnDestroy(){this.clear()}onPageResize(){this._canAutoResize&&this._pdf&&(this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.updateSize()},100))}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(e){if(!co()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:fo.DISABLED,this.resetPdfDocument()):"showAll"in e&&this.resetPdfDocument(),"page"in e){const{page:t}=e;if(t.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const e=this.getCurrentViewer();this._pdf.getPage(e.currentPageNumber).then(t=>{const n=this._rotation||t.rotate,r=t.getViewport({scale:this._zoom,rotation:n}).width*ho.CSS_UNITS;let i=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){const e=t.getViewport({scale:1,rotation:n});i=this.getScale(e.width,e.height),o=!this._stickToPage}e._setScale(i,o)})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const e={},t=ho.getLinkTarget(this._externalLinkTarget);return t&&(e.externalLinkTarget=t),e}setupMultiPageViewer(){uo(so,"disableTextLayer",!this._renderText);const e=lo(ao);e.on("pagerendered",e=>{this.pageRendered.emit(e)}),e.on("pagesinit",e=>{this.pageInitialized.emit(e)}),e.on("pagechanging",e=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=setTimeout(()=>{this._latestScrolledPage=e.pageNumber,this.pageChange.emit(e.pageNumber)},100)}),e.on("textlayerrendered",e=>{this.textLayerRendered.emit(e)}),this.pdfMultiPageLinkService=new ao.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new ao.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:e});const t={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:fo.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new ao.PDFViewer(t),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){uo(so,"disableTextLayer",!this._renderText);const e=lo(ao);e.on("pagechanging",e=>{e.pageNumber!==this._page&&(this.page=e.pageNumber)}),e.on("pagerendered",e=>{this.pageRendered.emit(e)}),e.on("pagesinit",e=>{this.pageInitialized.emit(e)}),e.on("textlayerrendered",e=>{this.textLayerRendered.emit(e)}),this.pdfSinglePageLinkService=new ao.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new ao.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:e});const t={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:fo.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new ao.PDFSinglePageViewer(t),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const t={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===e?t.url=this.src:"object"===e&&(void 0!==this.src.byteLength?t.data=this.src:Object.assign(t,this.src)),t}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=Object(so.getDocument)(this.getDocumentParams()),this.loadingTask.onProgress=e=>{this.onProgress.emit(e)};const e=this.src;this.loadingTask.promise.then(t=>{this._pdf=t,this.lastLoaded=e,this.afterLoadComplete.emit(t),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},e=>{this.onError.emit(e)})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const e=this.getCurrentViewer();0===this._rotation&&e.pagesRotation===this._rotation||setTimeout(()=>{e.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{e.currentPageNumber=this._page}),this.updateSize()}getScale(e,t){const n=this._showBorders?2*ho.BORDER_WIDTH:0,r=this.pdfViewerContainer.nativeElement.clientWidth-n,i=this.pdfViewerContainer.nativeElement.clientHeight-n;if(0===i||0===t||0===r||0===e)return 1;let o=1;switch(this._zoomScale){case"page-fit":o=Math.min(i/t,r/e);break;case"page-height":o=i/t;break;case"page-width":default:o=r/e}return this._zoom*o/ho.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}};return e.CSS_UNITS=96/72,e.BORDER_WIDTH=9,e})(),go=class{};var mo=r.rb({encapsulation:0,styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:relative;height:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:0 0;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:0 0;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{background-color:#000;content:"";display:block;position:absolute;height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute;border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer{padding-bottom:10px}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid rgba(0,0,0,.01);box-sizing:initial;background-clip:content-box;-o-border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.removePageBorders{padding-bottom:0}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle;margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page{margin-bottom:100%!important}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}'],data:{}});function vo(e){return r.Mb(0,[r.Ib(402653184,1,{pdfViewerContainer:0}),(e()(),r.tb(1,0,[[1,0],["pdfViewerContainer",1]],null,1,"div",[["class","ng2-pdf-viewer-container"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,0,"div",[["class","pdfViewer"]],null,null,null,null,null))],null,null)}var yo=n("Iab2");class bo{constructor(e,t,n){this.apiService=e,this.route=t,this.renderer=n,this.urlApi=i.urlApi,this.urlDian=i.urlDian,this.pdfSrc="",this.facturaId="",this.cargando=!0,this.mensaje="",this.cargandoEvento=!1}ngOnInit(){this.cargarIdFactura()}cargarIdFactura(){this.facturaId=this.route.snapshot.paramMap.get("codigoWeb"),this.pdfSrc=i.urlApi+"obtener-facturas-electronicas/representacion-grafica/"+this.facturaId,this.cargarFactura()}cargarFactura(){this.apiService.peticionGet("obtener-facturas-electronicas/"+this.facturaId).subscribe(e=>{this.factura=e.factura,this.cargando=!1})}descargarXML(){let e=decodeURIComponent(atob(this.factura.base64).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));const t=new Blob([e],{type:"text/xml;charset=utf-8"});Object(yo.saveAs)(t,this.factura.numeroDeFacturaConPrefijo+".xml")}descargarXMLRespuestaDian(){let e=decodeURIComponent(atob(this.factura.respuestaDianBase64).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));const t=new Blob([e],{type:"text/xml;charset=utf-8"});Object(yo.saveAs)(t,`RPTA_DIAN_${this.factura.numeroDeFacturaConPrefijo}.xml`)}generarEvento(e,t){if(this.cargandoEvento=!1,this.mensaje="Generando Evento... Por favor espere...",this.cargandoEvento=!0,"031"===e&&this.renderer.selectRootElement(this.cerrarModal.nativeElement).click(),"030"===e&&this.factura.eventos.length>0)return void(this.mensaje="Ya no se puede generar este evento");if(("031"===e||"033"===e)&&this.factura.eventos.find(e=>"031"===e.codigo||"033"===e.codigo))return void(this.mensaje="Ya no se puede generar este evento");let n={codigoWeb:this.factura.codigoWeb,date:this.fechaEnFormatoYYYYMMDDConGuion(),time:this.horaEnFormatoHHMMSSconDosPuntos(),codigo:e,descripcion:t};this.apiService.peticionesPost("eventos-documentos-electronicos",n).subscribe(e=>{this.mensaje=e.mensaje,this.factura.eventos.push(n)},e=>{},()=>{})}fechaEnFormatoYYYYMMDDConGuion(){let e=new Date,t=""+(e.getMonth()+1),n=""+e.getDate(),r=e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[r,t,n].join("-")}horaEnFormatoHHMMSSconDosPuntos(){let e=new Date,t=""+e.getHours(),n=""+e.getMinutes(),r=""+e.getSeconds();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),[t,n,r].join(":")}}class _o{}class wo{}class So{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof So?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new So;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof So?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ao{encodeKey(e){return Co(e)}encodeValue(e){return Co(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Co(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Eo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ao,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new Eo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function ko(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function To(e){return"undefined"!=typeof Blob&&e instanceof Blob}function xo(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Io{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new So),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Eo,this.urlWithParams=t}serializeBody(){return null===this.body?null:ko(this.body)||To(this.body)||xo(this.body)||"string"==typeof this.body?this.body:this.body instanceof Eo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xo(this.body)?null:To(this.body)?this.body.type||null:ko(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Eo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new Io(t,n,i,{params:l,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const Po=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Oo{constructor(e,t=200,n="OK"){this.headers=e.headers||new So,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Ro extends Oo{constructor(e={}){super(e),this.type=Po.ResponseHeader}clone(e={}){return new Ro({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class No extends Oo{constructor(e={}){super(e),this.type=Po.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new No({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Do extends Oo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Lo(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class Mo{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof Io)r=e;else{let i=void 0;i=n.headers instanceof So?n.headers:new So(n.headers);let o=void 0;n.params&&(o=n.params instanceof Eo?n.params:new Eo({fromObject:n.params})),r=new Io(e,t,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(H.a)(r).pipe(Ke(e=>this.handler.handle(e)));if(e instanceof Io||"events"===n.observe)return i;const o=i.pipe(de(e=>e instanceof No));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(le.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(Object(le.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(Object(le.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(Object(le.a)(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Eo).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Lo(n,t))}post(e,t,n={}){return this.request("POST",e,Lo(n,t))}put(e,t,n={}){return this.request("PUT",e,Lo(n,t))}}class Fo{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const jo=new r.p("HTTP_INTERCEPTORS");class Vo{intercept(e,t){return t.handle(e)}}const Uo=/^\)\]\}',?\n/;class Bo{}class qo{constructor(){}build(){return new XMLHttpRequest}}class Ho{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Q.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new So(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new Ro({headers:o,status:t,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let u=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Uo,"");try{l=""!==l?JSON.parse(l):null}catch(c){l=e,u&&(u=!1,l={error:c,text:l})}}u?(t.next(new No({body:l,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new Do({error:l,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new Do({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const u=r=>{l||(t.next(o()),l=!0);let i={type:Po.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},c=e=>{let n={type:Po.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",c)),n.send(r),t.next({type:Po.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const zo=new r.p("XSRF_COOKIE_NAME"),Go=new r.p("XSRF_HEADER_NAME");class Wo{}class Ko{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=C(e,this.cookieName),this.lastCookieString=e),this.lastToken}}class Qo{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}class $o{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(jo,[]);this.chain=e.reduceRight((e,t)=>new Fo(e,t),this.backend)}return this.chain.handle(e)}}class Yo{static disable(){return{ngModule:Yo,providers:[{provide:Qo,useClass:Vo}]}}static withOptions(e={}){return{ngModule:Yo,providers:[e.cookieName?{provide:zo,useValue:e.cookieName}:[],e.headerName?{provide:Go,useValue:e.headerName}:[]]}}}class Xo{}let Jo=(()=>{class e{constructor(e){this.httpClient=e,this.environment=i}peticionGet(e){return this.httpClient.get(this.environment.urlApi+e)}peticionesPost(e,t){return this.httpClient.post(this.environment.urlApi+e,t)}}return e.ngInjectableDef=r.Qb({factory:function(){return new e(r.Rb(Mo))},token:e,providedIn:"root"}),e})();var Zo=r.rb({encapsulation:0,styles:[["a[_ngcontent-%COMP%]:not([href]):not([tabindex]){color:#fff;text-decoration:none}.btn-recibida[_ngcontent-%COMP%]{background:#10519f;width:100%;color:#fff}.btn-recibida[_ngcontent-%COMP%]:hover{background:#7cb7ff;width:100%}.btn-aceptada[_ngcontent-%COMP%]{background:#109f1b;width:100%;color:#fff}.btn-aceptada[_ngcontent-%COMP%]:hover{background:#6efd7a;width:100%}.btn-rechazada[_ngcontent-%COMP%]{background:#db2828;width:100%;color:#fff}.btn-rechazada[_ngcontent-%COMP%]:hover{background:#ff7c7c;width:100%}.titulo-factura[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{border-bottom:1px solid #efefef;padding:15px 20px;font-size:16px;font-weight:600;color:#1e1c38;text-align:center}"]],data:{}});function es(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,2,"div",[["class","col my-4 py-4 text-center"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.component.mensaje)}))}function ts(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,100,"div",[["class","all-product-grid"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,99,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,es)),r.sb(3,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(4,0,null,null,96,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.tb(5,0,null,null,53,"div",[["class","col-lg-3"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,52,"div",[["class","pdpt-bg-factura"]],null,null,null,null,null)),(e()(),r.tb(7,0,null,null,2,"div",[["class","titulo-factura"]],null,null,null,null,null)),(e()(),r.tb(8,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["FACTURA ELECTR\xd3NICA DE VENTA"])),(e()(),r.tb(10,0,null,null,48,"div",[["class","total-checkout-group"]],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,4,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(12,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Numero:"])),(e()(),r.tb(14,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(15,null,["",""])),(e()(),r.tb(16,0,null,null,4,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(17,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Fecha Emisi\xf3n:"])),(e()(),r.tb(19,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(20,null,[""," ",""])),(e()(),r.tb(21,0,null,null,4,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(22,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Emisor:"])),(e()(),r.tb(24,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["ALMACENES UNIVERSAL S.A.S. 901260162-8"])),(e()(),r.tb(26,0,null,null,4,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(27,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Receptor:"])),(e()(),r.tb(29,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(30,null,[""," - ",""])),(e()(),r.tb(31,0,null,null,5,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(32,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Valor Total:"])),(e()(),r.tb(34,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(35,null,["",""])),r.Gb(36,5),(e()(),r.tb(37,0,null,null,4,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(38,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["CUFE:"])),(e()(),r.tb(40,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(41,null,["",""])),(e()(),r.tb(42,0,null,null,4,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(43,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Estado Tr\xe1mite:"])),(e()(),r.tb(45,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(46,null,["",""])),(e()(),r.tb(47,0,null,null,4,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(48,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Estado DIAN:"])),(e()(),r.tb(50,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(51,null,["",""])),(e()(),r.tb(52,0,null,null,5,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(53,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Descargar PDF:"])),(e()(),r.tb(55,0,null,null,2,"a",[["download",""],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),r.tb(56,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.tb(57,0,null,null,0,"i",[["class","fas fa-file-pdf"]],null,null,null,null,null)),(e()(),r.tb(58,0,null,null,0,"div",[["class","cart-total-dil pt-3"]],null,null,null,null,null)),(e()(),r.tb(59,0,null,null,3,"div",[["class","col-lg-7"]],null,null,null,null,null)),(e()(),r.tb(60,0,null,null,1,"pdf-viewer",[["style","display: block;"]],null,[["window","resize"]],(function(e,t,n){var i=!0;return"window:resize"===t&&(i=!1!==r.Eb(e,61).onPageResize()&&i),i}),vo,mo)),r.sb(61,9158656,null,0,po,[r.k],{src:[0,"src"],renderText:[1,"renderText"],originalSize:[2,"originalSize"],zoom:[3,"zoom"],autoresize:[4,"autoresize"]},null),(e()(),r.tb(62,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),r.tb(63,0,null,null,37,"div",[["class","col-lg-2"]],null,null,null,null,null)),(e()(),r.tb(64,0,null,null,36,"div",[["class","pdpt-bg mt-0"]],null,null,null,null,null)),(e()(),r.tb(65,0,null,null,2,"div",[["class","pdpt-title"]],null,null,null,null,null)),(e()(),r.tb(66,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Eventos"])),(e()(),r.tb(68,0,null,null,2,"div",[["class","cart-total-dil saving-total "]],null,null,null,null,null)),(e()(),r.tb(69,0,null,null,1,"button",[["class","btn-recibida ui button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.generarEvento("030","Acuse de Recibo")&&r),r}),null,null)),(e()(),r.Kb(-1,null,["Recibida"])),(e()(),r.tb(71,0,null,null,2,"div",[["class","cart-total-dil saving-total "]],null,null,null,null,null)),(e()(),r.tb(72,0,null,null,1,"button",[["class","btn-aceptada ui button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.generarEvento("033","Aceptaci\xf3n de Documento")&&r),r}),null,null)),(e()(),r.Kb(-1,null,["Aceptada"])),(e()(),r.tb(74,0,null,null,2,"div",[["class","cart-total-dil saving-total "]],null,null,null,null,null)),(e()(),r.tb(75,0,null,null,1,"a",[["class","btn-rechazada ui button"],["data-target","#optionsModal"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Rechazada"])),(e()(),r.tb(77,0,null,null,2,"div",[["class","pdpt-title"]],null,null,null,null,null)),(e()(),r.tb(78,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Ver en:"])),(e()(),r.tb(80,0,null,null,2,"div",[["class","cart-total-dil saving-total "]],null,null,null,null,null)),(e()(),r.tb(81,0,null,null,1,"a",[["class","btn-aceptada ui button"],["target","_blank"]],[[8,"href",4]],null,null,null,null)),(e()(),r.Kb(-1,null,["DIAN"])),(e()(),r.tb(83,0,null,null,17,"div",[["class","payment-secure"]],null,null,null,null,null)),(e()(),r.tb(84,0,null,null,16,"div",[["aria-hidden","true"],["aria-labelledby","optionsModalLabel"],["class","modal fade"],["id","optionsModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.tb(85,0,null,null,15,"div",[["class","modal-dialog"],["role","document"]],null,null,null,null,null)),(e()(),r.tb(86,0,null,null,14,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.tb(87,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.tb(88,0,null,null,1,"h5",[["class","modal-title"],["id","optionsModalLabel"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Mensaje de Alerta"])),(e()(),r.tb(90,0,[[1,0],["cerrarModal",1]],null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.tb(91,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["\xd7"])),(e()(),r.tb(93,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),r.tb(94,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Esta seguro que quiere realizar esta acci\xf3n, esto afecta el documento en la base de datos de la DIAN. "])),(e()(),r.tb(96,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),r.tb(97,0,null,null,1,"button",[["class","btn btn-secondary"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Cerrar"])),(e()(),r.tb(99,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.generarEvento("031","Rechazo de Documento")&&r),r}),null,null)),(e()(),r.Kb(-1,null,["Continuar"]))],(function(e,t){var n=t.component;e(t,3,0,n.cargandoEvento),e(t,61,0,n.pdfSrc,!0,!1,1,!0)}),(function(e,t){var n=t.component;e(t,15,0,n.factura.numeroDeFacturaConPrefijo),e(t,20,0,n.factura.date,n.factura.time),e(t,30,0,n.factura.cliente.nombre,n.factura.cliente.numeroId);var i=r.Lb(t,35,0,e(t,36,0,r.Eb(t.parent,0),n.factura.total,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,35,0,i),e(t,41,0,n.factura.cufe),e(t,46,0,n.factura.estado),e(t,51,0,n.factura.estado),e(t,55,0,n.urlApi+"obtener-facturas-electronicas/representacion-grafica/"+n.factura.codigoWeb),e(t,81,0,n.urlDian+n.factura.cufe)}))}function ns(e){return r.Mb(0,[r.Fb(0,O,[r.t]),r.Ib(671088640,1,{cerrarModal:0}),(e()(),r.tb(2,0,null,null,2,"div",[["class","wrapper-factura"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,ts)),r.sb(4,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,4,0,!t.component.cargando)}),null)}function rs(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-factura-de-venta",[],null,null,null,ns,Zo)),r.sb(1,114688,null,0,bo,[Jo,hr,r.C],null,null)],(function(e,t){e(t,1,0)}),null)}var is=r.pb("app-factura-de-venta",bo,rs,{},{},[]);class os extends ee.a{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let r=0;r<n;r++){const e=t[r],n=Object(te.a)(this,e,null,r);n&&this.add(n)}}notifyNext(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:r}=this,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}const ss=new r.p("NgValueAccessor"),as=new r.p("CompositionEventMode");class ls{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Ze()?Ze().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}class us{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class cs extends us{get formDirective(){return null}get path(){return null}}function hs(){throw new Error("unimplemented")}class ds extends us{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return hs()}get asyncValidator(){return hs()}}class fs{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class ps extends fs{constructor(e){super(e)}}class gs extends fs{constructor(e){super(e)}}function ms(e){return null==e||0===e.length}const vs=new r.p("NgValidators"),ys=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bs{static min(e){return t=>{if(ms(t.value)||ms(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(ms(t.value)||ms(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return ms(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return ms(e.value)||ys.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(ms(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return bs.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(ms(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(_s);return 0==t.length?null:function(e){return Ss(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(_s);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(Z.a)(t[0])&&(t=t[0]),0===t.length?se.a:n?e(t).pipe(Object(le.a)(e=>n(...e))):new Q.a(e=>new os(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(ws)).pipe(Object(le.a)(Ss))}}}function _s(e){return null!=e}function ws(e){const t=Object(r.Ab)(e)?Object(z.a)(e):e;if(!Object(r.zb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Ss(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}function As(e){return e.validate?t=>e.validate(t):e}function Cs(e){return e.validate?t=>e.validate(t):e}class Es{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}class ks{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}const Ts='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',xs='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Is='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Ps{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ts)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${xs}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Is}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Ts)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xs)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function Os(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class Rs{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=r.Bb}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Os(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}class Ns{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Os(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Ds(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class Ls{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Ds(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ds(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function Ms(e,t){return[...t.path,e]}function Fs(e,t){e||Bs(t,"Cannot find control with"),t.valueAccessor||Bs(t,"No value accessor for form control with"),e.validator=bs.compose([e.validator,t.validator]),e.asyncValidator=bs.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&js(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&js(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function js(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Vs(e,t){null==e&&Bs(t,"Cannot find control with"),e.validator=bs.compose([e.validator,t.validator]),e.asyncValidator=bs.composeAsync([e.asyncValidator,t.asyncValidator])}function Us(e){return Bs(e,"There is no FormControl instance attached to form control element with")}function Bs(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function qs(e){return null!=e?bs.compose(e.map(As)):null}function Hs(e){return null!=e?bs.composeAsync(e.map(Cs)):null}function zs(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object(r.Bb)(t,n.currentValue)}const Gs=[class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},class{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},Es,Rs,class{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=r.Bb}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},class{constructor(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ds),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function Ws(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Ks(e,t){if(!t)return null;Array.isArray(t)||Bs(e,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return t.forEach(t=>{var o;t.constructor===ls?n=t:(o=t,Gs.some(e=>o.constructor===e)?(r&&Bs(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Bs(e,"More than one custom value accessor matches form control with"),i=t))}),i||r||n||(Bs(e,"No valid value accessor for form control with"),null)}function Qs(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function $s(e){const t=Xs(e)?e.validators:e;return Array.isArray(t)?qs(t):t||null}function Ys(e,t){const n=Xs(t)?t.asyncValidators:e;return Array.isArray(n)?Hs(n):n||null}function Xs(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Js{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=$s(e)}setAsyncValidators(e){this.asyncValidator=Ys(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=ws(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof ea?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof ta&&e.at(t)||null,e))}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.m,this.statusChanges=new r.m}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xs(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Zs extends Js{constructor(e=null,t,n){super($s(t),Ys(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ea extends Js{constructor(e,t,n){super($s(t),Ys(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Zs?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,r)=>{t=t||this.contains(r)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ta extends Js{constructor(e,t,n){super($s(t),Ys(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Zs?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const na=(()=>Promise.resolve(null))();class ra extends cs{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.m,this.form=new ea({},qs(e),Hs(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){na.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Fs(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){na.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Qs(this._directives,e)})}addFormGroup(e){na.then(()=>{const t=this._findContainer(e.path),n=new ea({});Vs(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){na.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){na.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Ws(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}class ia{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Ts}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${xs}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Is}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${xs}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Is}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const oa=new r.p("NgFormSelectorWarning");class sa extends cs{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ms(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qs(this._validators)}get asyncValidator(){return Hs(this._asyncValidators)}_checkParentType(){}}class aa extends sa{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof aa||this._parent instanceof ra||ia.modelGroupParentException()}}const la=(()=>Promise.resolve(null))();class ua extends ds{constructor(e,t,n,i){super(),this.control=new Zs,this._registered=!1,this.update=new r.m,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=Ks(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),zs(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Ms(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qs(this._rawValidators)}get asyncValidator(){return Hs(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fs(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof aa)&&this._parent instanceof sa?ia.formGroupNameException():this._parent instanceof aa||this._parent instanceof ra||ia.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||ia.missingNameException()}_updateValue(e){la.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;la.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class ca{}const ha=new r.p("NgModelWithFormControlWarning");class da extends cs{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.m}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Fs(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Qs(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);Vs(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);Vs(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,Ws(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>Us(t)),t.valueAccessor.registerOnTouched(()=>Us(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&Fs(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=qs(this._validators);this.form.validator=bs.compose([this.form.validator,e]);const t=Hs(this._asyncValidators);this.form.asyncValidator=bs.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||Ps.missingFormException()}}class fa extends sa{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){ga(this._parent)&&Ps.groupParentException()}}class pa extends cs{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ms(this.name,this._parent)}get validator(){return qs(this._validators)}get asyncValidator(){return Hs(this._asyncValidators)}_checkParentType(){ga(this._parent)&&Ps.arrayParentException()}}function ga(e){return!(e instanceof fa||e instanceof da||e instanceof pa)}let ma=(()=>{class e extends ds{constructor(e,t,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.m,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=Ks(this,i)}set isDisabled(e){Ps.disabledAttrWarning()}ngOnChanges(t){var n,i;this._added||this._setUpControl(),zs(t,this.viewModel)&&("formControlName",n=e,this,i=this._ngModelWarningConfig,Object(r.X)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Ps.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Ms(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qs(this._rawValidators)}get asyncValidator(){return Hs(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof fa)&&this._parent instanceof sa?Ps.ngModelGroupException():this._parent instanceof fa||this._parent instanceof da||this._parent instanceof pa||Ps.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e._ngModelWarningSentOnce=!1,e})();class va{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?bs.required(e):null}registerOnValidatorChange(e){this._onChange=e}}class ya{}class ba{group(e,t=null){const n=this._reduceControls(e);let r=null,i=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new ea(n,{asyncValidators:i,updateOn:o,validators:r})}control(e,t,n){return new Zs(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new ta(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof Zs||e instanceof ea||e instanceof ta?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}class _a{static withConfig(e){return{ngModule:_a,providers:[{provide:oa,useValue:e.warnOnDeprecatedNgFormSelector}]}}}class wa{static withConfig(e){return{ngModule:wa,providers:[{provide:ha,useValue:e.warnOnNgModelWithFormControl}]}}}class Sa{constructor(e){this.cartService=e,this.environment=i}ngOnInit(){}eliminarProductoCarrito(e){this.cartService.eliminarDelCarrito(e)}cambiarCantidad(e){this.productoCarrito.qty=this.productoCarrito.qty+e,this.productoCarrito.qty<1&&(this.productoCarrito.qty=1),this.cartService.actualizarProductoCarrito(this.productoCarrito)}}class Aa{constructor(e,t,n,r,i,o){this.toastId=e,this.config=t,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new G.a,this._onAction=new G.a,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Ca={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Ea=new r.p("ToastConfig");class ka{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Ta extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,n){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=n}attachComponentPortal(e,t){const n=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=n.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let xa=(()=>{let e=class{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}};return e.ngInjectableDef=Object(r.S)({factory:function(){return new e(Object(r.W)(N))},token:e,providedIn:"root"}),e})();class Ia{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Pa=(()=>{let e=class{constructor(e,t,n,r){this._overlayContainer=e,this._componentFactoryResolver=t,this._appRef=n,this._document=r,this._paneElements=new Map}create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new Ta(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Ia(this._createPortalHost(e))}};return e.ngInjectableDef=Object(r.S)({factory:function(){return new e(Object(r.W)(xa),Object(r.W)(r.j),Object(r.W)(r.g),Object(r.W)(N))},token:e,providedIn:"root"}),e})();class Oa{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new G.a,this._activate=new G.a,this._manualClose=new G.a,this._resetTimeout=new G.a,this._countDuplicate=new G.a}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Ra{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,n){return e===Aa?this._toastPackage:this._parentInjector.get(e,t,n)}}let Na=(()=>{let e=class{constructor(e,t,n,r,i){this.overlay=t,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign({},e.default,e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign({},e.default.iconClasses,e.config.iconClasses))}show(e,t,n={},r=""){return this._preBuildNotification(r,e,t,this.applyConfig(n))}success(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}error(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}info(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}warning(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}clear(e){for(const t of this.toasts)if(void 0!==e){if(t.toastId===e)return void t.toastRef.manualClose()}else t.toastRef.manualClose()}remove(e){const t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const e=this.toasts[this.currentlyActive].toastRef;e.isInactive()||(this.currentlyActive=this.currentlyActive+1,e.activate())}return!0}findDuplicate(e,t,n){for(let r=0;r<this.toasts.length;r++){const i=this.toasts[r];if(i.message===e)return i.toastRef.onDuplicate(t,n),i}return null}applyConfig(e={}){return Object.assign({},this.toastrConfig,e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,n,r)):this._buildNotification(e,t,n,r)}_buildNotification(e,t,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(t,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if(t&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=t;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let l=t;t&&i.enableHtml&&(l=this.sanitizer.sanitize(r.G.HTML,t));const u=new Oa(a),c=new Aa(this.index,i,l,n,e,u),h=new Ra(c,this._injector),d=new ka(i.toastComponent,h),f=a.attach(d,this.toastrConfig.newestOnTop);u.componentInstance=f._component;const p={toastId:this.index,message:t||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:c.onTap(),onAction:c.onAction(),portal:f};return s||setTimeout(()=>{p.toastRef.activate(),this.currentlyActive=this.currentlyActive+1}),this.toasts.push(p),p}};return e.ngInjectableDef=Object(r.S)({factory:function(){return new e(Object(r.W)(Ea),Object(r.W)(Pa),Object(r.W)(r.n),Object(r.W)(Wt),Object(r.W)(r.y))},token:e,providedIn:"root"}),e})(),Da=class{constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){return"inactive"===this.state.value?"none":"inherit"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign({},this.state,{value:"active"}),!this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign({},this.state,{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign({},this.state,{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}};var La;const Ma=Object.assign({},Ca,{toastComponent:Da});let Fa=La=class{static forRoot(e={}){return{ngModule:La,providers:[{provide:Ea,useValue:{default:Ma,config:e}}]}}};var ja;const Va=Object.assign({},Ca,{toastComponent:class{constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){return"inactive"===this.state?"none":"inherit"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!this.options.disableTimeOut&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}});ja=class{static forRoot(e={}){return{ngModule:ja,providers:[{provide:Ea,useValue:{default:Va,config:e}}]}}};let Ua=(()=>{class e{constructor(e){this.toastr=e,this.metodoDePagoCarrito="efectivo",this.productosCarrito=[],this.total=0,this.totalTarjeta=0,this.subtotal=0,this.subtotalTarjeta=0,this.iva=0,this.ivaTarjeta=0,this.totalAhorro=0,this.cargarCarrito()}getMetodoDePago(){return console.log({servicio:this.metodoDePagoCarrito}),this.metodoDePagoCarrito}cargarCarrito(){this.productosCarrito=JSON.parse(localStorage.getItem("carrito"))||[],this.calcularTotal()}vaciarCarrito(){this.productosCarrito=[],localStorage.setItem("carrito",JSON.stringify(this.productosCarrito)),this.calcularTotal()}agregarAlCarrito(e){this.productosCarrito.findIndex(t=>t._id===e._id)<0?(this.productosCarrito.push(e),localStorage.setItem("carrito",JSON.stringify(this.productosCarrito)),this.calcularTotal(),this.toastr.success("Agregado","",{timeOut:2e3,positionClass:"toast-bottom-left"})):this.toastr.error("Ya se encuentra agregado","",{timeOut:2e3,positionClass:"toast-bottom-left"})}eliminarDelCarrito(e){let t=this.productosCarrito.findIndex(t=>t._id===e._id);t>=0&&(this.productosCarrito.splice(t,1),localStorage.setItem("carrito",JSON.stringify(this.productosCarrito)),this.calcularTotal())}actualizarProductoCarrito(e){let t=this.productosCarrito.findIndex(t=>t._id===e._id);t>=0&&(this.productosCarrito[t]=e,localStorage.setItem("carrito",JSON.stringify(this.productosCarrito)),this.calcularTotal())}cantidadProductos(){return this.productosCarrito.length}calcularTotal(){this.total=this.productosCarrito.reduce((function(e,t,n,r){return e+t.qty*t.price1}),0),this.totalTarjeta=this.productosCarrito.reduce((function(e,t,n,r){return e+t.qty*t.price2}),0),this.subtotal=Math.trunc(this.total/1.19),this.iva=this.total-this.subtotal,this.subtotalTarjeta=Math.trunc(this.totalTarjeta/1.19),this.ivaTarjeta=this.totalTarjeta-this.subtotalTarjeta}}return e.ngInjectableDef=r.Qb({factory:function(){return new e(r.Rb(Na))},token:e,providedIn:"root"}),e})();var Ba=r.rb({encapsulation:0,styles:[[""]],data:{}});function qa(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["x ",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.productoCarrito.price1,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function Ha(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["x ",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.productoCarrito.price2,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function za(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"div",[["class","cart-item-price"]],null,null,null,null,null)),(e()(),r.Kb(1,null,[" "," "])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.productoCarrito.price1*n.productoCarrito.qty,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function Ga(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"div",[["class","cart-item-price"]],null,null,null,null,null)),(e()(),r.Kb(1,null,[" "," "])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.productoCarrito.price2*n.productoCarrito.qty,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function Wa(e){return r.Mb(0,[r.Fb(0,O,[r.t]),(e()(),r.tb(1,0,null,null,27,"div",[["class","cart-item"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,1,"div",[["class","cart-product-img"]],null,null,null,null,null)),(e()(),r.tb(3,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(e()(),r.tb(4,0,null,null,24,"div",[["class","cart-text"]],null,null,null,null,null)),(e()(),r.tb(5,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(6,null,["",""])),(e()(),r.tb(7,0,null,null,15,"div",[["class","qty-group"]],null,null,null,null,null)),(e()(),r.tb(8,0,null,null,9,"div",[["class","quantity buttons_added"]],null,null,null,null,null)),(e()(),r.tb(9,0,null,null,0,"input",[["class","minus minus-btn"],["type","button"],["value","-"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.cambiarCantidad(-1)&&r),r}),null,null)),(e()(),r.tb(10,0,null,null,6,"input",[["class","input-text qty text"],["name","quantity"],["readonly",""],["step","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Eb(e,11)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,11).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Eb(e,11)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Eb(e,11)._compositionEnd(n.target.value)&&i),"change"===t&&(i=!1!==r.Eb(e,12).onChange(n.target.value)&&i),"input"===t&&(i=!1!==r.Eb(e,12).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,12).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.productoCarrito.qty=n)&&i),i}),null,null)),r.sb(11,16384,null,0,ls,[r.C,r.k,[2,as]],null,null),r.sb(12,16384,null,0,Es,[r.C,r.k],null,null),r.Hb(1024,null,ss,(function(e,t){return[e,t]}),[ls,Es]),r.sb(14,671744,null,0,ua,[[8,null],[8,null],[8,null],[6,ss]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Hb(2048,null,ds,null,[ua]),r.sb(16,16384,null,0,ps,[[4,ds]],null,null),(e()(),r.tb(17,0,null,null,0,"input",[["class","plus plus-btn"],["type","button"],["value","+"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.cambiarCantidad(1)&&r),r}),null,null)),(e()(),r.tb(18,0,null,null,4,"div",[["class","cart-item-price"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,qa)),r.sb(20,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,Ha)),r.sb(22,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,za)),r.sb(24,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,Ga)),r.sb(26,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(27,0,null,null,1,"button",[["class","cart-close-btn"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==i.eliminarProductoCarrito(i.productoCarrito)&&r),r}),null,null)),(e()(),r.tb(28,0,null,null,0,"i",[["class","uil uil-multiply"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,14,0,"quantity",n.productoCarrito.qty),e(t,20,0,"efectivo"===n.metodoPago),e(t,22,0,"tarjeta"===n.metodoPago),e(t,24,0,"efectivo"===n.metodoPago),e(t,26,0,"tarjeta"===n.metodoPago)}),(function(e,t){var n=t.component;e(t,3,0,r.xb(1,"",n.productoCarrito.image,"")),e(t,6,0,n.productoCarrito.name),e(t,10,0,r.Eb(t,16).ngClassUntouched,r.Eb(t,16).ngClassTouched,r.Eb(t,16).ngClassPristine,r.Eb(t,16).ngClassDirty,r.Eb(t,16).ngClassValid,r.Eb(t,16).ngClassInvalid,r.Eb(t,16).ngClassPending)}))}function Ka(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(OS){o(OS)}}function a(e){try{l(r.throw(e))}catch(OS){o(OS)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}class Qa{constructor(e,t,n){this.fb=e,this.authService=t,this.router=n,this.ordenCompletada=!1,this.showMe=!0,this.showCode=!1,this.showPass=!1,this.showPassLogIn=!1,this.loginForm=this.fb.group({emailOrPhoneNumber:["",[bs.required,this.hasExclamationMark]]}),this.passForm=this.fb.group({password:["",[bs.required,bs.minLength(6)]]}),this.codeForm=this.fb.group({code:["",[bs.required,bs.minLength(6),bs.maxLength(6),bs.pattern("^[0-9]*$")]]})}ngOnInit(){}onSubmitemailOrPhoneNumber(e){return Ka(this,void 0,void 0,(function*(){try{if(/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e.emailOrPhoneNumber))console.log("La direcci\xf3n de email "+e.emailOrPhoneNumber+" es correcta!."),!0===(yield this.authService.getEmail(e.emailOrPhoneNumber))?(this.email=e.emailOrPhoneNumber,this.showMe=!this.showMe,this.showPass=!this.showPass,console.log("continuar con el registro",this.email)):(this.email=e.emailOrPhoneNumber,this.showMe=!this.showMe,this.showPassLogIn=!this.showPassLogIn,console.log("continuar con el login o con la pagina siguiente que el usuario ya existe"));else if(/^3[\d]{9}$/i.test(e.emailOrPhoneNumber)){console.log("es un numero telefonico",e.emailOrPhoneNumber);let t=yield this.authService.loginPhoneNumber("+57"+e.emailOrPhoneNumber);console.log(t),!0===t?(this.phoneNumber=e.emailOrPhoneNumber,this.showMe=!this.showMe,this.showCode=!this.showCode,console.log("continuar con el registro",this.phoneNumber)):console.log("si llega aca no se que paso")}else console.log("No es ni un correo - ni un email.",e.emailOrPhoneNumber)}catch(t){console.log("soy un error",t)}}))}onSubmitCode(e){return Ka(this,void 0,void 0,(function*(){try{yield this.authService.getCodeConfirm(e.code)}catch(t){console.log(t)}}))}onRegister(e){return Ka(this,void 0,void 0,(function*(){try{const t=yield this.authService.register(this.email,e.password);t&&console.log(t),console.log("usuario registrado")}catch(t){console.log(t)}}))}onLogin(e){return Ka(this,void 0,void 0,(function*(){try{const t=yield this.authService.loginClient(this.email,e.password);if(t){const e=this.authService.isEmailVerified(t);console.log("Email de usuario logueado",e)}}catch(t){console.log("error en el login",t)}}))}loginGoogle(){return Ka(this,void 0,void 0,(function*(){try{const e=yield this.authService.loginGoogle();if(e){const t=this.authService.isEmailVerified(e);console.log("Email de usuario logueado",t)}}catch(e){console.log("error login con google",e)}}))}loginFacebook(){return Ka(this,void 0,void 0,(function*(){try{const e=yield this.authService.loginFacebook();if(e){const t=this.authService.isEmailVerified(e);console.log("Email de usuario logueado",t)}}catch(e){console.log("error login con google",e)}}))}loginAnonymous(){return Ka(this,void 0,void 0,(function*(){try{yield this.authService.loginAnonymous()}catch(e){console.log("error en la autenticacion anonima",e)}}))}redirectUser(e){}ngAfterViewInit(){this.authService.recaptchaVerify()}hasExclamationMark(e){return/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(e.value)||/^3[\d]{9}$/.test(e.value)?null:{needsEmailOrPhone:!0}}}var $a=n("Jgta"),Ya=(n("6nsN"),n("VRyK")),Xa=n("pxpQ"),Ja=n("qgXg"),Za=n("Ylt2");class el extends G.a{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new tl(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new W.a;if(this.isStopped||this.hasError?o=$e.a.EMPTY:(this.observers.push(e),o=new Za.a(this,e)),r&&e.add(e=new Xa.a(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||Ja.a).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}class tl{constructor(e,t){this.time=e,this.value=t}}function nl(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,l=!1;return function(u){s++,i&&!a||(a=!1,i=new el(e,t,r),o=u.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,i.complete()}}));const c=i.subscribe(this);this.add(()=>{s--,c.unsubscribe(),o&&!l&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function rl(e,t){return t?Ve(()=>e,t):Ve(()=>e)}var il=n("tf+s"),ol=n("jmUF");const sl=new r.p("angularfire2.auth.use-emulator"),al=new r.p("angularfire2.auth.settings"),ll=new r.p("angularfire2.auth.tenant-id"),ul=new r.p("angularfire2.auth.langugage-code"),cl=new r.p("angularfire2.auth.use-device-language"),hl=new r.p("angularfire.auth.persistence");let dl=(()=>{class e{constructor(e,t,r,i,o,s,a,l,u,c){const h=new ol.e(i),d=Object(ol.i)(h),f=new G.a,p=Object(H.a)(void 0).pipe(Object(Xa.b)(h.outsideAngular),Ve(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(null,"6nsN")))),Object(le.a)(()=>Object(ol.h)(e,i,t)),Object(le.a)(e=>i.runOutsideAngular(()=>{const t=o,n=s;return Object(ol.g)(e.name+".auth","AngularFireAuth",e,()=>{const r=i.runOutsideAngular(()=>e.auth());if(t&&r.useEmulator("http://"+t.join(":")),a&&(r.tenantId=a),r.languageCode=l,u&&r.useDeviceLanguage(),n)for(const[e,t]of Object.entries(n))r.settings[e]=t;return c&&r.setPersistence(c),r},[t,a,l,u,n,c])})),nl({bufferSize:1,refCount:!1}));if(D(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(H.a)(null);else{p.pipe(Le()).subscribe();const e=p.pipe(Ve(e=>e.getRedirectResult().then(e=>e,()=>null)),d,nl({bufferSize:1,refCount:!1})),t=e=>new Q.a(t=>({unsubscribe:i.runOutsideAngular(()=>e(t))})),n=p.pipe(Ve(e=>t(e.onAuthStateChanged.bind(e)))),r=p.pipe(Ve(e=>t(e.onIdTokenChanged.bind(e))));this.authState=e.pipe(rl(n),Object(il.a)(h.outsideAngular),Object(Xa.b)(h.insideAngular)),this.user=e.pipe(rl(r),Object(il.a)(h.outsideAngular),Object(Xa.b)(h.insideAngular)),this.idToken=this.user.pipe(Ve(e=>e?Object(z.a)(e.getIdToken()):Object(H.a)(null))),this.idTokenResult=this.user.pipe(Ve(e=>e?Object(z.a)(e.getIdTokenResult()):Object(H.a)(null))),this.credential=Object(Ya.a)(e,f,this.authState.pipe(de(e=>!e))).pipe(Object(le.a)(e=>(null==e?void 0:e.user)?e:null),Object(il.a)(h.outsideAngular),Object(Xa.b)(h.insideAngular))}return Object(ol.j)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275prov=r.Qb({factory:function(){return new e(r.Rb(ol.c),r.Rb(ol.b,8),r.Rb(r.A),r.Rb(r.y),r.Rb(sl,8),r.Rb(al,8),r.Rb(ll,8),r.Rb(ul,8),r.Rb(cl,8),r.Rb(hl,8))},token:e,providedIn:"any"}),e})();class fl{}var pl=n("D0XW");function gl(){return e=>e.lift(new ml)}class ml{call(e,t){return t.subscribe(new vl(e))}}class vl extends he.a{constructor(e){super(e),this.hasPrev=!1}_next(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e}}function yl(e,t){return n=>n.lift(new bl(e,t))}class bl{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new _l(e,this.compare,this.keySelector))}}class _l extends he.a{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var wl=n("zIRd"),Sl=n("qOnz"),Al=n("q/0M"),Cl=function(e,t){return(Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function El(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var kl,Tl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xl=xl||{},Il=Tl||self;function Pl(){}function Ol(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Rl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Nl="closure_uid_"+(1e9*Math.random()>>>0),Dl=0;function Ll(e,t,n){return e.call.apply(e.bind,arguments)}function Ml(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Fl(e,t,n){return(Fl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ll:Ml).apply(null,arguments)}function jl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vl(){return Date.now()}function Ul(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Bl(){this.j=this.j,this.i=this.i}Bl.prototype.j=!1,Bl.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Nl)&&e[Nl]||(e[Nl]=++Dl)}(this)},Bl.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ql=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Hl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function zl(e){return Array.prototype.concat.apply([],arguments)}function Gl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wl(e){return/^[\s\xa0]*$/.test(e)}var Kl,Ql=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $l(e,t){return-1!=e.indexOf(t)}function Yl(e,t){return e<t?-1:e>t?1:0}e:{var Xl=Il.navigator;if(Xl){var Jl=Xl.userAgent;if(Jl){Kl=Jl;break e}}Kl=""}function Zl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function eu(e){var t={};for(var n in e)t[n]=e[n];return t}var tu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nu(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<tu.length;o++)n=tu[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ru(e){return ru[" "](e),e}ru[" "]=Pl;var iu,ou,su=$l(Kl,"Opera"),au=$l(Kl,"Trident")||$l(Kl,"MSIE"),lu=$l(Kl,"Edge"),uu=lu||au,cu=$l(Kl,"Gecko")&&!($l(Kl.toLowerCase(),"webkit")&&!$l(Kl,"Edge"))&&!($l(Kl,"Trident")||$l(Kl,"MSIE"))&&!$l(Kl,"Edge"),hu=$l(Kl.toLowerCase(),"webkit")&&!$l(Kl,"Edge");function du(){var e=Il.document;return e?e.documentMode:void 0}e:{var fu="",pu=(ou=Kl,cu?/rv:([^\);]+)(\)|;)/.exec(ou):lu?/Edge\/([\d\.]+)/.exec(ou):au?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ou):hu?/WebKit\/(\S+)/.exec(ou):su?/(?:Version)[ \/]?(\S+)/.exec(ou):void 0);if(pu&&(fu=pu?pu[1]:""),au){var gu=du();if(null!=gu&&gu>parseFloat(fu)){iu=String(gu);break e}}iu=fu}var mu={};function vu(e){return function(e,t){var n=mu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=Ql(String(iu)).split("."),r=Ql(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=Yl(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Yl(0==s[2].length,0==a[2].length)||Yl(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}var yu=Il.document&&au&&(du()||parseInt(iu,10))||void 0,bu=!au||9<=Number(yu),_u=au&&!vu("9"),wu=function(){if(!Il.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Il.addEventListener("test",Pl,t),Il.removeEventListener("test",Pl,t)}catch(n){}return e}();function Su(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Au(e,t){if(Su.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(cu){e:{try{ru(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Cu[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Su.prototype.b=function(){this.defaultPrevented=!0},Ul(Au,Su);var Cu={2:"touch",3:"pen",4:"mouse"};Au.prototype.b=function(){Au.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,_u)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Eu="closure_listenable_"+(1e6*Math.random()|0),ku=0;function Tu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++ku,this.Y=this.Z=!1}function xu(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Iu(e){this.src=e,this.a={},this.b=0}function Pu(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=ql(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(xu(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Ou(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}Iu.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=Ou(e,t,r,i);return-1<s?(t=e[s],n||(t.Z=!1)):((t=new Tu(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var Ru="closure_lm_"+(1e6*Math.random()|0),Nu={};function Du(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);return null}return r=qu(r),t&&t[Eu]?t.wa(n,r,Rl(i)?!!i.capture:!!i,o):Lu(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Du(e,t[o],n,r,i);return null}return n=qu(n),e&&e[Eu]?e.va(t,n,Rl(r)?!!r.capture:!!r,i):Lu(e,t,n,!1,r,i)}function Lu(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Rl(i)?!!i.capture:!!i;if(s&&!bu)return null;var a=Uu(e);if(a||(e[Ru]=a=new Iu(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Vu,t=bu?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)wu||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Mu(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[Eu])Pu(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Uu(t))?(Pu(n,e),0==n.b&&(n.src=null,t[Ru]=null)):xu(e)}}}function Fu(e){return e in Nu?Nu[e]:Nu[e]="on"+e}function ju(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Mu(e),n.call(r,t)}function Vu(e,t){if(e.Y)return!0;if(!bu){if(!t)e:{t=["window","event"];for(var n=Il,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return ju(e,t=new Au(t,this))}return ju(e,new Au(t,this))}function Uu(e){return(e=e[Ru])instanceof Iu?e:null}var Bu="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(e){return"function"==typeof e?e:(e[Bu]||(e[Bu]=function(t){return e.handleEvent(t)}),e[Bu])}function Hu(){Bl.call(this),this.c=new Iu(this),this.J=this,this.C=null}function zu(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"==typeof t)t=new Su(t,e);else if(t instanceof Su)t.target=t.target||e;else{var i=t;nu(t=new Su(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.a=n[o];i=Gu(s,r,!0,t)&&i}if(i=Gu(s=t.a=e,r,!0,t)&&i,i=Gu(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Gu(s=t.a=n[o],r,!1,t)&&i}function Gu(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,l=s.ca||s.src;s.Z&&Pu(e.c,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ul(Hu,Bl),Hu.prototype[Eu]=!0,(kl=Hu.prototype).addEventListener=function(e,t,n,r){Du(this,e,t,n,r)},kl.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,i,o);else i=Rl(i)?!!i.capture:!!i,r=qu(r),t&&t[Eu]?(t=t.c,(n=String(n).toString())in t.a&&-1<(r=Ou(s=t.a[n],r,i,o))&&(xu(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.a[n],t.b--))):t&&(t=Uu(t))&&(n=t.a[n.toString()],t=-1,n&&(t=Ou(n,r,i,o)),(r=-1<t?n[t]:null)&&Mu(r))}(this,e,t,n,r)},kl.G=function(){if(Hu.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)xu(n[r]);delete t.a[e],t.b--}}this.C=null},kl.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},kl.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Wu=Il.JSON.stringify;function Ku(){this.b=this.a=null}var Qu,$u=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,this.a=(e=this.a).next,e.next=null):e=this.c(),e},e}())((function(){return new Xu}),(function(e){e.reset()}));function Yu(){var e=tc,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Xu(){this.next=this.b=this.a=null}function Ju(e){Il.setTimeout((function(){throw e}),0)}function Zu(e,t){Qu||function(){var e=Il.Promise.resolve(void 0);Qu=function(){e.then(nc)}}(),ec||(Qu(),ec=!0),tc.add(e,t)}Ku.prototype.add=function(e,t){var n=$u.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Xu.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Xu.prototype.reset=function(){this.next=this.b=this.a=null};var ec=!1,tc=new Ku;function nc(){for(var e;e=Yu();){try{e.a.call(e.b)}catch(n){Ju(n)}var t=$u;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}ec=!1}function rc(e,t){Hu.call(this),this.b=e||1,this.a=t||Il,this.f=Fl(this.Za,this),this.g=Vl()}function ic(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function oc(e,t,n){if("function"==typeof e)n&&(e=Fl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Fl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Il.setTimeout(e,t||0)}function sc(e){e.a=oc((function(){e.a=null,e.c&&(e.c=!1,sc(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Ul(rc,Hu),(kl=rc.prototype).aa=!1,kl.M=null,kl.Za=function(){if(this.aa){var e=Vl()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),zu(this,"tick"),this.aa&&(ic(this),this.start()))}},kl.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Vl())},kl.G=function(){rc.X.G.call(this),ic(this),delete this.a};var ac=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}Cl(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:sc(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(Il.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Bl);function lc(e){Bl.call(this),this.b=e,this.a={}}Ul(lc,Bl);var uc=[];function cc(e,t,n,r){Array.isArray(n)||(n&&(uc[0]=n.toString()),n=uc);for(var i=0;i<n.length;i++){var o=Du(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function hc(e){Zl(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Mu(e)}),e),e.a={}}function dc(){this.a=!0}function fc(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Wu(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}lc.prototype.G=function(){lc.X.G.call(this),hc(this)},lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dc.prototype.info=function(){};var pc={},gc=null;function mc(){return gc=gc||new Hu}function vc(e){Su.call(this,pc.Fa,e)}function yc(e){var t=mc();zu(t,new vc(t,e))}function bc(e,t){Su.call(this,pc.STAT_EVENT,e),this.stat=t}function _c(e){var t=mc();zu(t,new bc(t,e))}function wc(e){Su.call(this,pc.Ga,e)}function Sc(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Il.setTimeout((function(){e()}),t)}pc.Fa="serverreachability",Ul(vc,Su),pc.STAT_EVENT="statevent",Ul(bc,Su),pc.Ga="timingevent",Ul(wc,Su);var Ac={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Cc={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ec(){}function kc(){}Ec.prototype.a=null;var Tc,xc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ic(){Su.call(this,"d")}function Pc(){Su.call(this,"c")}function Oc(){}function Rc(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new lc(this),this.P=Nc,this.R=new rc(e=uu?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ul(Ic,Su),Ul(Pc,Su),Ul(Oc,Ec),Tc=new Oc;var Nc=45e3,Dc={},Lc={};function Mc(e,t,n){e.H=1,e.i=ih(Jc(t)),e.j=n,e.I=!0,Fc(e,null)}function Fc(e,t){e.u=Vl(),Uc(e),e.l=Jc(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),vh(n.b,"t",r),e.D=0,e.a=hd(e.g,e.g.C?t:null),0<e.O&&(e.F=new ac(Fl(e.Ca,e,e.a),e.O)),cc(e.J,e.a,"readystatechange",e.Xa),t=e.B?eu(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),yc(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function jc(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Vc(e,n);if(i==Lc){4==t&&(e.h=4,_c(14),r=!1),fc(e.c,e.f,null,"[Incomplete Response]");break}if(i==Dc){e.h=4,_c(15),fc(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}fc(e.c,e.f,i,null),Gc(e,i)}4==t&&0==n.length&&(e.h=1,_c(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),rd(t),t.F=!0,_c(11))):(fc(e.c,e.f,n,"[Invalid Chunked Response]"),zc(e),Hc(e))}function Vc(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Lc:(n=Number(t.substring(n,r)),isNaN(n)?Dc:(r+=1)+n>t.length?Lc:(t=t.substr(r,n),e.D=r+n,t))}function Uc(e){e.T=Vl()+e.P,Bc(e,e.P)}function Bc(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=Sc(Fl(e.Va,e),t)}function qc(e){e.o&&(Il.clearTimeout(e.o),e.o=null)}function Hc(e){0==e.g.v||e.A||sd(e.g,e)}function zc(e){qc(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,ic(e.R),hc(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Gc(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||Ch(n.b,e)))if(n.I=e.N,!e.C&&Ch(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(Qw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;od(n),Qh(n)}nd(n),_c(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Sc(Fl(n.Sa,n),6e3));if(1>=Ah(n.b)&&n.ea){try{n.ea()}catch(Qw){}n.ea=void 0}}else ld(n,11)}else if((e.C||n.a==e)&&od(n),!Wl(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(n.P=(i=t[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var l=1.5*a;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var u=e.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=l.b;!h.a&&($l(c,"spdy")||$l(c,"quic")||$l(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Eh(h,h.b),h.b=null))}if(l.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(l.na=d,rh(l.B,l.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Vl()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=e;if((l=n).la=cd(l,l.C?l.ga:null,l.fa),f.C){kh(l.b,f);var p=f,g=l.D;g&&p.setTimeout(g),p.o&&(qc(p),Uc(p)),l.a=f}else td(l);0<n.g.length&&Xh(n)}else"stop"!=i[0]&&"close"!=i[0]||ld(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ld(n,7):Kh(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);yc(4)}catch(Qw){}}function Wc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ol(e)||"string"==typeof e)Hl(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(Ol(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(Ol(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Kc(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Kc)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qc(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];$c(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)$c(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function $c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(kl=Rc.prototype).setTimeout=function(e){this.P=e},kl.Xa=function(e){e=e.target;var t=this.F;t&&3==Hh(e)?t.f():this.Ca(e)},kl.Ca=function(e){try{if(e==this.a)e:{var t=Hh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!uu&&!this.a.$())){this.A||4!=t||7==n||yc(8==n||0>=r?3:2),qc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(s)){var l=s;break t}}l=null}if(!l){this.b=!1,this.h=3,_c(12),zc(this),Hc(this);break e}fc(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gc(this,l)}this.I?(jc(this,t,o),uu&&this.b&&3==t&&(cc(this.J,this.R,"tick",this.Wa),this.R.start())):(fc(this.c,this.f,o,null),Gc(this,o)),4==t&&zc(this),this.b&&!this.A&&(4==t?sd(this.g,this):(this.b=!1,Uc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_c(12)):(this.h=0,_c(13)),zc(this),Hc(this)}}}catch(u){}},kl.Wa=function(){if(this.a){var e=Hh(this.a),t=this.a.$();this.D<t.length&&(qc(this),jc(this,e,t),this.b&&4!=e&&Uc(this))}},kl.cancel=function(){this.A=!0,zc(this)},kl.Va=function(){this.o=null;var e=Vl();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(yc(3),_c(17)),zc(this),this.h=2,Hc(this)):Bc(this,this.T-e)},(kl=Kc.prototype).K=function(){Qc(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},kl.L=function(){return Qc(this),this.a.concat()},kl.get=function(e,t){return $c(this.b,e)?this.b[e]:t},kl.set=function(e,t){$c(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},kl.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Yc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xc(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Xc){this.a=void 0!==t?t:e.a,Zc(this,e.f),this.j=e.j,eh(this,e.c),th(this,e.h),this.g=e.g,t=e.b;var n=new fh;n.c=t.c,t.a&&(n.a=new Kc(t.a),n.b=t.b),nh(this,n),this.i=e.i}else e&&(n=String(e).match(Yc))?(this.a=!!t,Zc(this,n[1]||"",!0),this.j=oh(n[2]||""),eh(this,n[3]||"",!0),th(this,n[4]),this.g=oh(n[5]||"",!0),nh(this,n[6]||"",!0),this.i=oh(n[7]||"")):(this.a=!!t,this.b=new fh(null,this.a))}function Jc(e){return new Xc(e)}function Zc(e,t,n){e.f=n?oh(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function eh(e,t,n){e.c=n?oh(t,!0):t}function th(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function nh(e,t,n){t instanceof fh?(e.b=t,function(e,t){t&&!e.f&&(ph(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(gh(this,t),vh(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=sh(t,hh)),e.b=new fh(t,e.a))}function rh(e,t,n){e.b.set(t,n)}function ih(e){return rh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Vl()).toString(36)),e}function oh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sh(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ah),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ah(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xc.prototype.toString=function(){var e=[],t=this.f;t&&e.push(sh(t,lh,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(sh(t,lh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(sh(n,"/"==n.charAt(0)?ch:uh,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",sh(n,dh)),e.join("")};var lh=/[#\/\?@]/g,uh=/[#\?:]/g,ch=/[#\?]/g,hh=/[#\?@]/g,dh=/#/g;function fh(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function ph(e){e.a||(e.a=new Kc,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function gh(e,t){ph(e),t=yh(e,t),$c(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,$c((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Qc(e)))}function mh(e,t){return ph(e),t=yh(e,t),$c(e.a.b,t)}function vh(e,t,n){gh(e,t),0<n.length&&(e.c=null,e.a.set(yh(e,t),Gl(n)),e.b+=n.length)}function yh(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(kl=fh.prototype).add=function(e,t){ph(this),this.c=null,e=yh(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},kl.forEach=function(e,t){ph(this),this.a.forEach((function(n,r){Hl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},kl.L=function(){ph(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},kl.K=function(e){ph(this);var t=[];if("string"==typeof e)mh(this,e)&&(t=zl(t,this.a.get(yh(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=zl(t,e[n])}return t},kl.set=function(e,t){return ph(this),this.c=null,mh(this,e=yh(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},kl.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},kl.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var bh=function(){return function(e,t){this.b=e,this.a=t}}();function _h(e){this.g=e||wh,e=Il.PerformanceNavigationTiming?0<(e=Il.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Il.ia&&Il.ia.ya&&Il.ia.ya()&&Il.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var wh=10;function Sh(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Ah(e){return e.b?1:e.a?e.a.size:0}function Ch(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Eh(e,t){e.a?e.a.add(t):e.b=t}function kh(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Th(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=El(e.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Gl(e.c)}function xh(){}function Ih(){this.a=new xh}function Ph(e,t,n){var r=n||"";try{Wc(e,(function(e,n){var i=e;Rl(e)&&(i=Wu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(OS){throw t.push(r+"type="+encodeURIComponent("_badmap")),OS}}function Oh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}_h.prototype.cancel=function(){var e,t;if(this.c=Th(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=El(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},xh.prototype.stringify=function(e){return Il.JSON.stringify(e,void 0)},xh.prototype.parse=function(e){return Il.JSON.parse(e,void 0)};var Rh=Il.JSON.parse;function Nh(e){Hu.call(this),this.headers=new Kc,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Dh,this.D=this.F=!1}Ul(Nh,Hu);var Dh="",Lh=/^https?$/i,Mh=["POST","PUT"];function Fh(e){return"content-type"==e.toLowerCase()}function jh(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Vh(e),Bh(e)}function Vh(e){e.u||(e.u=!0,zu(e,"complete"),zu(e,"error"))}function Uh(e){if(e.b&&void 0!==xl&&(!e.s[1]||4!=Hh(e)||2!=e.W()))if(e.l&&4==Hh(e))oc(e.za,0,e);else if(zu(e,"readystatechange"),4==Hh(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Yc)[1]||null;if(!o&&Il.self&&Il.self.location){var s=Il.self.location.protocol;o=s.substr(0,s.length-1)}i=!Lh.test(o?o.toLowerCase():"")}t=i}if(t)zu(e,"complete"),zu(e,"success");else{e.h=6;try{var a=2<Hh(e)?e.a.statusText:""}catch(n){a=""}e.f=a+" ["+e.W()+"]",Vh(e)}}finally{Bh(e)}}}function Bh(e,t){if(e.a){qh(e);var n=e.a,r=e.s[0]?Pl:null;e.a=null,e.s=null,t||zu(e,"ready");try{n.onreadystatechange=r}catch(OS){}}}function qh(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Il.clearTimeout(e.m),e.m=null)}function Hh(e){return e.a?e.a.readyState:0}function zh(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Zl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):rh(e,t,n))}function Gh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wh(e){this.pa=0,this.g=[],this.c=new dc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Gh("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Gh("baseRetryDelayMs",5e3,e),this.Ra=Gh("retryDelaySeedMs",1e4,e),this.Ma=Gh("forwardChannelMaxRetries",2,e),this.ma=Gh("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new _h(e&&e.concurrentRequestLimit),this.ka=new Ih,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Kh(e){if($h(e),3==e.v){var t=e.R++,n=Jc(e.B);rh(n,"SID",e.J),rh(n,"RID",t),rh(n,"TYPE","terminate"),Zh(e,n),(t=new Rc(e,e.c,t,void 0)).H=2,t.i=ih(Jc(n)),n=!1,Il.navigator&&Il.navigator.sendBeacon&&(n=Il.navigator.sendBeacon(t.i.toString(),"")),!n&&Il.Image&&((new Image).src=t.i,n=!0),n||(t.a=hd(t.g,null),t.a.ba(t.i)),t.u=Vl(),Uc(t)}ud(e)}function Qh(e){e.a&&(rd(e),e.a.cancel(),e.a=null)}function $h(e){Qh(e),e.j&&(Il.clearTimeout(e.j),e.j=null),od(e),e.b.cancel(),e.h&&("number"==typeof e.h&&Il.clearTimeout(e.h),e.h=null)}function Yh(e,t){e.g.push(new bh(e.Oa++,t)),3==e.v&&Xh(e)}function Xh(e){Sh(e.b)||e.h||(e.h=!0,Zu(e.Ba,e),e.u=0)}function Jh(e,t){var n;n=t?t.f:e.R++;var r=Jc(e.B);rh(r,"SID",e.J),rh(r,"RID",n),rh(r,"AID",e.P),Zh(e,r),e.i&&e.l&&zh(r,e.i,e.l),n=new Rc(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=ed(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Eh(e.b,n),Mc(n,r,t)}function Zh(e,t){e.f&&Wc({},(function(e,n){rh(t,n,e)}))}function ed(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Fl(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=o))o=Math.max(0,i[l].b-100),a=!1;else try{Ph(c,s,"req"+u+"_")}catch(Wd){r&&r(c)}}if(a){r=s.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function td(e){e.a||e.j||(e.T=1,Zu(e.Aa,e),e.o=0)}function nd(e){return!(e.a||e.j||3<=e.o||(e.T++,e.j=Sc(Fl(e.Aa,e),ad(e,e.o)),e.o++,0))}function rd(e){null!=e.s&&(Il.clearTimeout(e.s),e.s=null)}function id(e){e.a=new Rc(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Jc(e.la);rh(t,"RID","rpc"),rh(t,"SID",e.J),rh(t,"CI",e.H?"0":"1"),rh(t,"AID",e.P),Zh(e,t),rh(t,"TYPE","xmlhttp"),e.i&&e.l&&zh(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=ih(Jc(t)),n.j=null,n.I=!0,Fc(n,e)}function od(e){null!=e.m&&(Il.clearTimeout(e.m),e.m=null)}function sd(e,t){var n=null;if(e.a==t){od(e),rd(e),e.a=null;var r=2}else{if(!Ch(e.b,t))return;n=t.s,kh(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=Vl()-t.u;var i=e.u;zu(r=mc(),new wc(r,n,t,i)),Xh(e)}else td(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ah(e.b)>=e.b.f-(e.h?1:0)||(e.h?(e.g=t.s.concat(e.g),0):1==e.v||2==e.v||e.u>=(e.La?0:e.Ma)||(e.h=Sc(Fl(e.Ba,e,t),ad(e,e.u)),e.u++,0)))}(e,t)||2==r&&nd(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:ld(e,5);break;case 4:ld(e,10);break;case 3:ld(e,6);break;default:ld(e,2)}}function ad(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ld(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=Fl(e.Ya,e);n||(n=new Xc("//www.google.com/images/cleardot.gif"),Il.location&&"http"==Il.location.protocol||Zc(n,"https"),ih(n)),function(e,t){var n=new dc;if(Il.Image){var r=new Image;r.onload=jl(Oh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=jl(Oh,n,r,"TestLoadImage: error",!1,t),r.onabort=jl(Oh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=jl(Oh,n,r,"TestLoadImage: timeout",!1,t),Il.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _c(2);e.v=0,e.f&&e.f.ra(t),ud(e),$h(e)}function ud(e){e.v=0,e.I=-1,e.f&&(0==Th(e.b).length&&0==e.g.length||(e.b.c.length=0,Gl(e.g),e.g.length=0),e.f.qa())}function cd(e,t,n){var r=function(e){return e instanceof Xc?Jc(e):new Xc(e,void 0)}(n);if(""!=r.c)t&&eh(r,t+"."+r.c),th(r,r.h);else{var i=Il.location;r=function(e,t,n,r){var i=new Xc(null,void 0);return e&&Zc(i,e),t&&eh(i,t),n&&th(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Zl(e.V,(function(e,t){rh(r,t,e)})),n=e.na,(t=e.A)&&n&&rh(r,t,n),rh(r,"VER",e.ha),Zh(e,r),r}function hd(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Nh(e.Na)).F=e.C,t}function dd(){}function fd(){if(au&&!(10<=Number(yu)))throw Error("Environmental error: no available transport.")}function pd(e,t){Hu.call(this),this.a=new Wh(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Wl(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wl(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new vd(this)}function gd(e){Ic.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function md(){Pc.call(this),this.status=1}function vd(e){this.a=e}(kl=Nh.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(e){var t;return(t=e.a)||(t=e.a={}),t}(this.H?this.H:Tc),this.a.onreadystatechange=Fl(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void jh(this,o)}e=n||"";var i=new Kc(this.headers);r&&Wc(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Fh,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.L()),n=Il.FormData&&e instanceof Il.FormData,!(0<=ql(Mh,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{qh(this),0<this.o&&((this.D=function(e){return au&&vu(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Fl(this.xa,this)):this.m=oc(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){jh(this,o)}},kl.xa=function(){void 0!==xl&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,zu(this,"timeout"),this.abort(8))},kl.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,zu(this,"complete"),zu(this,"abort"),Bh(this))},kl.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Bh(this,!0)),Nh.X.G.call(this)},kl.za=function(){this.j||(this.A||this.l||this.g?Uh(this):this.Ua())},kl.Ua=function(){Uh(this)},kl.W=function(){try{return 2<Hh(this)?this.a.status:-1}catch(ou){return-1}},kl.$=function(){try{return this.a?this.a.responseText:""}catch(ou){return""}},kl.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Rh(t)}},kl.ua=function(){return this.h},kl.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(kl=Wh.prototype).ha=8,kl.v=1,kl.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new Rc(this,this.c,e,void 0),r=this.l;if(this.O&&(r?nu(r=eu(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=ed(this,n,t),rh(i=Jc(this.B),"RID",e),rh(i,"CVER",22),this.A&&rh(i,"X-HTTP-Session-Id",this.A),Zh(this,i),this.i&&r&&zh(i,this.i,r),Eh(this.b,n),this.Ia&&rh(i,"TYPE","init"),this.da?(rh(i,"$req",t),rh(i,"SID","null"),n.U=!0,Mc(n,i,null)):Mc(n,i,t),this.v=2}}else 3==this.v&&(e?Jh(this,e):0==this.g.length||Sh(this.b)||Jh(this))},kl.Aa=function(){if(this.j=null,id(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Sc(Fl(this.Ta,this),e)}},kl.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_c(10),Qh(this),id(this))},kl.Sa=function(){null!=this.m&&(this.m=null,Qh(this),nd(this),_c(19))},kl.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),_c(2)):(this.c.info("Failed to ping google.com"),_c(1))},(kl=dd.prototype).ta=function(){},kl.sa=function(){},kl.ra=function(){},kl.qa=function(){},kl.Ja=function(){},fd.prototype.a=function(e,t){return new pd(e,t)},Ul(pd,Hu),pd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;_c(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=cd(e,null,e.fa),Xh(e)},pd.prototype.close=function(){Kh(this.a)},pd.prototype.h=function(e){if("string"==typeof e){var t={};t.__data__=e,Yh(this.a,t)}else this.l?((t={}).__data__=Wu(e),Yh(this.a,t)):Yh(this.a,e)},pd.prototype.G=function(){this.a.f=null,delete this.f,Kh(this.a),delete this.a,pd.X.G.call(this)},Ul(gd,Ic),Ul(md,Pc),Ul(vd,dd),vd.prototype.ta=function(){zu(this.a,"a")},vd.prototype.sa=function(e){zu(this.a,new gd(e))},vd.prototype.ra=function(e){zu(this.a,new md(e))},vd.prototype.qa=function(){zu(this.a,"b")},fd.prototype.createWebChannel=fd.prototype.a,pd.prototype.send=pd.prototype.h,pd.prototype.open=pd.prototype.g,pd.prototype.close=pd.prototype.close,Ac.NO_ERROR=0,Ac.TIMEOUT=8,Ac.HTTP_ERROR=6,Cc.COMPLETE="complete",kc.EventType=xc,xc.OPEN="a",xc.CLOSE="b",xc.ERROR="c",xc.MESSAGE="d",Hu.prototype.listen=Hu.prototype.va,Nh.prototype.listenOnce=Nh.prototype.wa,Nh.prototype.getLastError=Nh.prototype.Qa,Nh.prototype.getLastErrorCode=Nh.prototype.ua,Nh.prototype.getStatus=Nh.prototype.W,Nh.prototype.getResponseJson=Nh.prototype.Pa,Nh.prototype.getResponseText=Nh.prototype.$,Nh.prototype.send=Nh.prototype.ba;var yd=Ac,bd=Cc,_d=pc,wd=kc,Sd=Nh,Ad=function(e,t){return(Ad=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Cd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ad(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Ed(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(OS){o(OS)}}function a(e){try{l(r.throw(e))}catch(OS){o(OS)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function kd(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(OS){o=[6,OS],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Td(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var xd=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();xd.o=-1;var Id={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pd=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Cd(t,e),t}(Error),Od=new Al.b("@firebase/firestore");function Rd(){return Od.logLevel}function Nd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Od.logLevel<=Al.a.DEBUG){var r=t.map(Md);Od.debug.apply(Od,Td(["Firestore (8.6.2): "+e],r))}}function Dd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Od.logLevel<=Al.a.ERROR){var r=t.map(Md);Od.error.apply(Od,Td(["Firestore (8.6.2): "+e],r))}}function Ld(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Od.logLevel<=Al.a.WARN){var r=t.map(Md);Od.warn.apply(Od,Td(["Firestore (8.6.2): "+e],r))}}function Md(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(OS){return e}}function Fd(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+e;throw Dd(t),new Error(t)}function jd(e,t){e||Fd()}function Vd(e,t){return e}function Ud(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bd=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ud(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function qd(e,t){return e<t?-1:e>t?1:0}function Hd(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function zd(e){return e+"\0"}var Gd=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pd(Id.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pd(Id.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pd(Id.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pd(Id.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?qd(this.nanoseconds,e.nanoseconds):qd(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Wd=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Gd(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Kd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Qd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $d(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yd=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Fd(),void 0===n?n=e.length-t:n>e.length-t&&Fd(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Xd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Pd(Id.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Yd),Jd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Jd.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Pd(Id.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new Pd(Id.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Pd(Id.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Pd(Id.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Yd),ef=function(){function e(e){this.fields=e,e.sort(Zd.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Hd(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),tf=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return qd(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();tf.EMPTY_BYTE_STRING=new tf("");var nf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rf(e){if(jd(!!e),"string"==typeof e){var t=0,n=nf.exec(e);if(jd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:of(e.seconds),nanos:of(e.nanos)}}function of(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sf(e){return"string"==typeof e?tf.fromBase64String(e):tf.fromUint8Array(e)}function af(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lf(e){var t=rf(e.mapValue.fields.__local_write_time__.timestampValue);return new Gd(t.seconds,t.nanos)}function uf(e){return null==e}function cf(e){return 0===e&&1/e==-1/0}function hf(e){return"number"==typeof e&&Number.isInteger(e)&&!cf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var df=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Xd.fromString(t))},e.fromName=function(t){return new e(Xd.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Xd.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Xd.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Xd(t.slice()))},e}();function ff(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?af(e)?4:10:Fd()}function pf(e,t){var n=ff(e);if(n!==ff(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lf(e).isEqual(lf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rf(e.timestampValue),r=rf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sf(e.bytesValue).isEqual(sf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return of(e.geoPointValue.latitude)===of(t.geoPointValue.latitude)&&of(e.geoPointValue.longitude)===of(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return of(e.integerValue)===of(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=of(e.doubleValue),r=of(t.doubleValue);return n===r?cf(n)===cf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hd(e.arrayValue.values||[],t.arrayValue.values||[],pf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Kd(n)!==Kd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pf(n[i],r[i])))return!1;return!0}(e,t);default:return Fd()}}function gf(e,t){return void 0!==(e.values||[]).find((function(e){return pf(e,t)}))}function mf(e,t){var n=ff(e),r=ff(t);if(n!==r)return qd(n,r);switch(n){case 0:return 0;case 1:return qd(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=of(e.integerValue||e.doubleValue),r=of(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vf(e.timestampValue,t.timestampValue);case 4:return vf(lf(e),lf(t));case 5:return qd(e.stringValue,t.stringValue);case 6:return function(e,t){var n=sf(e),r=sf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=qd(n[i],r[i]);if(0!==o)return o}return qd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qd(of(e.latitude),of(t.latitude));return 0!==n?n:qd(of(e.longitude),of(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=mf(n[i],r[i]);if(o)return o}return qd(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=qd(r[s],o[s]);if(0!==a)return a;var l=mf(n[r[s]],i[o[s]]);if(0!==l)return l}return qd(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Fd()}}function vf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qd(e,t);var n=rf(e),r=rf(t),i=qd(n.seconds,r.seconds);return 0!==i?i:qd(n.nanos,r.nanos)}function yf(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=rf(e);return"time("+t.seconds+","+t.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?sf(t.bytesValue).toBase64():"referenceValue"in t?df.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+e(t.fields[s])}return n+"}"}(t.mapValue):Fd();var n}(e)}function bf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function _f(e){return!!e&&"integerValue"in e}function wf(e){return!!e&&"arrayValue"in e}function Sf(e){return!!e&&"nullValue"in e}function Af(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cf(e){return!!e&&"mapValue"in e}var Ef=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Zd.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return pf(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ff(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),s=Cf(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(s[n]=o,i=!0)}else null!==e?(s[n]=e,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)})),i?{mapValue:{fields:s}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(Zd.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!Cf(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function kf(e){var t=[];return Qd(e.fields||{},(function(e,n){var r=new Zd([e]);if(Cf(n)){var i=kf(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++)t.push(r.child(s[o]))}else t.push(r)})),new ef(t)}var Tf=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Wd.min(),Ef.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ef.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ef.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ef.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ef.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),xf=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function If(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new xf(e,t,n,r,i,o,s)}function Pf(e){var t=Vd(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+yf(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),uf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Hf(t.startAt)),t.endAt&&(n+="|ub:",n+=Hf(t.endAt)),t.h=n}return t.h}function Of(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Gf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(o=t.filters[r]).op||!i.field.isEqual(o.field)||!pf(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kf(e.startAt,t.startAt)&&Kf(e.endAt,t.endAt)}function Rf(e){return df.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Nf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Cd(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Df(e,n,r):"array-contains"===n?new jf(e,r):"in"===n?new Vf(e,r):"not-in"===n?new Uf(e,r):"array-contains-any"===n?new Bf(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Lf(e,n):new Mf(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(mf(t,this.value)):null!==t&&ff(this.value)===ff(t)&&this.m(mf(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fd()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Df=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=df.fromName(r.referenceValue),i}return Cd(t,e),t.prototype.matches=function(e){var t=df.comparator(e.key,this.key);return this.m(t)},t}(Nf),Lf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ff(0,n),r}return Cd(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Nf),Mf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ff(0,n),r}return Cd(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Nf);function Ff(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return df.fromName(e.referenceValue)}))}var jf=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Cd(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return wf(t)&&gf(t.arrayValue,this.value)},t}(Nf),Vf=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Cd(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&gf(this.value.arrayValue,t)},t}(Nf),Uf=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Cd(t,e),t.prototype.matches=function(e){if(gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gf(this.value.arrayValue,t)},t}(Nf),Bf=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Cd(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gf(t.value.arrayValue,e)}))},t}(Nf),qf=function(e,t){this.position=e,this.before=t};function Hf(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return yf(e)})).join(",")}var zf=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Gf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Wf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?df.comparator(df.fromName(s.referenceValue),n.key):mf(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Kf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pf(e.position[n],t.position[n]))return!1;return!0}var Qf=function(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function $f(e,t,n,r,i,o,s,a){return new Qf(e,t,n,r,i,o,s,a)}function Yf(e){return new Qf(e)}function Xf(e){return!uf(e.limit)&&"F"===e.limitType}function Jf(e){return!uf(e.limit)&&"L"===e.limitType}function Zf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ep(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function tp(e){return null!==e.collectionGroup}function np(e){var t=Vd(e);if(null===t.p){t.p=[];var n=ep(t),r=Zf(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new zf(n)),t.p.push(new zf(Zd.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var a=s[o];t.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new zf(Zd.keyField(),l))}}}return t.p}function rp(e){var t=Vd(e);if(!t.T)if("F"===t.limitType)t.T=If(t.path,t.collectionGroup,np(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=np(t);r<i.length;r++){var o=i[r];n.push(new zf(o.field,"desc"===o.dir?"asc":"desc"))}var s=t.endAt?new qf(t.endAt.position,!t.endAt.before):null,a=t.startAt?new qf(t.startAt.position,!t.startAt.before):null;t.T=If(t.path,t.collectionGroup,n,t.filters,t.limit,s,a)}return t.T}function ip(e,t,n){return new Qf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function op(e,t){return Of(rp(e),rp(t))&&e.limitType===t.limitType}function sp(e){return Pf(rp(e))+"|lt:"+e.limitType}function ap(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+yf(t.value);var t})).join(", ")+"]"),uf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Hf(e.startAt)),e.endAt&&(t+=", endAt: "+Hf(e.endAt)),"Target("+t+")"}(rp(e))+"; limitType="+e.limitType+")"}function lp(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):df.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Wf(e.startAt,np(e),t)||e.endAt&&Wf(e.endAt,np(e),t))}(e,t)}function up(e){return function(t,n){for(var r=!1,i=0,o=np(e);i<o.length;i++){var s=o[i],a=cp(s,t,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function cp(e,t,n){var r=e.field.isKeyField()?df.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mf(r,i):Fd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fd()}}function hp(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(t)?"-0":t}}function dp(e){return{integerValue:""+e}}function fp(e,t){return hf(t)?dp(t):hp(e,t)}var pp=function(){this._=void 0};function gp(e,t,n){return e instanceof yp?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bp?_p(e,t):e instanceof wp?Sp(e,t):function(e,t){var n=vp(e,t),r=Cp(n)+Cp(e.A);return _f(n)&&_f(e.A)?dp(r):hp(e.R,r)}(e,t)}function mp(e,t,n){return e instanceof bp?_p(e,t):e instanceof wp?Sp(e,t):n}function vp(e,t){return e instanceof Ap?_f(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t}(pp),bp=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Cd(t,e),t}(pp);function _p(e,t){for(var n=Ep(t),r=function(e){n.some((function(t){return pf(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wp=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Cd(t,e),t}(pp);function Sp(e,t){for(var n=Ep(t),r=function(e){n=n.filter((function(t){return!pf(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ap=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Cd(t,e),t}(pp);function Cp(e){return of(e.integerValue||e.doubleValue)}function Ep(e){return wf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var kp=function(e,t){this.field=e,this.transform=t},Tp=function(e,t){this.version=e,this.transformResults=t},xp=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Ip(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pp=function(){};function Op(e,t,n){e instanceof Mp?function(e,t,n){var r=e.value.clone(),i=Vp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Fp?function(e,t,n){if(Ip(e.precondition,t)){var r=Vp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rp(e,t,n){e instanceof Mp?function(e,t,n){if(Ip(e.precondition,t)){var r=e.value.clone(),i=Up(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Lp(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Fp?function(e,t,n){if(Ip(e.precondition,t)){var r=Up(e.fieldTransforms,n,t),i=t.data;i.setAll(jp(e)),i.setAll(r),t.convertToFoundDocument(Lp(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ip(e.precondition,t)&&t.convertToNoDocument(Wd.min())}(e,t)}function Np(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),a=vp(o.transform,s||null);null!=a&&(null==n&&(n=Ef.empty()),n.set(o.field,a))}return n||null}function Dp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Hd(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bp&&t instanceof bp||e instanceof wp&&t instanceof wp?Hd(e.elements,t.elements,pf):e instanceof Ap&&t instanceof Ap?pf(e.A,t.A):e instanceof yp&&t instanceof yp}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Lp(e){return e.isFoundDocument()?e.version:Wd.min()}var Mp=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Cd(t,e),t}(Pp),Fp=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=e.call(this)||this).key=t,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Cd(t,e),t}(Pp);function jp(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Vp(e,t,n){var r=new Map;jd(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,mp(s,a,n[i]))}return r}function Up(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],a=s.transform,l=n.data.field(s.field);r.set(s.field,gp(a,l,t))}return r}var Bp,qp,Hp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Cd(t,e),t}(Pp),zp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Cd(t,e),t}(Pp),Gp=function(e){this.count=e};function Wp(e){switch(e){case Id.OK:return Fd();case Id.CANCELLED:case Id.UNKNOWN:case Id.DEADLINE_EXCEEDED:case Id.RESOURCE_EXHAUSTED:case Id.INTERNAL:case Id.UNAVAILABLE:case Id.UNAUTHENTICATED:return!1;case Id.INVALID_ARGUMENT:case Id.NOT_FOUND:case Id.ALREADY_EXISTS:case Id.PERMISSION_DENIED:case Id.FAILED_PRECONDITION:case Id.ABORTED:case Id.OUT_OF_RANGE:case Id.UNIMPLEMENTED:case Id.DATA_LOSS:return!0;default:return Fd()}}function Kp(e){if(void 0===e)return Dd("GRPC error has no .code"),Id.UNKNOWN;switch(e){case Bp.OK:return Id.OK;case Bp.CANCELLED:return Id.CANCELLED;case Bp.UNKNOWN:return Id.UNKNOWN;case Bp.DEADLINE_EXCEEDED:return Id.DEADLINE_EXCEEDED;case Bp.RESOURCE_EXHAUSTED:return Id.RESOURCE_EXHAUSTED;case Bp.INTERNAL:return Id.INTERNAL;case Bp.UNAVAILABLE:return Id.UNAVAILABLE;case Bp.UNAUTHENTICATED:return Id.UNAUTHENTICATED;case Bp.INVALID_ARGUMENT:return Id.INVALID_ARGUMENT;case Bp.NOT_FOUND:return Id.NOT_FOUND;case Bp.ALREADY_EXISTS:return Id.ALREADY_EXISTS;case Bp.PERMISSION_DENIED:return Id.PERMISSION_DENIED;case Bp.FAILED_PRECONDITION:return Id.FAILED_PRECONDITION;case Bp.ABORTED:return Id.ABORTED;case Bp.OUT_OF_RANGE:return Id.OUT_OF_RANGE;case Bp.UNIMPLEMENTED:return Id.UNIMPLEMENTED;case Bp.DATA_LOSS:return Id.DATA_LOSS;default:return Fd()}}(qp=Bp||(Bp={}))[qp.OK=0]="OK",qp[qp.CANCELLED=1]="CANCELLED",qp[qp.UNKNOWN=2]="UNKNOWN",qp[qp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qp[qp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qp[qp.NOT_FOUND=5]="NOT_FOUND",qp[qp.ALREADY_EXISTS=6]="ALREADY_EXISTS",qp[qp.PERMISSION_DENIED=7]="PERMISSION_DENIED",qp[qp.UNAUTHENTICATED=16]="UNAUTHENTICATED",qp[qp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qp[qp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qp[qp.ABORTED=10]="ABORTED",qp[qp.OUT_OF_RANGE=11]="OUT_OF_RANGE",qp[qp.UNIMPLEMENTED=12]="UNIMPLEMENTED",qp[qp.INTERNAL=13]="INTERNAL",qp[qp.UNAVAILABLE=14]="UNAVAILABLE",qp[qp.DATA_LOSS=15]="DATA_LOSS";var Qp=function(){function e(e,t){this.comparator=e,this.root=t||Yp.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yp.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yp.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new $p(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new $p(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new $p(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new $p(this.root,e,this.comparator,!0)},e}(),$p=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Yp=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Fd();if(this.right.isRed())throw Fd();var e=this.left.check();if(e!==this.right.check())throw Fd();return e+(this.isRed()?0:1)},e}();Yp.EMPTY=null,Yp.RED=!0,Yp.BLACK=!1,Yp.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Fd()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Yp(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Xp=function(){function e(e){this.comparator=e,this.data=new Qp(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Jp(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Jp(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Jp=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Zp=new Qp(df.comparator);function eg(){return Zp}var tg=new Qp(df.comparator);function ng(){return tg}var rg=new Qp(df.comparator);function ig(){return rg}var og=new Xp(df.comparator);function sg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=og,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ag=new Xp(qd);function lg(){return ag}var ug=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,cg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Wd.min(),r,lg(),eg(),sg())},e}(),cg=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(tf.EMPTY_BYTE_STRING,n,sg(),sg(),sg())},e}(),hg=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},dg=function(e,t){this.targetId=e,this.V=t},fg=function(e,t,n,r){void 0===n&&(n=tf.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},pg=function(){function e(){this.S=0,this.D=vg(),this.C=tf.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=sg(),t=sg(),n=sg();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fd()}})),new cg(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=vg()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),gg=function(){function e(e){this.W=e,this.G=new Map,this.H=eg(),this.J=mg(),this.Y=new Xp(qd)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)this.tt(r=o[i],e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:Fd()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Rf(i))if(0===n){var o=new df(i.path);this.tt(t,o,Tf.newNoDocument(o,Wd.min()))}else jd(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.at=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Rf(o.target)){var s=new df(o.target.path);null!==t.H.get(s)||t.ut(i,s)||t.tt(i,s,Tf.newNoDocument(s,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=sg();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ug(e,n,this.Y,this.H,r);return this.H=eg(),this.J=mg(),this.Y=new Xp(qd),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.ut(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.ut(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new pg,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Xp(qd),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Nd("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new pg),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.ut=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function mg(){return new Qp(df.comparator)}function vg(){return new Qp(df.comparator)}var yg={asc:"ASCENDING",desc:"DESCENDING"},bg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_g=function(e,t){this.databaseId=e,this.I=t};function wg(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sg(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ag(e,t){return wg(e,t.toTimestamp())}function Cg(e){return jd(!!e),Wd.fromTimestamp(function(e){var t=rf(e);return new Gd(t.seconds,t.nanos)}(e))}function Eg(e,t){return function(e){return new Xd(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function kg(e){var t=Xd.fromString(e);return jd($g(t)),t}function Tg(e,t){return Eg(e.databaseId,t.path)}function xg(e,t){var n=kg(t);if(n.get(1)!==e.databaseId.projectId)throw new Pd(Id.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Pd(Id.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new df(Rg(n))}function Ig(e,t){return Eg(e.databaseId,t)}function Pg(e){var t=kg(e);return 4===t.length?Xd.emptyPath():Rg(t)}function Og(e){return new Xd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rg(e){return jd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ng(e,t,n){return{name:Tg(e,t),fields:n.toProto().mapValue.fields}}function Dg(e,t,n){var r=xg(e,t.name),i=Cg(t.updateTime),o=new Ef({mapValue:{fields:t.fields}}),s=Tf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Lg(e,t){var n;if(t instanceof Mp)n={update:Ng(e,t.key,t.value)};else if(t instanceof Hp)n={delete:Tg(e,t.key)};else if(t instanceof Fp)n={update:Ng(e,t.key,t.data),updateMask:Qg(t.fieldMask)};else{if(!(t instanceof zp))return Fd();n={verify:Tg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ap)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Fd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ag(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fd()}(e,t.precondition)),n}function Mg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?xp.updateTime(Cg(e.updateTime)):void 0!==e.exists?xp.exists(e.exists):xp.none()}(t.currentDocument):xp.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;"setToServerValue"in t?(jd("REQUEST_TIME"===t.setToServerValue),n=new yp):"appendMissingElements"in t?n=new bp(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new wp(t.removeAllFromArray.values||[]):"increment"in t?n=new Ap(e,t.increment):Fd();var r=Zd.fromServerFormat(t.fieldPath);return new kp(r,n)}(e,t)})):[];if(t.update){var i=xg(e,t.update.name),o=new Ef({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(e){return new ef((e.fieldPaths||[]).map((function(e){return Zd.fromServerFormat(e)})))}(t.updateMask);return new Fp(i,o,s,n,r)}return new Mp(i,o,n,r)}if(t.delete){var a=xg(e,t.delete);return new Hp(a,n)}if(t.verify){var l=xg(e,t.verify);return new zp(l,n)}return Fd()}function Fg(e,t){return{documents:[Ig(e,t.path)]}}function jg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ig(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ig(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Af(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NAN"}};if(Sf(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Af(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NOT_NAN"}};if(Sf(e.value))return{unaryFilter:{field:zg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zg(e.field),op:Hg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:zg(e.field),direction:qg(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.I||uf(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Ug(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ug(t.endAt)),n}function Vg(e){var t=Pg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=function e(t){return t?void 0!==t.unaryFilter?[Kg(t)]:void 0!==t.fieldFilter?[Wg(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):Fd():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(e){return function(e){return new zf(Gg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var l=null;n.limit&&(l=function(e){var t;return uf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var u=null;n.startAt&&(u=Bg(n.startAt));var c=null;return n.endAt&&(c=Bg(n.endAt)),$f(t,i,a,s,l,"F",u,c)}function Ug(e){return{before:e.before,values:e.position}}function Bg(e){return new qf(e.values||[],!!e.before)}function qg(e){return yg[e]}function Hg(e){return bg[e]}function zg(e){return{fieldPath:e.canonicalString()}}function Gg(e){return Zd.fromServerFormat(e.fieldPath)}function Wg(e){return Nf.create(Gg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Fd()}}(e.fieldFilter.op),e.fieldFilter.value)}function Kg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Gg(e.unaryFilter.field);return Nf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Gg(e.unaryFilter.field);return Nf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Gg(e.unaryFilter.field);return Nf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Gg(e.unaryFilter.field);return Nf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Fd()}}function Qg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function $g(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Yg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Jg(t)),t=Xg(e.get(n),t);return Jg(t)}function Xg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Jg(e){return e+"\x01\x01"}function Zg(e){var t=e.length;if(jd(t>=2),2===t)return jd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Xd.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&Fd(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:Fd()}o=s+2}return new Xd(r)}var em=function(e,t){this.seconds=e,this.nanoseconds=t},tm=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};tm.store="owner",tm.key="owner";var nm=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};nm.store="mutationQueues",nm.keyPath="userId";var rm=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};rm.store="mutations",rm.keyPath="batchId",rm.userMutationsIndex="userMutationsIndex",rm.userMutationsKeyPath=["userId","batchId"];var im=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Yg(t)]},e.key=function(e,t,n){return[e,Yg(t),n]},e}();im.store="documentMutations",im.PLACEHOLDER=new im;var om=function(e,t){this.path=e,this.readTime=t},sm=function(e,t){this.path=e,this.version=t},am=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};am.store="remoteDocuments",am.readTimeIndex="readTimeIndex",am.readTimeIndexPath="readTime",am.collectionReadTimeIndex="collectionReadTimeIndex",am.collectionReadTimeIndexPath=["parentPath","readTime"];var lm=function(e){this.byteSize=e};lm.store="remoteDocumentGlobal",lm.key="remoteDocumentGlobalKey";var um=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};um.store="targets",um.keyPath="targetId",um.queryTargetsIndexName="queryTargetsIndex",um.queryTargetsKeyPath=["canonicalId","targetId"];var cm=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};cm.store="targetDocuments",cm.keyPath=["targetId","path"],cm.documentTargetsIndex="documentTargetsIndex",cm.documentTargetsKeyPath=["path","targetId"];var hm=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};hm.key="targetGlobalKey",hm.store="targetGlobal";var dm=function(e,t){this.collectionId=e,this.parent=t};dm.store="collectionParents",dm.keyPath=["collectionId","parent"];var fm=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};fm.store="clientMetadata",fm.keyPath="clientId";var pm=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};pm.store="bundles",pm.keyPath="bundleId";var gm=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};gm.store="namedQueries",gm.keyPath="name";var mm=Td(Td([],Td(Td([],Td(Td([],Td(Td([],[nm.store,rm.store,im.store,am.store,um.store,tm.store,hm.store,cm.store]),[fm.store])),[lm.store])),[dm.store])),[pm.store,gm.store]),vm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ym=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),bm=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},_m=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Fd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),wm=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new bm,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Cm(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Im(t.target.error);n.ft.reject(new Cm(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Cm(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Nd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new km(t)},e}(),Sm=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(Object(Sl.i)())&&Dd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Nd("SimpleDb","Removing database:",e),Tm(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=Object(Sl.i)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Ed(this,void 0,void 0,(function(){var t,n=this;return kd(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Nd("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){t(e.target.result)},i.onblocked=function(){r(new Cm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new Pd(Id.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Cm(e,n))},i.onupgradeneeded=function(e){Nd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion),n.wt.Rt(e.target.result,i.transaction,e.oldVersion,n.version).next((function(){Nd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Ed(this,void 0,void 0,(function(){var i,o,s,a,l;return kd(this,(function(u){switch(u.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,l,u,c;return kd(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(e)];case 2:return a.db=h.sent(),t=wm.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),_m.reject(e)})).toPromise(),l={},s.catch((function(){})),[4,t.dt];case 3:return[2,(l.value=(h.sent(),s),l)];case 4:return Nd("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",c="FirebaseError"!==u.name&&o<3),a.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Am=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Tm(this.Pt.delete())},e}(),Cm=function(e){function t(t,n){var r=this;return(r=e.call(this,Id.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Cd(t,e),t}(Pd);function Em(e){return"IndexedDbTransactionError"===e.name}var km=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Nd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Nd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Tm(n)},e.prototype.add=function(e){return Nd("SimpleDb","ADD",this.store.name,e,e),Tm(this.store.add(e))},e.prototype.get=function(e){var t=this;return Tm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Nd("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Nd("SimpleDb","DELETE",this.store.name,e),Tm(this.store.delete(e))},e.prototype.count=function(){return Nd("SimpleDb","COUNT",this.store.name),Tm(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){Nd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new _m((function(n,r){t.onerror=function(e){var t=Im(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new _m((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Am(i),s=t(i.primaryKey,i.value,o);if(s instanceof _m){var a=s.catch((function(e){return o.done(),_m.reject(e)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return _m.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Tm(e){return new _m((function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Im(e.target.error);n(t)}}))}var xm=!1;function Im(e){var t=Sm._t(Object(Sl.i)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Pd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xm||(xm=!0,setTimeout((function(){throw r}),0)),r}}return e}var Pm=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Cd(t,e),t}(ym);function Om(e,t){var n=Vd(e);return Sm.It(n.Mt,t)}var Rm=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Op(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Rp(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Rp(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Wd.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sg())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Hd(this.mutations,e.mutations,(function(e,t){return Dp(e,t)}))&&Hd(this.baseMutations,e.baseMutations,(function(e,t){return Dp(e,t)}))},e}(),Nm=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){jd(t.mutations.length===r.length);for(var i=ig(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),Dm=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=Wd.min()),void 0===o&&(o=Wd.min()),void 0===s&&(s=tf.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Lm=function(e){this.Lt=e};function Mm(e,t){if(t.document)return Dg(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=df.fromSegments(t.noDocument.path),r=Bm(t.noDocument.readTime),i=Tf.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=df.fromSegments(t.unknownDocument.path);return r=Bm(t.unknownDocument.version),Tf.newUnknownDocument(o,r)}return Fd()}function Fm(e,t,n){var r=jm(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Tg(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:wg(e,t.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new am(null,null,o,s,r,i)}if(t.isNoDocument()){var a=t.key.path.toArray(),l=Um(t.version);return s=t.hasCommittedMutations,new am(null,new om(a,l),null,s,r,i)}if(t.isUnknownDocument()){var u=t.key.path.toArray(),c=Um(t.version);return new am(new sm(u,c),null,null,!0,r,i)}return Fd()}function jm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Vm(e){var t=new Gd(e[0],e[1]);return Wd.fromTimestamp(t)}function Um(e){var t=e.toTimestamp();return new em(t.seconds,t.nanoseconds)}function Bm(e){var t=new Gd(e.seconds,e.nanoseconds);return Wd.fromTimestamp(t)}function qm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Mg(e.Lt,t)})),r=0;r<t.mutations.length-1;++r)r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(t.mutations[r].updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r);var i=t.mutations.map((function(t){return Mg(e.Lt,t)})),o=Gd.fromMillis(t.localWriteTimeMs);return new Rm(t.batchId,o,n,i)}function Hm(e){var t,n,r=Bm(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Bm(e.lastLimboFreeSnapshotVersion):Wd.min();return void 0!==e.query.documents?(jd(1===(n=e.query).documents.length),t=rp(Yf(Pg(n.documents[0])))):t=function(e){return rp(Vg(e))}(e.query),new Dm(t,e.targetId,0,e.lastListenSequenceNumber,r,i,tf.fromBase64String(e.resumeToken))}function zm(e,t){var n,r=Um(t.snapshotVersion),i=Um(t.lastLimboFreeSnapshotVersion);n=Rf(t.target)?Fg(e.Lt,t.target):jg(e.Lt,t.target);var o=t.resumeToken.toBase64();return new um(t.targetId,Pf(t.target),r,o,t.sequenceNumber,i,n)}function Gm(e){var t=Vg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ip(t,t.limit,"L"):t}var Wm=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Km(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Bm(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Km(e).put({bundleId:(n=t).id,createTime:Um(Cg(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Qm(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Gm(t.bundledQuery),readTime:Bm(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Qm(e).put(function(e){return{name:e.name,readTime:Um(Cg(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Km(e){return Om(e,pm.store)}function Qm(e){return Om(e,gm.store)}var $m=function(){function e(){this.Bt=new Ym}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),_m.resolve()},e.prototype.getCollectionParents=function(e,t){return _m.resolve(this.Bt.getEntries(t))},e}(),Ym=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xp(Xd.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Xp(Xd.comparator)).toArray()},e}(),Xm=function(){function e(){this.qt=new Ym}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Yg(i)};return Jm(e).put(o)}return _m.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[zd(t),""],!1,!0);return Jm(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Zg(o.parent))}return n}))},e}();function Jm(e){return Om(e,dm.store)}var Zm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ev=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function tv(e,t,n){var r=e.store(rm.store),i=e.store(im.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=r.Ot({range:s},(function(e,t,n){return a++,n.delete()}));o.push(l.next((function(){jd(1===a)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=im.key(t,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return _m.waitFor(o).next((function(){return u}))}function nv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fd();t=e.noDocument}return JSON.stringify(t).length}ev.DEFAULT_COLLECTION_PERCENTILE=10,ev.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ev.DEFAULT=new ev(41943040,ev.DEFAULT_COLLECTION_PERCENTILE,ev.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ev.DISABLED=new ev(-1,0,0);var rv=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return jd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ov(e).Ot({index:rm.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=sv(e),s=ov(e);return s.add({}).next((function(a){jd("number"==typeof a);for(var l=new Rm(a,t,n,r),u=function(e,t,n){var r=n.baseMutations.map((function(t){return Lg(e.Lt,t)})),i=n.mutations.map((function(t){return Lg(e.Lt,t)}));return new rm(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,l),c=[],h=new Xp((function(e,t){return qd(e.canonicalString(),t.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],g=im.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),c.push(s.put(u)),c.push(o.put(g,im.PLACEHOLDER))}return h.forEach((function(t){c.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[a]=l.keys()})),_m.waitFor(c).next((function(){return l}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return ov(e).get(t).next((function(e){return e?(jd(e.userId===n.userId),qm(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?_m.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ov(e).Ot({index:rm.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(jd(t.batchId>=r),o=qm(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ov(e).Ot({index:rm.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ov(e).Nt(rm.userMutationsIndex,n).next((function(e){return e.map((function(e){return qm(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=im.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return sv(e).Ot({range:i},(function(r,i,s){var a=r[0],l=r[2],u=Zg(r[1]);if(a===n.userId&&t.path.isEqual(u))return ov(e).get(l).next((function(e){if(!e)throw Fd();jd(e.userId===n.userId),o.push(qm(n.R,e))}));s.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Xp(qd),i=[];return t.forEach((function(t){var o=im.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=sv(e).Ot({range:s},(function(e,i,o){var s=e[0],a=e[2],l=Zg(e[1]);s===n.userId&&t.path.isEqual(l)?r=r.add(a):o.done()}));i.push(a)})),_m.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=im.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Xp(qd);return sv(e).Ot({range:s},(function(e,t,o){var s=e[0],l=e[2],u=Zg(e[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(l)):o.done()})).next((function(){return n.Wt(e,a)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ov(e).get(t).next((function(e){if(null===e)throw Fd();jd(e.userId===n.userId),r.push(qm(n.R,e))})))})),_m.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return tv(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),_m.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _m.resolve();var r=IDBKeyRange.lowerBound(im.prefixForUser(t.userId)),i=[];return sv(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Zg(e[1]);i.push(o)}else r.done()})).next((function(){jd(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return iv(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return av(e).get(this.userId).next((function(e){return e||new nm(t.userId,-1,"")}))},e}();function iv(e,t,n){var r=im.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return sv(e).Ot({range:o,kt:!0},(function(e,n,r){e[0]===t&&e[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function ov(e){return Om(e,rm.store)}function sv(e){return Om(e,im.store)}function av(e){return Om(e,nm.store)}var lv=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),uv=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new lv(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Wd.fromTimestamp(new Gd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return cv(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return jd(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return cv(e).Ot((function(s,a){var l=Hm(a);l.sequenceNumber<=t&&null===n.get(l.targetId)&&(i++,o.push(r.removeTargetData(e,l)))})).next((function(){return _m.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return cv(e).Ot((function(e,n){var r=Hm(n);t(r)}))},e.prototype.Xt=function(e){return hv(e).get(hm.key).next((function(e){return jd(null!==e),e}))},e.prototype.Zt=function(e,t){return hv(e).put(hm.key,t)},e.prototype.te=function(e,t){return cv(e).put(zm(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Pf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cv(e).Ot({range:r,index:um.queryTargetsIndexName},(function(e,n,r){var o=Hm(n);Of(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=dv(e);return t.forEach((function(t){var s=Yg(t.path);i.push(o.put(new cm(n,s))),i.push(r.referenceDelegate.addReference(e,n,t))})),_m.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=dv(e);return _m.forEach(t,(function(t){var o=Yg(t.path);return _m.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=dv(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dv(e),i=sg();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=Zg(e[1]),o=new df(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Yg(t.path),r=IDBKeyRange.bound([n],[zd(n)],!1,!0),i=0;return dv(e).Ot({index:cm.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){0!==e[0]&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return cv(e).get(t).next((function(e){return e?Hm(e):null}))},e}();function cv(e){return Om(e,um.store)}function hv(e){return Om(e,hm.store)}function dv(e){return Om(e,cm.store)}function fv(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){if(e.code!==Id.FAILED_PRECONDITION||e.message!==vm)throw e;return Nd("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function pv(e,t){var n=e[1],r=t[1],i=qd(e[0],t[0]);return 0===i?qd(n,r):i}var gv=function(){function e(e){this.ne=e,this.buffer=new Xp(pv),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();pv(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),mv=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ae=function(e){var t=this,n=this.oe?3e5:6e4;Nd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ed(t,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Em(t=n.sent())?(Nd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,fv(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),vv=function(){function e(e,t){this.ue=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ue.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return _m.resolve(xd.o);var r=new gv(t);return this.ue.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ue.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ue.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ue.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Nd("LruGarbageCollector","Garbage collection skipped; disabled"),_m.resolve(Zm)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Nd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Zm):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ue.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,s,a,l,u=this,c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>u.params.maximumSequenceNumbersToCollect?(Nd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+t),r=u.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),u.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),u.removeTargets(e,n,t)})).next((function(t){return i=t,a=Date.now(),u.removeOrphanedDocuments(e,n)})).next((function(e){return l=Date.now(),Rd()<=Al.a.DEBUG&&Nd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+e+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),_m.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),yv=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new vv(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return bv(e,n)},e.prototype.removeReference=function(e,t,n){return bv(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return bv(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return av(e).$t((function(r){return iv(e,r,t).next((function(e){return e&&(n=!0),_m.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(s,a){if(a<=t){var l=n._e(e,s).next((function(t){if(!t)return o++,r.getEntry(e,s).next((function(){return r.removeEntry(s),dv(e).delete([0,Yg(s.path)])}))}));i.push(l)}})).next((function(){return _m.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return bv(e,t)},e.prototype.we=function(e,t){var n,r=dv(e),i=xd.o;return r.Ot({index:cm.documentTargetsIndex},(function(e,r){var o=r.path,s=r.sequenceNumber;0===e[0]?(i!==xd.o&&t(new df(Zg(n)),i),i=s,n=o):i=xd.o})).next((function(){i!==xd.o&&t(new df(Zg(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function bv(e,t){return dv(e).put(function(e,t){return new cm(0,Yg(e.path),t)}(t,e.currentSequenceNumber))}var _v=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Qd(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];e(o[0],o[1])}}))},e.prototype.isEmpty=function(){return $d(this.inner)},e}(),wv=function(){function e(){this.changes=new _v((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Wd.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Tf.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_m.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Sv=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Ev(e).put(kv(t),n)},e.prototype.removeEntry=function(e,t){var n=Ev(e),r=kv(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Ev(e).get(kv(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Ev(e).get(kv(t)).next((function(e){return{document:n.ye(t,e),size:nv(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=eg();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=eg(),i=new Qp(df.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,nv(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return _m.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ev(e).Ot({range:r},(function(e,t,r){for(var s=df.fromSegments(e);o&&df.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=eg(),o=t.path.length+1,s={};if(n.isEqual(Wd.min())){var a=t.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var l=t.path.toArray(),u=jm(n);s.range=IDBKeyRange.lowerBound([l,u],!0),s.index=am.collectionReadTimeIndex}return Ev(e).Ot(s,(function(e,n,s){if(e.length===o){var a=Mm(r.R,n);t.path.isPrefixOf(a.key.path)?lp(t,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Av(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Cv(e).get(lm.key).next((function(e){return jd(!!e),e}))},e.prototype.me=function(e,t){return Cv(e).put(lm.key,t)},e.prototype.ye=function(e,t){if(t){var n=Mm(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Wd.min()))return n}return Tf.newInvalidDocument(e)},e}(),Av=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new _v((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Cd(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Xp((function(e,t){return qd(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,s){var a=t.Ae.get(o);if(s.document.isValidDocument()){var l=Fm(t.Ie.R,s.document,t.getReadTime(o));i=i.add(o.path.popLast());var u=nv(l);r+=u-a,n.push(t.Ie.addEntry(e,o,l))}else if(r-=a,t.trackRemovals){var c=Fm(t.Ie.R,Tf.newNoDocument(o,Wd.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,c))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),_m.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(wv);function Cv(e){return Om(e,lm.store)}function Ev(e){return Om(e,am.store)}function kv(e){return e.path.toArray()}var Tv=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;jd(n<r&&n>=0&&r<=11);var o=new wm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(tm.store)}(e),function(e){e.createObjectStore(nm.store,{keyPath:nm.keyPath}),e.createObjectStore(rm.store,{keyPath:rm.keyPath,autoIncrement:!0}).createIndex(rm.userMutationsIndex,rm.userMutationsKeyPath,{unique:!0}),e.createObjectStore(im.store)}(e),xv(e),function(e){e.createObjectStore(am.store)}(e));var s=_m.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(cm.store),e.deleteObjectStore(um.store),e.deleteObjectStore(hm.store)}(e),xv(e)),s=s.next((function(){return function(e){var t=e.store(hm.store),n=new hm(0,0,Wd.min().toTimestamp(),0);return t.put(hm.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(rm.store).Nt().next((function(n){e.deleteObjectStore(rm.store),e.createObjectStore(rm.store,{keyPath:rm.keyPath,autoIncrement:!0}).createIndex(rm.userMutationsIndex,rm.userMutationsKeyPath,{unique:!0});var r=t.store(rm.store),i=n.map((function(e){return r.put(e)}));return _m.waitFor(i)}))}(e,o)}))),s=s.next((function(){!function(e){e.createObjectStore(fm.store,{keyPath:fm.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore(lm.store)}(e),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(am.store);t.createIndex(am.readTimeIndex,am.readTimeIndexPath,{unique:!1}),t.createIndex(am.collectionReadTimeIndex,am.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(e){e.createObjectStore(pm.store,{keyPath:pm.keyPath})}(e),function(e){e.createObjectStore(gm.store,{keyPath:gm.keyPath})}(e)}))),s},e.prototype.be=function(e){var t=0;return e.store(am.store).Ot((function(e,n){t+=nv(n)})).next((function(){var n=new lm(t);return e.store(lm.store).put(lm.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(nm.store),r=e.store(rm.store);return n.Nt().next((function(n){return _m.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(rm.userMutationsIndex,i).next((function(r){return _m.forEach(r,(function(r){jd(r.userId===n.userId);var i=qm(t.R,r);return tv(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(cm.store),n=e.store(am.store);return e.store(hm.store).get(hm.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Xd(n),s=function(e){return[0,Yg(e)]}(o);r.push(t.get(s).next((function(n){return n?_m.resolve():function(n){return t.put(new cm(0,Yg(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return _m.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(dm.store,{keyPath:dm.keyPath});var n=t.store(dm.store),r=new Ym,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Yg(i)})}};return t.store(am.store).Ot({kt:!0},(function(e,t){var n=new Xd(e);return i(n.popLast())})).next((function(){return t.store(im.store).Ot({kt:!0},(function(e,t){var n=Zg(e[1]);return i(n.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(um.store);return n.Ot((function(e,r){var i=Hm(r),o=zm(t.R,i);return n.put(o)}))},e}();function xv(e){e.createObjectStore(cm.store,{keyPath:cm.keyPath}).createIndex(cm.documentTargetsIndex,cm.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(um.store,{keyPath:um.keyPath}).createIndex(um.queryTargetsIndexName,um.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(hm.store)}var Iv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pv=function(){function e(t,n,r,i,o,s,a,l,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Pd(Id.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yv(this,i),this.Le=n+"main",this.R=new Lm(l),this.Be=new Sm(this.Le,11,new Tv(this.R)),this.qe=new uv(this.referenceDelegate,this.R),this.Ut=new Xm,this.Ue=function(e,t){return new Sv(e,t)}(this.R,this.Ut),this.Qe=new Wm,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Dd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Pd(Id.FAILED_PRECONDITION,Iv);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new xd(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Ed(t,void 0,void 0,(function(){return kd(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Ed(t,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Ed(t,void 0,void 0,(function(){return kd(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Rv(t).put(new fm(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Em(t))return Nd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Nd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Ov(e).get(tm.key).next((function(e){return _m.resolve(t.tn(e))}))},e.prototype.en=function(e){return Rv(e).delete(this.clientId)},e.prototype.nn=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r=this;return kd(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Om(e,fm.store);return t.Nt().next((function(e){var n=r.rn(e,18e5),i=e.filter((function(e){return-1===n.indexOf(e)}));return _m.forEach(i,(function(e){return t.delete(e.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)this.Ke.removeItem(this.on(n[t].clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?_m.resolve(!0):Ov(e).get(tm.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Pd(Id.FAILED_PRECONDITION,Iv);return!1}}return!(!t.networkEnabled||!t.inForeground)||Rv(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){return!(t.clientId===e.clientId||!(!t.networkEnabled&&e.networkEnabled||!t.inForeground&&e.inForeground&&t.networkEnabled===e.networkEnabled))}))}))})).next((function(e){return t.isPrimary!==e&&Nd("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Ed(this,void 0,void 0,(function(){var e=this;return kd(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[tm.store,fm.store],(function(t){var n=new Pm(t,xd.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Rv(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return rv.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r,i=this;return Nd("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",mm,(function(o){return r=new Pm(o,i.Ne?i.Ne.next():xd.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw Dd("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Pd(Id.FAILED_PRECONDITION,vm);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Ov(e).get(tm.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Pd(Id.FAILED_PRECONDITION,Iv)}))},e.prototype.Ze=function(e){var t=new tm(this.clientId,this.allowTabSynchronization,Date.now());return Ov(e).put(tm.key,t)},e.yt=function(){return Sm.yt()},e.prototype.Xe=function(e){var t=this,n=Ov(e);return n.get(tm.key).next((function(e){return t.tn(e)?(Nd("IndexedDbPersistence","Releasing primary lease."),n.delete(tm.key)):_m.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Dd("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.an(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return Nd("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Dd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Dd("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Ov(e){return Om(e,tm.store)}function Rv(e){return Om(e,fm.store)}function Nv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Dv=function(e,t){this.progress=e,this.wn=t},Lv=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return df.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):tp(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new df(t)).next((function(e){var t=ng();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=ng();return this.Ut.getCollectionParents(e,i).next((function(s){return _m.forEach(s,(function(s){var a=function(e,t){return new Qf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return r.An(e,a,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return o.Rn(e,i=t,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var l=a[s],u=l.key,c=r.get(u);null==c&&(c=Tf.newInvalidDocument(u),r=r.insert(u,c)),Rp(l,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(e,n){lp(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=sg(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var l=a[s];l instanceof Fp&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(u=u.insert(e,t))})),u}))},e}(),Mv=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=sg(),i=sg(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Fv=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Wd.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var s=i.Cn(t,o);return(Xf(t)||Jf(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(Rd()<=Al.a.DEBUG&&Nd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ap(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Xp(up(e));return t.forEach((function(t,r){lp(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Rd()<=Al.a.DEBUG&&Nd("QueryEngine","Using full collection scan to execute query:",ap(t)),this.Sn.getDocumentsMatchingQuery(e,t,Wd.min())},e}(),jv=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Qp(qd),this.kn=new _v((function(e){return Pf(e)}),Of),this.On=Wd.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Lv(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Vv(e,t,n,r){return new jv(e,t,n,r)}function Uv(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o;return kd(this,(function(s){switch(s.label){case 0:return n=Vd(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(s){return o=s,r=n.persistence.getMutationQueue(t),i=new Lv(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],s=sg(),a=0,l=o;a<l.length;a++){var u=l[a];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)s=s.add(h[c].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(e,s).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Bv(e,t){var n=Vd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=_m.resolve();return o.forEach((function(e){s=s.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);jd(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function qv(e){var t=Vd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Hv(e,t){var n=Vd(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];t.targetChanges.forEach((function(t,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var l=t.resumeToken;if(l.approximateByteSize()>0){var u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,u),function(e,t,n){return jd(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&s.push(n.qe.updateTargetData(e,u))}}}));var a=eg();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(zv(e,o,t.documentUpdates,r,void 0).next((function(e){a=e}))),!r.isEqual(Wd.min())){var l=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));s.push(l)}return _m.waitFor(s).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,a)})).next((function(){return a}))})).then((function(e){return n.Fn=i,e}))}function zv(e,t,n,r,i){var o=sg();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=eg();return n.forEach((function(n,s){var a=e.get(n),l=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Wd.min())?(t.removeEntry(n,l),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,l),o=o.insert(n,s)):Nd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Gv(e,t){var n=Vd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Wv(e,t){var n=Vd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?_m.resolve(r=i):n.qe.allocateTargetId(e).next((function(i){return r=new Dm(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Kv(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i,o,s;return kd(this,(function(a){switch(a.label){case 0:r=Vd(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Em(s=a.sent()))throw s;return Nd("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Qv(e,t,n){var r=Vd(e),i=Wd.min(),o=sg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Vd(e),i=r.kn.get(n);return void 0!==i?_m.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,rp(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Wd.min(),n?o:sg())})).next((function(e){return{documents:e,Bn:o}}))}))}function $v(e,t){var n=Vd(e),r=Vd(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Yv(e){var t=Vd(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Vd(e),i=eg(),o=jm(n),s=Ev(t),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:am.readTimeIndex,range:a},(function(e,t){var n=Mm(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Vm(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn;return t.On=e.readTime,n}))}function Xv(e){return Ed(this,void 0,void 0,(function(){var t;return kd(this,(function(n){return[2,(t=Vd(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ev(e),n=Wd.min();return t.Ot({index:am.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Vm(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Jv(e,t,n,r){return Ed(this,void 0,void 0,(function(){var i,o,s,a,l,u,c,h,d,f;return kd(this,(function(p){switch(p.label){case 0:for(i=Vd(e),o=sg(),s=eg(),a=ig(),l=0,u=n;l<u.length;l++)h=t.qn((c=u[l]).metadata.name),c.document&&(o=o.add(h)),s=s.insert(h,t.Un(c)),a=a.insert(h,t.Qn(c.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Wv(i,function(e){return rp(Yf(Xd.fromString("__bundle__/docs/"+e)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return zv(e,d,s,Wd.min(),a).next((function(t){return d.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,f.targetId).next((function(){return i.qe.addMatchingKeys(e,o,f.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Zv(e,t,n){return void 0===n&&(n=sg()),Ed(this,void 0,void 0,(function(){var r,i;return kd(this,(function(o){switch(o.label){case 0:return[4,Wv(e,rp(Gm(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Vd(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Cg(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var s=r.withResumeToken(tf.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(e,s).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var ey=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return _m.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:Cg(n.createTime)}),_m.resolve()},e.prototype.getNamedQuery=function(e,t){return _m.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Gm(e.bundledQuery),readTime:Cg(e.readTime)}}(t)),_m.resolve()},e}(),ty=function(){function e(){this.Wn=new Xp(ny.Gn),this.zn=new Xp(ny.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new ny(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new ny(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new df(new Xd([])),r=new ny(n,e),i=new ny(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new df(new Xd([])),n=new ny(t,e),r=new ny(t,e+1),i=sg();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new ny(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ny=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return df.comparator(e.key,t.key)||qd(e.ns,t.ns)},e.Hn=function(e,t){return qd(e.ns,t.ns)||df.comparator(e.key,t.key)},e}(),ry=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Xp(ny.Gn)}return e.prototype.checkEmpty=function(e){return _m.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++;var o=new Rm(i,t,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var l=a[s];this.rs=this.rs.add(new ny(l.key,i)),this.Ut.addToCollectionParentIndex(e,l.key.path.popLast())}return _m.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return _m.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return _m.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return _m.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return _m.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ny(t,0),i=new ny(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),_m.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Xp(qd);return t.forEach((function(e){var t=new ny(e,0),i=new ny(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),_m.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;df.isDocumentKey(i)||(i=i.child(""));var o=new ny(new df(i),0),s=new Xp(qd);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ns)),!0)}),o),_m.resolve(this.us(s))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;jd(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return _m.forEach(t.mutations,(function(i){var o=new ny(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new ny(t,0),r=this.rs.firstAfterOrEqual(n);return _m.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return _m.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),iy=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Qp(df.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return _m.resolve(n?n.document.clone():Tf.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=eg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Tf.newInvalidDocument(e))})),_m.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=eg(),i=new df(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,l=a.document,u=a.readTime;if(!t.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||lp(t,l)&&(r=r.insert(l.key,l.clone()))}return _m.resolve(r)},e.prototype.fs=function(e,t){return _m.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new oy(this)},e.prototype.getSize=function(e){return _m.resolve(this.size)},e}(),oy=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Cd(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),_m.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(wv),sy=function(){function e(e){this.persistence=e,this.ds=new _v((function(e){return Pf(e)}),Of),this.lastRemoteSnapshotVersion=Wd.min(),this.highestTargetId=0,this.ws=0,this._s=new ty,this.targetCount=0,this.ys=lv.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),_m.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return _m.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return _m.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),_m.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),_m.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new lv(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,_m.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),_m.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,_m.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),_m.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return _m.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return _m.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),_m.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_m.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),_m.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return _m.resolve(n)},e.prototype.containsKey=function(e,t){return _m.resolve(this._s.containsKey(t))},e}(),ay=function(){function e(e,t){var n=this;this.gs={},this.Ne=new xd(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new sy(this),this.Ut=new $m,this.Ue=function(e,t){return new iy(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Lm(t),this.Qe=new ey(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ry(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;Nd("MemoryPersistence","Starting transaction:",e);var i=new ly(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return _m.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),ly=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Cd(t,e),t}(ym),uy=function(){function e(e){this.persistence=e,this.As=new ty,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Fd()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),_m.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),_m.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),_m.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _m.forEach(this.vs,(function(r){var i=df.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return _m.or([function(){return _m.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),cy=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function hy(e,t){return"firestore_clients_"+e+"_"+t}function dy(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function fy(e,t){return"firestore_targets_"+e+"_"+t}cy.UNAUTHENTICATED=new cy(null),cy.GOOGLE_CREDENTIALS=new cy("google-credentials-uid"),cy.FIRST_PARTY=new cy("first-party-uid");var py=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Pd(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Dd("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),gy=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Pd(i.error.code,i.error.message)),o?new e(t,i.state,r):(Dd("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),my=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=lg(),s=0;i&&s<r.activeTargetIds.length;++s)i=hf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Dd("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),vy=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Dd("SharedClientState","Failed to parse online state: "+t),null)},e}(),yy=function(){function e(){this.activeTargetIds=lg()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),by=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Qp(qd),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=hy(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new yy),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,l,u,c=this;return kd(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(hy(this.persistenceKey,r)))&&(o=my.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),l=0,u=this.Os;l<u.length;l++)this.Fs(u[l]);return this.Os=[],this.window.addEventListener("pagehide",(function(){return c.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(fy(this.persistenceKey,e));if(n){var r=gy.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(fy(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Nd("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Nd("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Nd("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Nd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Dd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ed(t,void 0,void 0,(function(){var e,t,r,i,o,s;return kd(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(e){var t=xd.o;if(null!=e)try{var n=JSON.parse(e);jd("number"==typeof n),t=n}catch(e){Dd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==xd.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new py(this.currentUser,e,t,n),i=dy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=dy(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},e.prototype.Ys=function(e,t,n){var r=fy(this.persistenceKey,e),i=new gy(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return my.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]);return py.Vs(new cy(void 0!==n[2]?n[2]:null),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return gy.Vs(r,t)},e.prototype.js=function(e){return vy.Vs(e)},e.prototype.ii=function(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(e.batchId,e.state,e.error)]:(Nd("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ui(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(e){i.has(e)||s.push(e)})),i.forEach((function(e){o.has(e)||a.push(e)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=lg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),_y=function(){function e(){this.li=new yy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new yy,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),wy=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Sy=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Nd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Nd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Ay={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cy=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Ey=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return Cd(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var s=new Sd;s.listenOnce(bd.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case yd.NO_ERROR:var t=s.getResponseJson();Nd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case yd.TIMEOUT:Nd("Connection",'RPC "'+e+'" timed out'),o(new Pd(Id.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:var n=s.getStatus();if(Nd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Id).indexOf(t)>=0?t:Id.UNKNOWN}(r.status);o(new Pd(a,r.message))}else o(new Pd(Id.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Pd(Id.UNAVAILABLE,"Connection failed."));break;default:Fd()}}finally{Nd("Connection",'RPC "'+e+'" completed.')}}));var a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new fd,i=mc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),Object(Sl.n)()||Object(Sl.p)()||Object(Sl.l)()||Object(Sl.m)()||Object(Sl.q)()||Object(Sl.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Nd("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),l=!1,u=!1,c=new Cy({Ei:function(e){u?Nd("Connection","Not sending because WebChannel is closed:",e):(l||(Nd("Connection","Opening WebChannel transport."),a.open(),l=!0),Nd("Connection","WebChannel sending:",e),a.send(e))},Ti:function(){return a.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(a,wd.EventType.OPEN,(function(){u||Nd("Connection","WebChannel transport opened.")})),h(a,wd.EventType.CLOSE,(function(){u||(u=!0,Nd("Connection","WebChannel transport closed"),c.Vi())})),h(a,wd.EventType.ERROR,(function(e){u||(u=!0,Ld("Connection","WebChannel transport errored:",e),c.Vi(new Pd(Id.UNAVAILABLE,"The operation could not be completed")))})),h(a,wd.EventType.MESSAGE,(function(e){var t;if(!u){var n=e.data[0];jd(!!n);var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){Nd("Connection","WebChannel received error:",r);var i=r.status,o=function(e){var t=Bp[e];if(void 0!==t)return Kp(t)}(i),s=r.message;void 0===o&&(o=Id.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,c.Vi(new Pd(o,s)),a.close()}else Nd("Connection","WebChannel received:",n),c.Si(n)}})),h(i,_d.STAT_EVENT,(function(e){10===e.stat?Nd("Connection","Detected buffering proxy"):11===e.stat&&Nd("Connection","Detected no buffering proxy")})),setTimeout((function(){c.Pi()}),0),c},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Nd("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return Nd("RestConnection","Received: ",e),e}),(function(t){throw Ld("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+Ay[e]},e}());function ky(){return"undefined"!=typeof window?window:null}function Ty(){return"undefined"!=typeof document?document:null}function xy(e){return new _g(e,!0)}var Iy=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Nd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Py=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Iy(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Ed(this,void 0,void 0,(function(){return kd(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ar(),this.stream.send(e)},e.prototype.rr=function(){return Ed(this,void 0,void 0,(function(){return kd(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Ed(this,void 0,void 0,(function(){return kd(this,(function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Id.RESOURCE_EXHAUSTED?(Dd(t.toString()),Dd("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===Id.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ur=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Pd(Id.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Ed(e,void 0,void 0,(function(){return kd(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Nd("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Nd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Oy=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Cd(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(jd(void 0===t||"string"==typeof t),tf.fromBase64String(t||"")):(jd(void 0===t||t instanceof Uint8Array),tf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=(a=t.targetChange.cause)&&function(e){var t=void 0===e.code?Id.UNKNOWN:Kp(e.code);return new Pd(t,e.message||"")}(a);n=new fg(r,i,o,s||null)}else if("documentChange"in t){i=xg(e,(r=t.documentChange).document.name),o=Cg(r.document.updateTime);var a=new Ef({mapValue:{fields:r.document.fields}}),l=(s=Tf.newFoundDocument(i,o,a),r.targetIds||[]);n=new hg(l,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in t)i=xg(e,(r=t.documentDelete).document),o=r.readTime?Cg(r.readTime):Wd.min(),a=Tf.newNoDocument(i,o),n=new hg([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in t)i=xg(e,(r=t.documentRemove).document),n=new hg([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in t))return Fd();var u=t.filter;i=new Gp(r=u.count||0),n=new dg(o=u.targetId,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Wd.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Wd.min():t.readTime?Cg(t.readTime):Wd.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Og(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Rf(r)?{documents:Fg(e,r)}:{query:jg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Sg(e,t.resumeToken):t.snapshotVersion.compareTo(Wd.min())>0&&(n.readTime=wg(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Og(this.R),t.removeTarget=e,this.cr(t)},t}(Py),Ry=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Cd(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ur=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(jd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(jd(void 0!==t),e.map((function(e){return function(e,t){var n=Cg(e.updateTime?e.updateTime:t);return n.isEqual(Wd.min())&&(n=Cg(t)),new Tp(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Cg(e.commitTime);return this.listener.Tr(n,t)}return jd(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Og(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Lg(t.R,e)}))};this.cr(n)},t}(Py),Ny=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Cd(t,e),t.prototype.br=function(){if(this.Rr)throw new Pd(Id.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Id.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Pd(Id.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Id.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Pd(Id.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Dy=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Dd(t),this.Vr=!1):Nd("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Ly=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Ed(o,void 0,void 0,(function(){return kd(this,(function(e){switch(e.label){case 0:return zy(this)?(Nd("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Ed(this,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return(t=Vd(e)).$r.add(4),[4,Fy(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,My(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Dy(n,r)};function My(e){return Ed(this,void 0,void 0,(function(){var t,n;return kd(this,(function(r){switch(r.label){case 0:if(!zy(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Fy(e){return Ed(this,void 0,void 0,(function(){var t,n;return kd(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function jy(e,t){var n=Vd(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Hy(n)?qy(n):ob(n).er()&&Uy(n,t))}function Vy(e,t){var n=Vd(e),r=ob(n);n.Or.delete(t),r.er()&&By(n,t),0===n.Or.size&&(r.er()?r.ir():zy(n)&&n.Br.set("Unknown"))}function Uy(e,t){e.qr.U(t.targetId),ob(e).mr(t)}function By(e,t){e.qr.U(t),ob(e).yr(t)}function qy(e){e.qr=new gg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),ob(e).start(),e.Br.Sr()}function Hy(e){return zy(e)&&!ob(e).tr()&&e.Or.size>0}function zy(e){return 0===Vd(e).$r.size}function Gy(e){e.qr=void 0}function Wy(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){return e.Or.forEach((function(t,n){Uy(e,t)})),[2]}))}))}function Ky(e,t){return Ed(this,void 0,void 0,(function(){return kd(this,(function(n){return Gy(e),Hy(e)?(e.Br.Nr(t),qy(e)):e.Br.set("Unknown"),[2]}))}))}function Qy(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i,o;return kd(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof fg&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o;return kd(this,(function(s){switch(s.label){case 0:n=t.cause,r=0,i=t.targetIds,s.label=1;case 1:return r<i.length?e.Or.has(o=i[r])?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),e.Or.delete(o),e.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Nd("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,$y(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof hg?e.qr.X(t):t instanceof dg?e.qr.rt(t):e.qr.et(t),n.isEqual(Wd.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,qv(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.at(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(tf.EMPTY_BYTE_STRING,n.snapshotVersion)),By(e,t);var r=new Dm(n.target,t,1,n.sequenceNumber);Uy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Nd("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,$y(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function $y(e,t,n){return Ed(this,void 0,void 0,(function(){var r=this;return kd(this,(function(i){switch(i.label){case 0:if(!Em(t))throw t;return e.$r.add(1),[4,Fy(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return qv(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Ed(r,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return Nd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,My(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Yy(e,t){return t().catch((function(n){return $y(e,n,t)}))}function Xy(e){return Ed(this,void 0,void 0,(function(){var t,n,r,i,o;return kd(this,(function(s){switch(s.label){case 0:t=Vd(e),n=sb(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(e){return zy(e)&&e.kr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Gv(t.localStore,r)];case 3:return null===(i=s.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=sb(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,$y(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Jy(t)&&Zy(t),[2]}}))}))}function Jy(e){return zy(e)&&!sb(e).tr()&&e.kr.length>0}function Zy(e){sb(e).start()}function eb(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){return sb(e).Ar(),[2]}))}))}function tb(e){return Ed(this,void 0,void 0,(function(){var t,n,r;return kd(this,(function(i){for(t=sb(e),n=0,r=e.kr;n<r.length;n++)t.Er(r[n].mutations);return[2]}))}))}function nb(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i;return kd(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=Nm.from(r,t,n),[4,Yy(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Xy(e)];case 2:return o.sent(),[2]}}))}))}function rb(e,t){return Ed(this,void 0,void 0,(function(){return kd(this,(function(n){switch(n.label){case 0:return t&&sb(e).pr?[4,function(e,t){return Ed(this,void 0,void 0,(function(){var n,r;return kd(this,(function(i){switch(i.label){case 0:return Wp(r=t.code)&&r!==Id.ABORTED?(n=e.kr.shift(),sb(e).sr(),[4,Yy(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Xy(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Jy(e)&&Zy(e),[2]}}))}))}function ib(e,t){return Ed(this,void 0,void 0,(function(){var n;return kd(this,(function(r){switch(r.label){case 0:return n=Vd(e),t?(n.$r.delete(2),[4,My(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Fy(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ob(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Vd(e);return r.br(),new Oy(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Wy.bind(null,e),Ri:Ky.bind(null,e),_r:Qy.bind(null,e)}),e.Mr.push((function(n){return Ed(t,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Hy(e)?qy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Gy(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function sb(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Vd(e);return r.br(),new Ry(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:eb.bind(null,e),Ri:rb.bind(null,e),Ir:tb.bind(null,e),Tr:nb.bind(null,e)}),e.Mr.push((function(n){return Ed(t,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Xy(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(Nd("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var ab=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pd(Id.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function lb(e,t){if(Dd("AsyncQueue",t+": "+e),Em(e))return new Pd(Id.UNAVAILABLE,t+": "+e);throw e}var ub=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||df.comparator(t.key,n.key)}:function(e,t){return df.comparator(e.key,t.key)},this.keyedMap=ng(),this.sortedSet=new Qp(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),cb=function(){function e(){this.Kr=new Qp(df.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Fd():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),hb=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ub.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),db=function(){this.Wr=void 0,this.listeners=[]},fb=function(){this.queries=new _v((function(e){return sp(e)}),op),this.onlineState="Unknown",this.Gr=new Set};function pb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s,a,l;return kd(this,(function(u){switch(u.label){case 0:if(n=Vd(e),i=!1,(o=n.queries.get(r=t.query))||(i=!0,o=new db),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),l=lb(a,"Initialization of query '"+ap(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&yb(n),[2]}}))}))}function gb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s;return kd(this,(function(a){return n=Vd(e),i=!1,(o=n.queries.get(r=t.query))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function mb(e,t){for(var n=Vd(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var l=0,u=a.listeners;l<u.length;l++)u[l].Hr(s)&&(r=!0);a.Wr=s}}r&&yb(n)}function vb(e,t,n){var r=Vd(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function yb(e){e.Gr.forEach((function(e){e.next()}))}var bb=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new hb(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=hb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),_b=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),wb=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return xg(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Dg(this.R,e.document,!1):Tf.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return Cg(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=function(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new wb(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,l=o.metadata.queries;a<l.length;a++){var u=l[a],c=(t.get(u)||sg()).add(s);t.set(u,c)}}return t},e.prototype.complete=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r,i;return kd(this,(function(o){switch(o.label){case 0:return[4,Jv(this.localStore,new wb(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Zv(this.localStore,i=r[n],t.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Dv(Object.assign({},this.progress),e))]}}))}))}}();var Sb=function(e){this.key=e},Ab=function(e){this.key=e},Cb=function(){function e(e,t){this.query=e,this.ao=t,this.uo=null,this.current=!1,this.ho=sg(),this.mutatedKeys=sg(),this.lo=up(e),this.fo=new ub(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new cb,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=Xf(this.query)&&i.size===this.query.limit?i.last():null,u=Jf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),h=lp(n.query,t)?t:null,d=!!c&&n.mutatedKeys.has(c.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(c,h)||(r.track({type:2,doc:h}),p=!0,(l&&n.lo(h,l)>0||u&&n.lo(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(l||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),Xf(this.query)||Jf(this.query))for(;s.size>this.query.limit;){var c=Xf(this.query)?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fd()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var s=t?this.Eo():[],a=0===this.ho.size&&this.current?1:0,l=a!==this.uo;return this.uo=a,0!==o.length||l?{snapshot:new hb(this.query,e.fo,i,o,e.mutatedKeys,0===a,l,!1),To:s}:{To:s}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.ao.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ao=t.ao.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ao=t.ao.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=sg(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Ab(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Sb(e))})),n},e.prototype.Ao=function(e){this.ao=e.Bn,this.ho=sg();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return hb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},e}(),Eb=function(e,t,n){this.query=e,this.targetId=t,this.view=n},kb=function(e){this.key=e,this.bo=!1},Tb=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new _v((function(e){return sp(e)}),op),this.Vo=new Map,this.So=new Set,this.Do=new Qp(df.comparator),this.Co=new Map,this.No=new ty,this.xo={},this.Fo=new Map,this.ko=lv.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function xb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s;return kd(this,(function(a){switch(a.label){case 0:return n=r_(e),(i=n.Po.get(t))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Wv(n.localStore,rp(t))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Ib(n,t,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&jy(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function Ib(e,t,n,r){return Ed(this,void 0,void 0,(function(){var i,o,s,a,l,u;return kd(this,(function(c){switch(c.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return Ed(this,void 0,void 0,(function(){var i,o,s;return kd(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,Qv(e.localStore,t.query,!1).then((function(e){return t.view._o(e.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(qb(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,r)},[4,Qv(e.localStore,t,!0)];case 1:return i=c.sent(),o=new Cb(t,i.Bn),s=o._o(i.documents),a=cg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=o.applyChanges(s,e.isPrimaryClient,a),qb(e,n,l.To),u=new Eb(t,n,o),[2,(e.Po.set(t,u),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),l.snapshot)]}}))}))}function Pb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i;return kd(this,(function(o){switch(o.label){case 0:return n=Vd(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!op(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Kv(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Vy(n.remoteStore,r.targetId),Ub(n,r.targetId)})).catch(fv)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ub(n,r.targetId),[4,Kv(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ob(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i,o,s;return kd(this,(function(a){switch(a.label){case 0:r=i_(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(e,t){var n,r=Vd(e),i=Gd.now(),o=t.reduce((function(e,t){return e.add(t.key)}),sg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var s=[],a=0,l=t;a<l.length;a++){var u=l[a],c=Np(u,n.get(u.key));null!=c&&s.push(new Fp(u.key,c,kf(c.toProto().mapValue),xp.exists(!0)))}return r._n.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Qp(qd)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Gb(r,i.changes)];case 3:return a.sent(),[4,Xy(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=lb(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Rb(e,t){return Ed(this,void 0,void 0,(function(){var n,r;return kd(this,(function(i){switch(i.label){case 0:n=Vd(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Hv(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(jd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?jd(r.bo):e.removedDocuments.size>0&&(jd(r.bo),r.bo=!1))})),[4,Gb(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,fv(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Nb(e,t,n){var r=Vd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Vd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&yb(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Db(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i,o,s,a,l;return kd(this,(function(u){switch(u.label){case 0:return(r=Vd(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Qp(df.comparator)).insert(o,Tf.newNoDocument(o,Wd.min())),a=sg().add(o),l=new ug(Wd.min(),new Map,new Xp(qd),s,a),[4,Rb(r,l)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),zb(r),[3,4];case 2:return[4,Kv(r.localStore,t,!1).then((function(){return Ub(r,t,n)})).catch(fv)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function Lb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i;return kd(this,(function(o){switch(o.label){case 0:n=Vd(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Bv(n.localStore,t)];case 2:return i=o.sent(),Vb(n,r,null),jb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Gb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,fv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Mb(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i;return kd(this,(function(o){switch(o.label){case 0:r=Vd(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Vd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return jd(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Vb(r,t,n),jb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Gb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,fv(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Fb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s;return kd(this,(function(a){switch(a.label){case 0:zy((n=Vd(e)).remoteStore)||Nd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){var t=Vd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=lb(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function jb(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Vb(e,t,n){var r=Vd(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Ub(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Bb(e,t)}))}function Bb(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Vy(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),zb(e))}function qb(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Sb?(e.No.addReference(o.key,t),Hb(e,o)):o instanceof Ab?(Nd("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Bb(e,o.key)):Fd()}}function Hb(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Nd("SyncEngine","New document in limbo: "+n),e.So.add(r),zb(e))}function zb(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new df(Xd.fromString(t)),r=e.ko.next();e.Co.set(r,new kb(n)),e.Do=e.Do.insert(n,r),jy(e.remoteStore,new Dm(rp(Yf(n.path)),r,2,xd.o))}}function Gb(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i,o,s;return kd(this,(function(a){switch(a.label){case 0:return r=Vd(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,a){s.push(r.$o(a,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Mv.Pn(a.targetId,e);o.push(t)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s,a,l,u;return kd(this,(function(c){switch(c.label){case 0:n=Vd(e),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _m.forEach(t,(function(t){return _m.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return _m.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!Em(r=c.sent()))throw r;return Nd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(l=n.Fn.get(a),u=l.withLastLimboFreeSnapshotVersion(l.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function Wb(e,t){return Ed(this,void 0,void 0,(function(){var n,r;return kd(this,(function(i){switch(i.label){case 0:return(n=Vd(e)).currentUser.isEqual(t)?[3,3]:(Nd("SyncEngine","User change. New user:",t.toKey()),[4,Uv(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new Pd(Id.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Gb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Kb(e,t){var n=Vd(e),r=n.Co.get(t);if(r&&r.bo)return sg().add(r.key);var i=sg(),o=n.Vo.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var l=n.Po.get(a[s]);i=i.unionWith(l.view.wo)}return i}function Qb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i;return kd(this,(function(o){switch(o.label){case 0:return[4,Qv((n=Vd(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&qb(n,t.targetId,i.To),i)]}}))}))}function $b(e){return Ed(this,void 0,void 0,(function(){var t;return kd(this,(function(n){return[2,Yv((t=Vd(e)).localStore).then((function(e){return Gb(t,e)}))]}))}))}function Yb(e,t,n,r){return Ed(this,void 0,void 0,(function(){var i,o;return kd(this,(function(s){switch(s.label){case 0:return[4,function(e,t){var n=Vd(e),r=Vd(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):_m.resolve(null)}))}))}((i=Vd(e)).localStore,t)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xy(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Vb(i,t,r||null),jb(i,t),function(e,t){Vd(Vd(e)._n).Gt(t)}(i.localStore,t)):Fd(),s.label=4;case 4:return[4,Gb(i,o)];case 5:return s.sent(),[3,7];case 6:Nd("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}}))}))}function Xb(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s,a,l;return kd(this,(function(u){switch(u.label){case 0:return r_(n=Vd(e)),i_(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jb(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,ib(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)jy(n.remoteStore,s[o]);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(a=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?a.push(t):l=l.then((function(){return Ub(n,t),Kv(n.localStore,t,!0)})),Vy(n.remoteStore,t)})),[4,l]);case 4:return u.sent(),[4,Jb(n,a)];case 5:return u.sent(),function(e){var t=Vd(e);t.Co.forEach((function(e,n){Vy(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Qp(df.comparator)}(n),n.Oo=!1,[4,ib(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Jb(e,t,n){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s,a,l,u,c,h,d,f,p;return kd(this,(function(g){switch(g.label){case 0:n=Vd(e),r=[],i=[],o=0,s=t,g.label=1;case 1:return o<s.length?(l=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,Wv(n.localStore,rp(u[0]))]:[3,7]):[3,13];case 2:l=g.sent(),c=0,h=u,g.label=3;case 3:return c<h.length?(d=n.Po.get(h[c]),[4,Qb(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,$v(n.localStore,a)];case 8:return p=g.sent(),[4,Wv(n.localStore,p)];case 9:return l=g.sent(),[4,Ib(n,Zb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(l),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Zb(e){return $f(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function e_(e){var t=Vd(e);return Vd(Vd(t.localStore).persistence).fn()}function t_(e,t,n,r){return Ed(this,void 0,void 0,(function(){var i,o,s;return kd(this,(function(a){switch(a.label){case 0:return(i=Vd(e)).Oo?(Nd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yv(i.localStore)];case 3:return o=a.sent(),s=ug.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Gb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Kv(i.localStore,t,!0)];case 6:return a.sent(),Ub(i,t,r),[3,8];case 7:Fd(),a.label=8;case 8:return[2]}}))}))}function n_(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i,o,s,a,l,u,c,h;return kd(this,(function(d){switch(d.label){case 0:if(!(r=r_(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Nd("SyncEngine","Adding an already active target "+s),[3,5]):[4,$v(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Wv(r.localStore,a)];case 3:return l=d.sent(),[4,Ib(r,Zb(a),l.targetId,!1)];case 4:d.sent(),jy(r.remoteStore,l),d.label=5;case 5:return i++,[3,1];case 6:u=function(e){return kd(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Kv(r.localStore,e,!1).then((function(){Vy(r.remoteStore,e),Ub(r,e)})).catch(fv)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,h=n,d.label=7;case 7:return c<h.length?[5,u(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}function r_(e){var t=Vd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kb.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Db.bind(null,t),t.vo._r=mb.bind(null,t.eventManager),t.vo.Mo=vb.bind(null,t.eventManager),t}function i_(e){var t=Vd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mb.bind(null,t),t}var o_=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return this.R=xy(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return Vv(this.persistence,new Fv,e.initialUser,this.R)},e.prototype.qo=function(e){return new ay(uy.bs,this.R)},e.prototype.Bo=function(e){return new _y},e.prototype.terminate=function(){return Ed(this,void 0,void 0,(function(){return kd(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),s_=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Cd(t,e),t.prototype.initialize=function(t){return Ed(this,void 0,void 0,(function(){return kd(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Xv(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,i_(this.Ko.syncEngine)];case 4:return n.sent(),[4,Xy(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return Vv(this.persistence,new Fv,e.initialUser,this.R)},t.prototype.Uo=function(e){return new mv(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=Nv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ev.withCacheSize(this.cacheSizeBytes):ev.DEFAULT;return new Pv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ky(),Ty(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new _y},t}(o_),a_=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Cd(t,e),t.prototype.initialize=function(t){return Ed(this,void 0,void 0,(function(){var n,r=this;return kd(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof by?(this.sharedClientState.syncEngine={ai:Yb.bind(null,n),ui:t_.bind(null,n),hi:n_.bind(null,n),fn:e_.bind(null,n),ci:$b.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Ed(r,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return[4,Xb(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=ky();if(!by.yt(t))throw new Pd(Id.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new by(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(s_),l_=function(){function e(){}return e.prototype.initialize=function(e,t){return Ed(this,void 0,void 0,(function(){var n=this;return kd(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Nb(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Wb.bind(null,this.syncEngine),[4,ib(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new fb},e.prototype.createDatastore=function(e){var t=xy(e.databaseInfo.databaseId),n=new Ey(e.databaseInfo);return function(e,t,n){return new Ny(e,t,n)}(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,s=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Nb(s.syncEngine,e,0)},o=Sy.yt()?new Sy:new wy,new Ly(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,s){var a=new Tb(e,t,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Ed(this,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return t=Vd(e),Nd("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Fy(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}(),u_=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),c_=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new bm,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Ed(this,void 0,void 0,(function(){return kd(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Ed(this,void 0,void 0,(function(){return kd(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Ed(this,void 0,void 0,(function(){var e,t,n,r;return kd(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new _b(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Ed(this,void 0,void 0,(function(){var e,t;return kd(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Ed(this,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Ed(this,void 0,void 0,(function(){var e,t;return kd(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Ed(this,void 0,void 0,(function(){var t,n=this;return kd(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Pd(Id.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i,o,s,a;return kd(this,(function(l){switch(l.label){case 0:return n=Vd(e),r=Og(n.R)+"/documents",i={documents:t.map((function(e){return Tg(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=l.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){jd(!!t.found);var n=xg(e,t.found.name),r=Cg(t.found.updateTime),i=new Ef({mapValue:{fields:t.found.fields}});return Tf.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){jd(!!t.missing),jd(!!t.readTime);var n=xg(e,t.missing),r=Cg(t.readTime);return Tf.newNoDocument(n,r)}(e,t):Fd()}(n.R,e);s.set(t.key.toString(),t)})),a=[],[2,(t.forEach((function(e){var t=s.get(e.toString());jd(!!t),a.push(t)})),a)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Hp(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Ed(this,void 0,void 0,(function(){var e,t=this;return kd(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=df.fromPath(n);t.mutations.push(new zp(r,t.precondition(r)))})),[4,function(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i;return kd(this,(function(o){switch(o.label){case 0:return n=Vd(e),r=Og(n.R)+"/documents",i={writes:t.map((function(e){return Lg(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fd();t=Wd.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Pd(Id.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?xp.updateTime(t):xp.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wd.min()))throw new Pd(Id.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xp.updateTime(t)}return xp.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),h_=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Iy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Ed(e,void 0,void 0,(function(){var e,t,n=this;return kd(this,(function(r){return e=new c_(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!uf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wp(t)}return!1},e}(),d_=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=cy.UNAUTHENTICATED,this.clientId=Bd.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Ed(r,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return Nd("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Ed(this,void 0,void 0,(function(){return kd(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Pd(Id.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ed(e,void 0,void 0,(function(){var e,n;return kd(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=lb(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function f_(e,t){return Ed(this,void 0,void 0,(function(){var n,r,i=this;return kd(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Nd("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Ed(i,void 0,void 0,(function(){return kd(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Uv(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function p_(e,t){return Ed(this,void 0,void 0,(function(){var n,r;return kd(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,g_(e)];case 1:return n=i.sent(),Nd("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Ed(this,void 0,void 0,(function(){var n,r;return kd(this,(function(i){switch(i.label){case 0:return(n=Vd(e)).asyncQueue.verifyOperationInProgress(),Nd("RemoteStore","RemoteStore received new credentials"),r=zy(n),n.$r.add(3),[4,Fy(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,My(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function g_(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Nd("FirestoreClient","Using default OfflineComponentProvider"),[4,f_(e,new o_)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function m_(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Nd("FirestoreClient","Using default OnlineComponentProvider"),[4,p_(e,new l_)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function v_(e){return g_(e).then((function(e){return e.persistence}))}function y_(e){return g_(e).then((function(e){return e.localStore}))}function b_(e){return m_(e).then((function(e){return e.remoteStore}))}function __(e){return m_(e).then((function(e){return e.syncEngine}))}function w_(e){return Ed(this,void 0,void 0,(function(){var t,n;return kd(this,(function(r){switch(r.label){case 0:return[4,m_(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=xb.bind(null,t.syncEngine),n.onUnlisten=Pb.bind(null,t.syncEngine),n)]}}))}))}function S_(e,t,n){var r=this;void 0===n&&(n={});var i=new bm;return e.asyncQueue.enqueueAndForget((function(){return Ed(r,void 0,void 0,(function(){var r;return kd(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new u_({next:function(o){t.enqueueAndForget((function(){return gb(e,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Pd(Id.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Pd(Id.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),s=new bb(Yf(n.path),o,{includeMetadataChanges:!0,so:!0});return pb(e,s)},[4,w_(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function A_(e,t,n){var r=this;void 0===n&&(n={});var i=new bm;return e.asyncQueue.enqueueAndForget((function(){return Ed(r,void 0,void 0,(function(){var r;return kd(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new u_({next:function(n){t.enqueueAndForget((function(){return gb(e,s)})),n.fromCache&&"server"===r.source?i.reject(new Pd(Id.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new bb(n,o,{includeMetadataChanges:!0,so:!0});return pb(e,s)},[4,w_(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var C_=function(e,t,n,r,i,o,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},E_=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),k_=new Map,T_=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},x_=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(cy.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),I_=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),P_=function(){function e(e){var t=this;this.currentUser=cy.UNAUTHENTICATED,this.oc=new bm,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.hc(),t.oc.resolve(),t.ac&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Nd("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.lc(),t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):t.ac&&(Nd("FirebaseCredentialsProvider","Auth not yet detected"),t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)})))}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Nd("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(jd("string"==typeof n.accessToken),new T_(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){this.ac=!0,this.asyncQueue=e,this.changeListener=t},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.hc=function(){var e=this.auth&&this.auth.getUid();return jd(null===e||"string"==typeof e),new cy(e)},e.prototype.lc=function(){var e=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable((function(){return Ed(e,void 0,void 0,(function(){return kd(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,this.changeListener(this.currentUser)];case 2:return e.sent(),this.ac=!0,[2]}}))}))})))},e}(),O_=function(){function e(e,t,n){this.fc=e,this.dc=t,this.wc=n,this.type="FirstParty",this.user=cy.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.dc},t=this.fc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.wc&&(e["X-Goog-Iam-Authorization-Token"]=this.wc),e},enumerable:!1,configurable:!0}),e}(),R_=function(){function e(e,t,n){this.fc=e,this.dc=t,this.wc=n}return e.prototype.getToken=function(){return Promise.resolve(new O_(this.fc,this.dc,this.wc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(cy.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function N_(e,t,n){if(!n)throw new Pd(Id.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function D_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pd(Id.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function L_(e,t,n,r){if(!0===t&&!0===r)throw new Pd(Id.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function M_(e){if(!df.isDocumentKey(e))throw new Pd(Id.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function F_(e){if(df.isDocumentKey(e))throw new Pd(Id.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function j_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Fd()}function V_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Pd(Id.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=j_(e);throw new Pd(Id.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function U_(e,t){if(t<=0)throw new Pd(Id.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var B_=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Pd(Id.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pd(Id.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,L_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),q_=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,e instanceof E_?(this._databaseId=e,this._credentials=new x_):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Pd(Id.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new E_(e.options.projectId)}(e),this._credentials=new P_(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Pd(Id.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Pd(Id.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new x_;switch(e.type){case"gapi":var t=e.client;return jd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new R_(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Pd(Id.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return(e=k_.get(this))&&(Nd("ComponentProvider","Removing Datastore"),k_.delete(this),e.terminate()),Promise.resolve();var e},e}(),H_=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new G_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),z_=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),G_=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Yf(r))||this)._path=r,i.type="collection",i}return Cd(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new H_(this.firestore,null,new df(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(z_);function W_(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(Sl.h)(e),N_("collection","path",t),e instanceof q_)return F_(n=Xd.fromString.apply(Xd,Td([t],r))),new G_(e,null,n);if(!(e instanceof H_||e instanceof G_))throw new Pd(Id.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return F_(n=Xd.fromString.apply(Xd,Td([e.path],r)).child(Xd.fromString(t))),new G_(e.firestore,null,n)}function K_(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Object(Sl.h)(e),1===arguments.length&&(t=Bd.u()),N_("doc","path",t),e instanceof q_)return M_(n=Xd.fromString.apply(Xd,Td([t],r))),new H_(e,null,new df(n));if(!(e instanceof H_||e instanceof G_))throw new Pd(Id.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return M_(n=e._path.child(Xd.fromString.apply(Xd,Td([t],r)))),new H_(e.firestore,e instanceof G_?e.converter:null,new df(n))}function Q_(e,t){return e=Object(Sl.h)(e),t=Object(Sl.h)(t),(e instanceof H_||e instanceof G_)&&(t instanceof H_||t instanceof G_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $_(e,t){return e=Object(Sl.h)(e),t=Object(Sl.h)(t),e instanceof z_&&t instanceof z_&&e.firestore===t.firestore&&op(e._query,t._query)&&e.converter===t.converter}var Y_=function(){function e(){var e=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new Iy(this,"async_queue_retry"),this.Ac=function(){var t=Ty();t&&Nd("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Ty();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Rc(),this.bc(e)},e.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var e=Ty();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ac)}},e.prototype.enqueue=function(e){return this.Rc(),this.yc?new Promise((function(e){})):this.bc(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.mc.push(e),t.vc()}))},e.prototype.vc=function(){return Ed(this,void 0,void 0,(function(){var e,t=this;return kd(this,(function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Em(e=n.sent()))throw e;return Nd("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.mc.length>0&&this.Zi.ji((function(){return t.vc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.bc=function(e){var t=this,n=this._c.then((function(){return t.Tc=!0,e().catch((function(e){throw t.Ec=e,t.Tc=!1,Dd("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Tc=!1,e}))}));return this._c=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Rc(),this.Ic.indexOf(e)>-1&&(t=0);var i=ab.createAndSchedule(this,e,t,n,(function(e){return r.Pc(e)}));return this.gc.push(i),i},e.prototype.Rc=function(){this.Ec&&Fd()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Vc=function(){return Ed(this,void 0,void 0,(function(){var e;return kd(this,(function(t){switch(t.label){case 0:return[4,e=this._c];case 1:t.sent(),t.label=2;case 2:if(e!==this._c)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Sc=function(e){for(var t=0,n=this.gc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Dc=function(e){var t=this;return this.Vc().then((function(){t.gc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Vc()}))},e.prototype.Cc=function(e){this.Ic.push(e)},e.prototype.Pc=function(e){var t=this.gc.indexOf(e);this.gc.splice(t,1)},e}();function X_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new bm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var J_=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Y_,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Cd(t,e),t.prototype._terminate=function(){return this._firestoreClient||ew(this),this._firestoreClient.terminate()},t}(q_);function Z_(e){return e._firestoreClient||ew(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ew(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new C_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new d_(e._credentials,e._queue,r)}function tw(e,t,n){var r=this,i=new bm;return e.asyncQueue.enqueue((function(){return Ed(r,void 0,void 0,(function(){var r;return kd(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,f_(e,n)];case 1:return o.sent(),[4,p_(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Id.FAILED_PRECONDITION||e.code===Id.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function nw(e){if(e._initialized||e._terminated)throw new Pd(Id.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rw=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Pd(Id.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zd(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),iw=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(tf.fromBase64String(t))}catch(t){throw new Pd(Id.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(tf.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),ow=function(e){this._methodName=e},sw=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pd(Id.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pd(Id.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return qd(this._lat,e._lat)||qd(this._long,e._long)},e}(),aw=/^__.*__$/,lw=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Fp(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mp(e,this.data,t,this.fieldTransforms)},e}(),uw=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Fp(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function cw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fd()}}var hw=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),e.prototype.Fc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fc({path:n,Oc:!1});return r.$c(e),r},e.prototype.Mc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},e.prototype.Lc=function(e){return this.Fc({path:void 0,Oc:!0})},e.prototype.Bc=function(e){return Ow(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Nc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Bc("Document fields must not be empty");if(cw(this.xc)&&aw.test(e))throw this.Bc('Document fields cannot begin and end with "__"')},e}(),dw=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||xy(e)}return e.prototype.Qc=function(e,t,n,r){return void 0===r&&(r=!1),new hw({xc:e,methodName:t,Uc:n,path:Zd.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function fw(e){var t=e._freezeSettings(),n=xy(e._databaseId);return new dw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pw(e,t,n,r,i,o){void 0===o&&(o={});var s=e.Qc(o.merge||o.mergeFields?2:0,t,n,i);Tw("Data must be an object, but it was:",s,r);var a,l,u=Ew(r,s);if(o.merge)a=new ef(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,d=o.mergeFields;h<d.length;h++){var f=xw(t,d[h],n);if(!s.contains(f))throw new Pd(Id.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Rw(c,f)||c.push(f)}a=new ef(c),l=s.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,l=s.fieldTransforms;return new lw(new Ef(u),a,l)}var gw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.xc)throw e.Bc(1===e.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ow);function mw(e,t,n){return new hw({xc:3,Uc:t.settings.Uc,methodName:e._methodName,Oc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var vw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype._toFieldTransform=function(e){return new kp(e.path,new yp)},t.prototype.isEqual=function(e){return e instanceof t},t}(ow),yw=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Cd(t,e),t.prototype._toFieldTransform=function(e){var t=mw(this,e,!0),n=this.Kc.map((function(e){return Cw(e,t)})),r=new bp(n);return new kp(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ow),bw=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Cd(t,e),t.prototype._toFieldTransform=function(e){var t=mw(this,e,!0),n=this.Kc.map((function(e){return Cw(e,t)})),r=new wp(n);return new kp(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ow),_w=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).jc=n,r}return Cd(t,e),t.prototype._toFieldTransform=function(e){var t=new Ap(e.R,fp(e.R,this.jc));return new kp(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(ow);function ww(e,t,n,r){var i=e.Qc(1,t,n);Tw("Data must be an object, but it was:",i,r);var o=[],s=Ef.empty();Qd(r,(function(e,r){var a=Pw(t,e,n);r=Object(Sl.h)(r);var l=i.Mc(a);if(r instanceof gw)o.push(a);else{var u=Cw(r,l);null!=u&&(o.push(a),s.set(a,u))}}));var a=new ef(o);return new uw(s,a,i.fieldTransforms)}function Sw(e,t,n,r,i,o){var s=e.Qc(1,t,n),a=[xw(t,r,n)],l=[i];if(o.length%2!=0)throw new Pd(Id.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(xw(t,o[u])),l.push(o[u+1]);for(var c=[],h=Ef.empty(),d=a.length-1;d>=0;--d)if(!Rw(c,a[d])){var f=a[d],p=l[d];p=Object(Sl.h)(p);var g=s.Mc(f);if(p instanceof gw)c.push(f);else{var m=Cw(p,g);null!=m&&(c.push(f),h.set(f,m))}}var v=new ef(c);return new uw(h,v,s.fieldTransforms)}function Aw(e,t,n,r){return void 0===r&&(r=!1),Cw(n,e.Qc(r?4:3,t))}function Cw(e,t){if(kw(e=Object(Sl.h)(e)))return Tw("Unsupported field value:",t,e),Ew(e,t);if(e instanceof ow)return function(e,t){if(!cw(t.xc))throw t.Bc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Bc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oc&&4!==t.xc)throw t.Bc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=Cw(o[i],t.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(Sl.h)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fp(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gd.fromDate(e);return{timestampValue:wg(t.R,n)}}if(e instanceof Gd)return n=new Gd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:wg(t.R,n)};if(e instanceof sw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iw)return{bytesValue:Sg(t.R,e._byteString)};if(e instanceof H_){var r=e.firestore._databaseId;if(!r.isEqual(n=t.databaseId))throw t.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Eg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Bc("Unsupported field value: "+j_(e))}(e,t)}function Ew(e,t){var n={};return $d(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qd(e,(function(e,r){var i=Cw(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gd||e instanceof sw||e instanceof iw||e instanceof H_||e instanceof ow)}function Tw(e,t,n){if(!kw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=j_(n);throw t.Bc("an object"===r?e+" a custom object":e+" "+r)}}function xw(e,t,n){if((t=Object(Sl.h)(t))instanceof rw)return t._internalPath;if("string"==typeof t)return Pw(e,t);throw Ow("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Iw=new RegExp("[~\\*/\\[\\]]");function Pw(e,t,n){if(t.search(Iw)>=0)throw Ow("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(rw.bind.apply(rw,Td([void 0],t.split(".")))))._internalPath}catch(r){throw Ow("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ow(e,t,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(o||s)&&(l+=" (found",o&&(l+=" in field "+r),s&&(l+=" in document "+i),l+=")"),new Pd(Id.INVALID_ARGUMENT,(a+=". ")+e+l)}function Rw(e,t){return e.some((function(e){return e.isEqual(t)}))}var Nw=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new H_(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Dw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Lw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Dw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Nw);function Lw(e,t){return"string"==typeof t?Pw(e,t):t instanceof rw?t._internalPath:t._delegate._internalPath}var Mw=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Fw=function(e){function t(t,n,r,i,o,s){var a=this;return(a=e.call(this,t,n,r,i,s)||this)._firestore=t,a._firestoreImpl=t,a.metadata=o,a}return Cd(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Lw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Nw),jw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Fw),Vw=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jw(n._firestore,n._userDataWriter,r.key,r,new Mw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pd(Id.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new jw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Mw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Mw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Uw(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Uw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fd()}}function Bw(e,t){return e instanceof Fw&&t instanceof Fw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Vw&&t instanceof Vw&&e._firestore===t._firestore&&$_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function qw(e){if(Jf(e)&&0===e.explicitOrderBy.length)throw new Pd(Id.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hw=function(){};function zw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Gw=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Wc=t,i.Gc=n,i.zc=r,i.type="where",i}return Cd(t,e),t.prototype._apply=function(e){var t=fw(e.firestore),n=function(e,t,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Pd(Id.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Jw(s,o);for(var l=[],u=0,c=s;u<c.length;u++)l.push(Xw(r,e,c[u]));a={arrayValue:{values:l}}}else a=Xw(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Jw(s,o),a=Aw(n,"where",s,"in"===o||"not-in"===o);var h=Nf.create(i,o,a);return function(e,t){if(t.g()){var n=ep(e);if(null!==n&&!n.isEqual(t.field))throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Zf(e);null!==r&&Zw(0,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Pd(Id.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Wc,this.Gc,this.zc);return new z_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Qf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Hw),Ww=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Wc=t,r.Hc=n,r.type="orderBy",r}return Cd(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zf(t,n);return function(e,t){if(null===Zf(e)){var n=ep(e);null!==n&&Zw(0,n,t.field)}}(e,r),r}(e._query,this.Wc,this.Hc);return new z_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Qf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Hw),Kw=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return Cd(t,e),t.prototype._apply=function(e){return new z_(e.firestore,e.converter,ip(e._query,this.Jc,this.Yc))},t}(Hw),Qw=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return Cd(t,e),t.prototype._apply=function(e){var t=Yw(e,this.type,this.Xc,this.Zc);return new z_(e.firestore,e.converter,function(e,t){return new Qf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Hw),$w=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Xc=n,i.Zc=r,i}return Cd(t,e),t.prototype._apply=function(e){var t=Yw(e,this.type,this.Xc,this.Zc);return new z_(e.firestore,e.converter,function(e,t){return new Qf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Hw);function Yw(e,t,n,r){if(n[0]=Object(Sl.h)(n[0]),n[0]instanceof Nw)return function(e,t,n,r,i){if(!r)throw new Pd(Id.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=np(e);s<a.length;s++){var l=a[s];if(l.field.isKeyField())o.push(bf(t,r.key));else{var u=r.data.field(l.field);if(af(u))throw new Pd(Id.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=l.field.canonicalString();throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(u)}}return new qf(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=fw(e.firestore);return function(e,t,n,r,i,o){var s=e.explicitOrderBy;if(i.length>s.length)throw new Pd(Id.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<i.length;l++){var u=i[l];if(s[l].field.isKeyField()){if("string"!=typeof u)throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!tp(e)&&-1!==u.indexOf("/"))throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=e.path.child(Xd.fromString(u));if(!df.isDocumentKey(c))throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new df(c);a.push(bf(t,h))}else{var d=Aw(n,r,u);a.push(d)}}return new qf(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function Xw(e,t,n){if("string"==typeof(n=Object(Sl.h)(n))){if(""===n)throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!tp(t)&&-1!==n.indexOf("/"))throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Xd.fromString(n));if(!df.isDocumentKey(r))throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return bf(e,new df(r))}if(n instanceof H_)return bf(e,n._key);throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+j_(n)+".")}function Jw(e,t){if(!Array.isArray(e)||0===e.length)throw new Pd(Id.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Pd(Id.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Zw(e,t,n){if(!n.isEqual(t))throw new Pd(Id.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var eS=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ff(e)){case 0:return null;case 1:return e.booleanValue;case 2:return of(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fd()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Qd(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new sw(of(e.latitude),of(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return af(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(lf(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=rf(e);return new Gd(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Xd.fromString(e);jd($g(n));var r=new E_(n.get(1),n.get(3)),i=new df(n.popFirst(5));return r.isEqual(t)||Dd("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function tS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var nS=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Cd(t,e),t.prototype.convertBytes=function(e){return new iw(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new H_(this.firestore,null,t)},t}(eS),rS=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fw(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=iS(e,this._firestore),i=tS(r.converter,t,n),o=pw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,xp.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=iS(e,this._firestore);return o="string"==typeof(t=Object(Sl.h)(t))||t instanceof rw?Sw(this._dataReader,"WriteBatch.update",s._key,t,n,r):ww(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,xp.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=iS(e,this._firestore);return this._mutations=this._mutations.concat(new Hp(t._key,xp.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Pd(Id.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function iS(e,t){if((e=Object(Sl.h)(e)).firestore!==t)throw new Pd(Id.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oS=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Cd(t,e),t.prototype.convertBytes=function(e){return new iw(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new H_(this.firestore,null,t)},t}(eS);function sS(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=V_(e,H_);var o=V_(e.firestore,J_),s=fw(o);return lS(o,[("string"==typeof(t=Object(Sl.h)(t))||t instanceof rw?Sw(s,"updateDoc",e._key,t,n,r):ww(s,"updateDoc",e._key,t)).toMutation(e._key,xp.exists(!0))])}function aS(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Object(Sl.h)(e);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||X_(i[a])||(s=i[a],a++);var l,u,c,h={includeMetadataChanges:s.includeMetadataChanges};if(X_(i[a])){var d=i[a];i[a]=null===(t=d.next)||void 0===t?void 0:t.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(e instanceof H_)u=V_(e.firestore,J_),c=Yf(e._key.path),l={next:function(t){i[a]&&i[a](uS(u,e,t))},error:i[a+1],complete:i[a+2]};else{var f=V_(e,z_);u=V_(f.firestore,J_),c=f._query;var p=new oS(u);l={next:function(e){i[a]&&i[a](new Vw(u,p,f,e))},error:i[a+1],complete:i[a+2]},qw(e._query)}return function(e,t,n,r){var i=this,o=new u_(r),s=new bb(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Ed(i,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return t=pb,[4,w_(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ed(i,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return t=gb,[4,w_(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(Z_(u),c,h,l)}function lS(e,t){return function(e,t){var n=this,r=new bm;return e.asyncQueue.enqueueAndForget((function(){return Ed(n,void 0,void 0,(function(){var n;return kd(this,(function(i){switch(i.label){case 0:return n=Ob,[4,__(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Z_(e),t)}function uS(e,t,n){var r=n.docs.get(t._key),i=new oS(e);return new Fw(e,i,t._key,r,new Mw(n.hasPendingWrites,n.fromCache),t.converter)}var cS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Cd(t,e),t.prototype.get=function(t){var n=this,r=iS(t,this._firestore),i=new oS(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Fw(n._firestore,i,r._key,e._document,new Mw(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=fw(e)}return e.prototype.get=function(e){var t=this,n=iS(e,this._firestore),r=new nS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Fd();var i=e[0];if(i.isFoundDocument())return new Nw(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Nw(t._firestore,r,n._key,null,n.converter);throw Fd()}))},e.prototype.set=function(e,t,n){var r=iS(e,this._firestore),i=tS(r.converter,t,n),o=pw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=iS(e,this._firestore);return o="string"==typeof(t=Object(Sl.h)(t))||t instanceof rw?Sw(this._dataReader,"Transaction.update",s._key,t,n,r):ww(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this},e.prototype.delete=function(e){var t=iS(e,this._firestore);return this._transaction.delete(t._key),this},e}());function hS(){if("undefined"==typeof Uint8Array)throw new Pd(Id.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dS(){if("undefined"==typeof atob)throw new Pd(Id.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var fS=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return dS(),new e(iw.fromBase64String(t))},e.fromUint8Array=function(t){return hS(),new e(iw.fromUint8Array(t))},e.prototype.toBase64=function(){return dS(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return hS(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),pS=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){nw(e=V_(e,J_));var n=Z_(e),r=e._freezeSettings(),i=new l_;return tw(n,i,new s_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){nw(e=V_(e,J_));var t=Z_(e),n=e._freezeSettings(),r=new l_;return tw(t,r,new a_(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Pd(Id.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bm;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ed(t,void 0,void 0,(function(){var t;return kd(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Ed(this,void 0,void 0,(function(){return kd(this,(function(t){switch(t.label){case 0:return Sm.yt()?[4,Sm.delete(e+"main")]:[2,Promise.resolve()];case 1:return t.sent(),[2]}}))}))}(Nv(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),gS=function(){function e(e,t,n){var r=this;this._delegate=t,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof E_||(this.ea=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=V_(e,q_))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&Ld("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=Object(Sl.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Pd(Id.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new I_(new T_(o,new cy(s)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ed(t,void 0,void 0,(function(){var t,n;return kd(this,(function(r){switch(r.label){case 0:return[4,v_(e)];case 1:return t=r.sent(),[4,b_(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Vd(e);return t.$r.delete(0),My(t)}(n))]}}))}))}))}(Z_(V_(this._delegate,J_)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ed(t,void 0,void 0,(function(){var t,n;return kd(this,(function(r){switch(r.label){case 0:return[4,v_(e)];case 1:return t=r.sent(),[4,b_(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Ed(this,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return(t=Vd(e)).$r.add(0),[4,Fy(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Z_(V_(this._delegate,J_)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&L_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new bm;return e.asyncQueue.enqueueAndForget((function(){return Ed(t,void 0,void 0,(function(){var t;return kd(this,(function(r){switch(r.label){case 0:return t=Fb,[4,__(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Z_(V_(this._delegate,J_)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new u_(t);return e.asyncQueue.enqueueAndForget((function(){return Ed(n,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return t=function(e,t){Vd(e).Gr.add(t),t.next()},[4,w_(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ed(n,void 0,void 0,(function(){var t;return kd(this,(function(n){switch(n.label){case 0:return t=function(e,t){Vd(e).Gr.delete(t)},[4,w_(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Z_(e=V_(e,J_)),X_(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.ea)throw new Pd(Id.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new IS(this,W_(this._delegate,e))}catch(e){throw wS(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new _S(this,K_(this._delegate,e))}catch(e){throw wS(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new kS(this,function(e,t){if(e=V_(e,q_),N_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pd(Id.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new z_(e,null,function(e){return new Qf(Xd.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw wS(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new bm;return e.asyncQueue.enqueueAndForget((function(){return Ed(n,void 0,void 0,(function(){var n;return kd(this,(function(i){switch(i.label){case 0:return[4,function(e){return m_(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new h_(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Z_(e),(function(n){return t(new cS(e,n))}))}(this._delegate,(function(n){return e(new vS(t,n))}))},e.prototype.batch=function(){var e=this;return Z_(this._delegate),new yS(new rS(this._delegate,(function(t){return lS(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Pd(Id.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Pd(Id.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),mS=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Cd(t,e),t.prototype.convertBytes=function(e){return new fS(new iw(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return _S.na(t,this.firestore,null)},t}(eS),vS=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}return e.prototype.get=function(e){var t=this,n=PS(e);return this._delegate.get(n).then((function(e){return new CS(t._firestore,new Fw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=PS(e);return n?(D_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=PS(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,Td([s,t,n],i)),this},e.prototype.delete=function(e){var t=PS(e);return this._delegate.delete(t),this},e}(),yS=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=PS(e);return n?(D_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=PS(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,Td([s,t,n],i)),this},e.prototype.delete=function(e){var t=PS(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),bS=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new jw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ES(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.sa=function(t,n){var r=e.ia,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new mS(t),n),i.set(n,o)),o},e}();bS.ia=new WeakMap;var _S=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}return e.ra=function(t,n,r){if(t.length%2!=0)throw new Pd(Id.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new H_(n._delegate,r,new df(t)))},e.na=function(t,n,r){return new e(n,new H_(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new IS(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new IS(this.firestore,W_(this._delegate,e))}catch(e){throw wS(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(Sl.h)(e))instanceof H_&&Q_(this._delegate,e)},e.prototype.set=function(e,t){t=D_("DocumentReference.set",t);try{return function(e,t,n){e=V_(e,H_);var r=V_(e.firestore,J_),i=tS(e.converter,t,n);return lS(r,[pw(fw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xp.none())])}(this._delegate,e,t)}catch(e){throw wS(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sS(this._delegate,e):sS.apply(void 0,Td([this._delegate,e,t],n))}catch(e){throw wS(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return lS(V_((e=this._delegate).firestore,J_),[new Hp(e._key,xp.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=SS(t),i=AS(t,(function(t){return new CS(e.firestore,new Fw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return aS(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=V_(e,H_);var t=V_(e.firestore,J_),n=Z_(t),r=new oS(t);return function(e,t){var n=this,r=new bm;return e.asyncQueue.enqueueAndForget((function(){return Ed(n,void 0,void 0,(function(){var n;return kd(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i;return kd(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Vd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Pd(Id.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=lb(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,y_(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Fw(t,r,e._key,n,new Mw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=V_(e,H_);var t=V_(e.firestore,J_);return S_(Z_(t),e._key,{source:"server"}).then((function(n){return uS(t,e,n)}))}(this._delegate):function(e){e=V_(e,H_);var t=V_(e.firestore,J_);return S_(Z_(t),e._key).then((function(n){return uS(t,e,n)}))}(this._delegate)).then((function(e){return new CS(t.firestore,new Fw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?bS.sa(this.firestore,t):null))},e}();function wS(e,t,n){return e.message=e.message.replace(t,n),e}function SS(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!X_(r))return r}return{}}function AS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=X_(e[0])?e[0]:X_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var CS=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new _S(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Bw(this._delegate,e._delegate)},e}(),ES=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cd(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(CS),kS=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mS(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,zw(this._delegate,function(e,t,n){var r=t,i=Lw("where",e);return new Gw(i,r,n)}(t,n,r)))}catch(t){throw wS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zw(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Lw("orderBy",e);return new Ww(r,n)}(t,n)))}catch(t){throw wS(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zw(this._delegate,function(e){return U_("limit",e),new Kw("limit",e,"F")}(t)))}catch(t){throw wS(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zw(this._delegate,function(e){return U_("limitToLast",e),new Kw("limitToLast",e,"L")}(t)))}catch(t){throw wS(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Qw("startAt",e,!0)}).apply(void 0,t)))}catch(t){throw wS(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Qw("startAfter",e,!1)}).apply(void 0,t)))}catch(t){throw wS(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new $w("endBefore",e,!0)}).apply(void 0,t)))}catch(t){throw wS(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new $w("endAt",e,!1)}).apply(void 0,t)))}catch(t){throw wS(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return $_(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=V_(e,z_);var t=V_(e.firestore,J_),n=Z_(t),r=new oS(t);return function(e,t){var n=this,r=new bm;return e.asyncQueue.enqueueAndForget((function(){return Ed(n,void 0,void 0,(function(){var n;return kd(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ed(this,void 0,void 0,(function(){var r,i,o,s,a;return kd(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,Qv(e,t,!0)];case 1:return a=l.sent(),r=new Cb(t,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=l.sent(),a=lb(s,"Failed to execute query '"+t+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,y_(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Vw(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=V_(e,z_);var t=V_(e.firestore,J_),n=Z_(t),r=new oS(t);return A_(n,e._query,{source:"server"}).then((function(n){return new Vw(t,r,e,n)}))}(this._delegate):function(e){e=V_(e,z_);var t=V_(e.firestore,J_),n=Z_(t),r=new oS(t);return qw(e._query),A_(n,e._query).then((function(n){return new Vw(t,r,e,n)}))}(this._delegate)).then((function(e){return new xS(t.firestore,new Vw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=SS(t),i=AS(t,(function(t){return new xS(e.firestore,new Vw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return aS(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?bS.sa(this.firestore,t):null))},e}(),TS=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new ES(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),xS=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new kS(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new ES(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TS(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ES(n._firestore,r))}))},e.prototype.isEqual=function(e){return Bw(this._delegate,e._delegate)},e}(),IS=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Cd(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new _S(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new _S(this.firestore,void 0===e?K_(this._delegate):K_(this._delegate,e))}catch(e){throw wS(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=V_(e.firestore,J_),r=K_(e),i=tS(e.converter,t);return lS(n,[pw(fw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xp.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new _S(t.firestore,e)}))},t.prototype.isEqual=function(e){return Q_(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?bS.sa(this.firestore,e):null))},t}(kS);function PS(e){return V_(e,H_)}var OS,RS=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(rw.bind.apply(rw,Td([void 0],e)))}return e.documentId=function(){return new e(Zd.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(Sl.h)(e))instanceof rw&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),NS=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new vw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new gw("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new yw("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bw("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new _w("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),DS=n("/6Yf"),LS={Firestore:gS,GeoPoint:sw,Timestamp:Gd,Blob:fS,Transaction:vS,WriteBatch:yS,DocumentReference:_S,DocumentSnapshot:CS,Query:kS,QueryDocumentSnapshot:ES,QuerySnapshot:xS,CollectionReference:IS,FieldPath:RS,FieldValue:NS,setLogLevel:function(e){Od.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};function MS(e,t){return function(e,t=pl.a){return new Q.a(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function FS(e,t){return MS(e,t).pipe(Object(le.a)(e=>({payload:e,type:"query"})))}function jS(e,t){return FS(e,t).pipe(He(void 0),gl(),Object(le.a)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const o=n.find(e=>e.doc.ref.isEqual(t.ref)),s=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(t.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function VS(e,t,n){return jS(e,n).pipe(ze((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return US(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return US(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return US(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),yl(),Object(le.a)(e=>e.map(e=>({type:e.type,payload:e}))))}function US(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function BS(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}(function(e,t){e.INTERNAL.registerComponent(new DS.a("firestore",(function(e){return function(e,t){return new gS(e,new J_(e,t),new pS)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},LS)))})(OS=wl.a),OS.registerVersion("@firebase/firestore","2.3.1");class qS{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=jS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(Object(le.a)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(He(void 0),gl(),de(([e,t])=>t.length>0||!e),Object(le.a)(([e,t])=>t),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ze((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=BS(e);return VS(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return FS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(le.a)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),this.afs.keepUnstableUntilFirst)}get(e){return Object(z.a)(this.query.get(e)).pipe(Object(Xa.b)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new HS(this.ref.doc(e),this.afs)}}class HS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=$S(n,t);return new qS(r,i,this.afs)}snapshotChanges(){return MS(this.ref,this.afs.schedulers.outsideAngular).pipe(He(void 0),gl(),Object(le.a)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe(Object(le.a)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return Object(z.a)(this.ref.get(e)).pipe(Object(Xa.b)(this.afs.schedulers.insideAngular))}}class zS{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?jS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(le.a)(t=>t.filter(t=>e.indexOf(t.type)>-1)),de(e=>e.length>0),this.afs.keepUnstableUntilFirst):jS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(ze((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=BS(e);return VS(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return FS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(le.a)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),this.afs.keepUnstableUntilFirst)}get(e){return Object(z.a)(this.query.get(e)).pipe(Object(Xa.b)(this.afs.schedulers.insideAngular))}}const GS=new r.p("angularfire2.enableFirestorePersistence"),WS=new r.p("angularfire2.firestore.persistenceSettings"),KS=new r.p("angularfire2.firestore.settings"),QS=new r.p("angularfire2.firestore.use-emulator");function $S(e,t=(e=>e)){return{query:t(e),ref:e}}let YS=(()=>{class e{constructor(e,t,n,r,i,o,s,a,l){this.schedulers=new ol.e(o),this.keepUnstableUntilFirst=Object(ol.i)(this.schedulers);const u=Object(ol.h)(e,o,t);!$a.a.auth&&l&&Object(ol.k)();const c=a;[this.firestore,this.persistenceEnabled$]=Object(ol.g)(u.name+".firestore","AngularFirestore",u,()=>{const e=o.runOutsideAngular(()=>u.firestore());if(r&&e.settings(r),c&&e.useEmulator(...c),n&&!D(i)){const t=()=>{try{return Object(z.a)(e.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(OS){return"undefined"!=typeof console&&console.warn(OS),Object(H.a)(!1)}};return[e,o.runOutsideAngular(t)]}return[e,Object(H.a)(!1)]},[r,c,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=$S(n,t),o=this.schedulers.ngZone.run(()=>r);return new qS(o,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new zS(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new HS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275prov=r.Qb({factory:function(){return new e(r.Rb(ol.c),r.Rb(ol.b,8),r.Rb(GS,8),r.Rb(KS,8),r.Rb(r.A),r.Rb(r.y),r.Rb(WS,8),r.Rb(QS,8),r.Rb(sl,8))},token:e,providedIn:"any"}),e})();class XS{static enablePersistence(e){return{ngModule:XS,providers:[{provide:GS,useValue:!0},{provide:WS,useValue:e}]}}}let JS=(()=>{class e{constructor(e,t,n){this.http=e,this.afAuth=t,this.afs=n,this.estaLogueado=!1,this.user$=this.afAuth.authState.pipe(Ve(e=>e?this.afs.doc("users/"+e.uid).valueChanges():Object(H.a)(null)))}login(e,t,n){let r={numeroId:t.toString(),password:n};this.http.post(e,r).subscribe(e=>{e.success&&(this.estaLogueado=!0,this.guardarToken(e.token,e.tipo,e.usuario))},e=>{})}logout(e){this.http.get(e).subscribe(e=>{this.estaLogueado=!1,localStorage.removeItem("token"),localStorage.removeItem("tipo")},e=>{},()=>{})}guardarToken(e,t,n){localStorage.setItem("token",e),localStorage.setItem("tipo",t),localStorage.setItem("usuario",n)}verificaLogin(){let e=localStorage.getItem("token"),t=localStorage.getItem("tipo");return!(!e||!t)}verificaAdmin(){return"administrador"===localStorage.getItem("tipo")}recaptchaVerify(){this.appVerifier=new $a.a.auth.RecaptchaVerifier("recaptcha-container",{size:"invisible",callback:function(e){console.log(e)},"expired-callback":function(){console.log("expired-callback")}}),console.log("Leyo el repcacha")}resetPassword(e){return Ka(this,void 0,void 0,(function*(){try{return this.afAuth.sendPasswordResetEmail(e)}catch(t){console.log("Error:",t)}}))}loginGoogle(){return Ka(this,void 0,void 0,(function*(){try{const{user:e}=yield this.afAuth.signInWithPopup(new $a.a.auth.GoogleAuthProvider);return console.log(e),this.updateUserData(e),e}catch(e){console.log("Error:",e)}}))}loginFacebook(){return Ka(this,void 0,void 0,(function*(){try{const{user:e}=yield this.afAuth.signInWithPopup(new $a.a.auth.FacebookAuthProvider);return this.updateUserData(e),console.log(e),e}catch(e){console.log("Error:",e)}}))}loginAnonymous(){return Ka(this,void 0,void 0,(function*(){try{yield this.afAuth.signInAnonymously().then(e=>{this.updateUserData(e.user),console.log(e.user)}).catch(e=>{})}catch(e){console.log("Error:",e)}}))}loginPhoneNumber(e){return Ka(this,void 0,void 0,(function*(){try{return yield this.afAuth.signInWithPhoneNumber(e,this.appVerifier).then(e=>{this.confirmationResult=e,console.log(this.confirmationResult)}).catch(e=>{console.log("error - no envio mensaje",e)}),!0}catch(t){return console.log("Error jhhkhkjh:",t),!1}}))}register(e,t){return Ka(this,void 0,void 0,(function*(){try{const{user:n}=yield this.afAuth.createUserWithEmailAndPassword(e,t);return yield this.sendVerificationEmail(),this.updateUserData(n),n}catch(n){console.log(n.code)}}))}loginClient(e,t){return Ka(this,void 0,void 0,(function*(){try{const{user:n}=yield this.afAuth.signInWithEmailAndPassword(e,t);return n}catch(n){console.log("Error:",n)}}))}sendVerificationEmail(){return Ka(this,void 0,void 0,(function*(){try{return(yield this.afAuth.currentUser).sendEmailVerification()}catch(e){console.log("Error:",e)}}))}logoutClient(){return Ka(this,void 0,void 0,(function*(){try{yield this.afAuth.signOut()}catch(e){console.log("Error:",e)}}))}updateUserData(e){return this.afs.doc("users/"+e.uid).set({uid:e.uid,email:e.email,displayName:e.displayName,emailVerified:e.emailVerified,photoURL:e.photoURL,phoneNumber:e.phoneNumber},{merge:!0})}getEmail(e){return Ka(this,void 0,void 0,(function*(){let t=$a.a.firestore().collection("users");return(yield t.where("email","==",e).get()).empty?(console.log("email no ha sido registrado continuar"),!0):(console.log("email en uso - favor ingresar password"),!1)}))}getCodeConfirm(e){return Ka(this,void 0,void 0,(function*(){try{yield this.confirmationResult.confirm(e).then(e=>{this.updateUserData(e.user),console.log(e.user)}).catch(e=>{console.log(e)})}catch(t){console.log("error ajhfksaf",t)}}))}isEmailVerified(e){return!0===e.emailVerified}}return e.ngInjectableDef=r.Qb({factory:function(){return new e(r.Rb(Mo),r.Rb(dl),r.Rb(YS))},token:e,providedIn:"root"}),e})();var ZS=r.rb({encapsulation:0,styles:[[".checkout-wrapper[_ngcontent-%COMP%]{padding-top:40px;padding-bottom:40px;background-color:#fafbfa}.checkout[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 1px 2px 0 #e9e9e9;font-size:14px;border-radius:5px}.form-social[_ngcontent-%COMP%], .login-box[_ngcontent-%COMP%]{padding:0 50px}.form-social[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#1e1c38}.checkout-step[_ngcontent-%COMP%]{border-top:1px solid #f3f3f3;color:#2b2f4c;font-size:14px;padding:30px;position:relative}.checkout-step[_ngcontent-%COMP%]:first-child{border-top:0}.checkout-step-number[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #f55d2c;display:inline-block;font-size:14px;font-weight:600;height:32px;margin-right:20px;padding:6px;text-align:center;width:32px;color:#fff;background:#f55d2c}.checkout-step-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;vertical-align:middle;display:inline-block;margin:0}.wizard-btn[_ngcontent-%COMP%]{background:0 0;border:0;font-family:Roboto,sans-serif;font-weight:500;font-size:18px;color:#2b2f4c}.checout-address-step[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:18px;display:inline-block;width:100%}.checkout-step-body[_ngcontent-%COMP%]{padding-left:0;padding-top:30px}.checkout-step-active[_ngcontent-%COMP%]{display:block}.checkout-step-disabled[_ngcontent-%COMP%]{display:none}.login-phone[_ngcontent-%COMP%]{display:inline-block}.login-phone[_ngcontent-%COMP%]:after{content:'+91 - ';font-size:14px;left:36px;top:18px;font-family:Rajdhani,sans-serif;font-weight:600;color:#2b2f4c}.login-phone[_ngcontent-%COMP%]:before{content:\"\";font-style:normal;color:#333;font-size:18px;left:12px;display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.login-phone[_ngcontent-%COMP%]:after, .login-phone[_ngcontent-%COMP%]:before{position:absolute;transform:translateY(-50%)}.login-phone[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:68px;font-size:14px;font-family:Rajdhani,sans-serif;font-weight:600;color:#2b2f4c;border:1px solid #efefef}.checkout-login[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:42px;line-height:1.8}.otp-verifaction[_ngcontent-%COMP%]{margin-top:20px}.checkout-sidebar[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #eaefe9;padding:30px;margin-bottom:30px}.checkout-sidebar-merchant-box[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #eaefe9;margin-bottom:30px}.checkout-total[_ngcontent-%COMP%]{border-bottom:1px solid #eaefe9;padding-bottom:10px;margin-bottom:10px}.checkout-invoice[_ngcontent-%COMP%]{display:inline-block;width:100%}.checout-invoice-title[_ngcontent-%COMP%]{float:left;color:#30322f}.checout-invoice-price[_ngcontent-%COMP%]{float:right;color:#30322f}.checkout-charges[_ngcontent-%COMP%]{display:inline-block;width:100%}.checout-charges-title[_ngcontent-%COMP%]{float:left}.checout-charges-price[_ngcontent-%COMP%]{float:right}.charges-free[_ngcontent-%COMP%]{color:#43b02a;font-weight:600}.checkout-payable[_ngcontent-%COMP%]{display:inline-block;width:100%;color:#333}.checkout-payable-title[_ngcontent-%COMP%]{float:left}.checkout-payable-price[_ngcontent-%COMP%]{float:right}.checkout-cart-merchant-box[_ngcontent-%COMP%]{padding:20px;display:inline-block;width:100%;border-bottom:1px solid #eaefe9}.checkout-cart-merchant-name[_ngcontent-%COMP%]{color:#30322f;float:left}.checkout-cart-merchant-item[_ngcontent-%COMP%]{float:right;color:#30322f}.checkout-cart-products[_ngcontent-%COMP%]   .checkout-charges[_ngcontent-%COMP%]{padding:10px 20px;color:#333}.checkout-cart-item[_ngcontent-%COMP%]{border-bottom:1px solid #eaefe9;box-sizing:border-box;display:table;font-size:12px;padding:22px 20px;width:100%}.checkout-item-count[_ngcontent-%COMP%]{float:left}.checkout-item-img[_ngcontent-%COMP%]{width:60px;float:left}.checkout-item-name-box[_ngcontent-%COMP%]{float:left}.checkout-item-title[_ngcontent-%COMP%]{color:#30322f;font-size:14px}.checkout-item-price[_ngcontent-%COMP%]{float:right;color:#30322f;font-size:14px;font-weight:600}.checkout-viewmore-btn[_ngcontent-%COMP%]{padding:10px;text-align:center}.header-checkout-item[_ngcontent-%COMP%]{text-align:right;padding-top:20px}.checkout-promise-item[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:14px;display:inline-block;margin-left:20px;padding-left:24px;color:#30322f}.checkout-promise-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:10px;color:#43b02a}.qty-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:0;margin-right:10px}.cart-item-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:11px}.cart-item-price-resumen[_ngcontent-%COMP%]{font-size:18px;font-weight:700;line-height:24px;color:#f5792c;text-align:right;margin-top:-20px}.method-pay[_ngcontent-%COMP%]{font-size:14px;margin-left:15px}.pdpt-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{border-bottom:0;padding:0;display:inline}.pdpt-title[_ngcontent-%COMP%]{border-bottom:1px solid #efefef;padding:15px 20px}.form-control-pay[_ngcontent-%COMP%]{display:inline;border-radius:0!important;border:0 solid #efefef!important}.form-control-lg-pay[_ngcontent-%COMP%]{height:30px;padding-top:0;padding-left:0;line-height:0;border-radius:0}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:0}"]],data:{}});function eA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==r.Eb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Eb(e,2).onReset()&&i),"ngSubmit"===t&&(i=!1!==o.onSubmitemailOrPhoneNumber(o.loginForm.value)&&i),i}),null,null)),r.sb(1,16384,null,0,ca,[],null,null),r.sb(2,540672,null,0,da,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Hb(2048,null,cs,null,[da]),r.sb(4,16384,null,0,gs,[[4,cs]],null,null),(e()(),r.tb(5,0,null,null,4,"div",[["class","form-title"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Bienvenido"])),(e()(),r.tb(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Con tu direcci\xf3n de correo electr\xf3nico o n\xfamero de tel\xe9fono m\xf3vil"])),(e()(),r.tb(10,0,null,null,9,"div",[["class","form-group pos_rel"]],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,7,"input",[["class","form-control lgn_input"],["formControlName","emailOrPhoneNumber"],["placeholder","Correo electr\xf3nico o tel\xe9fono m\xf3vil"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Eb(e,12)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,12).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Eb(e,12)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Eb(e,12)._compositionEnd(n.target.value)&&i),i}),null,null)),r.sb(12,16384,null,0,ls,[r.C,r.k,[2,as]],null,null),r.sb(13,16384,null,0,va,[],{required:[0,"required"]},null),r.Hb(1024,null,vs,(function(e){return[e]}),[va]),r.Hb(1024,null,ss,(function(e){return[e]}),[ls]),r.sb(16,671744,null,0,ma,[[3,cs],[6,vs],[8,null],[6,ss],[2,ha]],{name:[0,"name"]},null),r.Hb(2048,null,ds,null,[ma]),r.sb(18,16384,null,0,ps,[[4,ds]],null,null),(e()(),r.tb(19,0,null,null,0,"i",[["class","uil uil-mobile-android-alt lgn_icon"]],null,null,null,null,null)),(e()(),r.tb(20,0,null,null,1,"button",[["class","login-btn hover-btn"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),r.Kb(-1,null,["Continuar"]))],(function(e,t){e(t,2,0,t.component.loginForm),e(t,13,0,""),e(t,16,0,"emailOrPhoneNumber")}),(function(e,t){var n=t.component;e(t,0,0,r.Eb(t,4).ngClassUntouched,r.Eb(t,4).ngClassTouched,r.Eb(t,4).ngClassPristine,r.Eb(t,4).ngClassDirty,r.Eb(t,4).ngClassValid,r.Eb(t,4).ngClassInvalid,r.Eb(t,4).ngClassPending),e(t,11,0,r.Eb(t,13).required?"":null,r.Eb(t,18).ngClassUntouched,r.Eb(t,18).ngClassTouched,r.Eb(t,18).ngClassPristine,r.Eb(t,18).ngClassDirty,r.Eb(t,18).ngClassValid,r.Eb(t,18).ngClassInvalid,r.Eb(t,18).ngClassPending),e(t,20,0,n.loginForm.invalid)}))}function tA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==r.Eb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Eb(e,2).onReset()&&i),"ngSubmit"===t&&(i=!1!==o.onRegister(o.passForm.value)&&i),i}),null,null)),r.sb(1,16384,null,0,ca,[],null,null),r.sb(2,540672,null,0,da,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Hb(2048,null,cs,null,[da]),r.sb(4,16384,null,0,gs,[[4,cs]],null,null),(e()(),r.tb(5,0,null,null,4,"div",[["class","form-title"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Registrate"])),(e()(),r.tb(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Para continuar con tu registro, Ingresa una contrase\xf1a para tu cuenta."])),(e()(),r.tb(10,0,null,null,9,"div",[["class","form-group pos_rel"]],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,7,"input",[["class","form-control lgn_input"],["formControlName","password"],["placeholder","Contrase\xf1a"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Eb(e,12)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,12).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Eb(e,12)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Eb(e,12)._compositionEnd(n.target.value)&&i),i}),null,null)),r.sb(12,16384,null,0,ls,[r.C,r.k,[2,as]],null,null),r.sb(13,16384,null,0,va,[],{required:[0,"required"]},null),r.Hb(1024,null,vs,(function(e){return[e]}),[va]),r.Hb(1024,null,ss,(function(e){return[e]}),[ls]),r.sb(16,671744,null,0,ma,[[3,cs],[6,vs],[8,null],[6,ss],[2,ha]],{name:[0,"name"]},null),r.Hb(2048,null,ds,null,[ma]),r.sb(18,16384,null,0,ps,[[4,ds]],null,null),(e()(),r.tb(19,0,null,null,0,"i",[["class","uil uil-padlock lgn_icon"]],null,null,null,null,null)),(e()(),r.tb(20,0,null,null,1,"button",[["class","login-btn hover-btn"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),r.Kb(-1,null,["Iniciar sesi\xf3n"]))],(function(e,t){e(t,2,0,t.component.passForm),e(t,13,0,""),e(t,16,0,"password")}),(function(e,t){var n=t.component;e(t,0,0,r.Eb(t,4).ngClassUntouched,r.Eb(t,4).ngClassTouched,r.Eb(t,4).ngClassPristine,r.Eb(t,4).ngClassDirty,r.Eb(t,4).ngClassValid,r.Eb(t,4).ngClassInvalid,r.Eb(t,4).ngClassPending),e(t,11,0,r.Eb(t,13).required?"":null,r.Eb(t,18).ngClassUntouched,r.Eb(t,18).ngClassTouched,r.Eb(t,18).ngClassPristine,r.Eb(t,18).ngClassDirty,r.Eb(t,18).ngClassValid,r.Eb(t,18).ngClassInvalid,r.Eb(t,18).ngClassPending),e(t,20,0,n.passForm.invalid)}))}function nA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,23,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==r.Eb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Eb(e,2).onReset()&&i),"ngSubmit"===t&&(i=!1!==o.onLogin(o.passForm.value)&&i),i}),null,null)),r.sb(1,16384,null,0,ca,[],null,null),r.sb(2,540672,null,0,da,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Hb(2048,null,cs,null,[da]),r.sb(4,16384,null,0,gs,[[4,cs]],null,null),(e()(),r.tb(5,0,null,null,6,"div",[["class","form-title"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Login"])),(e()(),r.tb(8,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Ingresa la contrase\xf1a de tu cuenta para acceder. "])),(e()(),r.tb(10,0,null,null,1,"a",[["href",""]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["\xbfOlvidaste tu contrase\xf1a?"])),(e()(),r.tb(12,0,null,null,9,"div",[["class","form-group pos_rel"]],null,null,null,null,null)),(e()(),r.tb(13,0,null,null,7,"input",[["class","form-control lgn_input"],["formControlName","password"],["placeholder","Contrase\xf1a"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Eb(e,14)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,14).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Eb(e,14)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Eb(e,14)._compositionEnd(n.target.value)&&i),i}),null,null)),r.sb(14,16384,null,0,ls,[r.C,r.k,[2,as]],null,null),r.sb(15,16384,null,0,va,[],{required:[0,"required"]},null),r.Hb(1024,null,vs,(function(e){return[e]}),[va]),r.Hb(1024,null,ss,(function(e){return[e]}),[ls]),r.sb(18,671744,null,0,ma,[[3,cs],[6,vs],[8,null],[6,ss],[2,ha]],{name:[0,"name"]},null),r.Hb(2048,null,ds,null,[ma]),r.sb(20,16384,null,0,ps,[[4,ds]],null,null),(e()(),r.tb(21,0,null,null,0,"i",[["class","uil uil-padlock lgn_icon"]],null,null,null,null,null)),(e()(),r.tb(22,0,null,null,1,"button",[["class","login-btn hover-btn"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),r.Kb(-1,null,["Iniciar sesi\xf3n"]))],(function(e,t){e(t,2,0,t.component.passForm),e(t,15,0,""),e(t,18,0,"password")}),(function(e,t){var n=t.component;e(t,0,0,r.Eb(t,4).ngClassUntouched,r.Eb(t,4).ngClassTouched,r.Eb(t,4).ngClassPristine,r.Eb(t,4).ngClassDirty,r.Eb(t,4).ngClassValid,r.Eb(t,4).ngClassInvalid,r.Eb(t,4).ngClassPending),e(t,13,0,r.Eb(t,15).required?"":null,r.Eb(t,20).ngClassUntouched,r.Eb(t,20).ngClassTouched,r.Eb(t,20).ngClassPristine,r.Eb(t,20).ngClassDirty,r.Eb(t,20).ngClassValid,r.Eb(t,20).ngClassInvalid,r.Eb(t,20).ngClassPending),e(t,22,0,n.passForm.invalid)}))}function rA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,21,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0,o=e.component;return"submit"===t&&(i=!1!==r.Eb(e,2).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Eb(e,2).onReset()&&i),"ngSubmit"===t&&(i=!1!==o.onSubmitCode(o.codeForm.value)&&i),i}),null,null)),r.sb(1,16384,null,0,ca,[],null,null),r.sb(2,540672,null,0,da,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),r.Hb(2048,null,cs,null,[da]),r.sb(4,16384,null,0,gs,[[4,cs]],null,null),(e()(),r.tb(5,0,null,null,4,"div",[["class","form-title"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Ingresa"])),(e()(),r.tb(8,0,null,null,1,"p",[["class","etiqueta"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Ingresa el codigo de 6 digitos enviado por mensaje de texto a tu movil"])),(e()(),r.tb(10,0,null,null,9,"div",[["class","form-group pos_rel"]],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,7,"input",[["class","form-control lgn_input"],["formControlName","code"],["placeholder","000000"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==r.Eb(e,12)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,12).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Eb(e,12)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Eb(e,12)._compositionEnd(n.target.value)&&i),i}),null,null)),r.sb(12,16384,null,0,ls,[r.C,r.k,[2,as]],null,null),r.sb(13,16384,null,0,va,[],{required:[0,"required"]},null),r.Hb(1024,null,vs,(function(e){return[e]}),[va]),r.Hb(1024,null,ss,(function(e){return[e]}),[ls]),r.sb(16,671744,null,0,ma,[[3,cs],[6,vs],[8,null],[6,ss],[2,ha]],{name:[0,"name"]},null),r.Hb(2048,null,ds,null,[ma]),r.sb(18,16384,null,0,ps,[[4,ds]],null,null),(e()(),r.tb(19,0,null,null,0,"i",[["class","uil uil-padlock lgn_icon"]],null,null,null,null,null)),(e()(),r.tb(20,0,null,null,1,"button",[["class","login-btn hover-btn"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(e()(),r.Kb(-1,null,["Iniciar sesi\xf3n"]))],(function(e,t){e(t,2,0,t.component.codeForm),e(t,13,0,""),e(t,16,0,"code")}),(function(e,t){var n=t.component;e(t,0,0,r.Eb(t,4).ngClassUntouched,r.Eb(t,4).ngClassTouched,r.Eb(t,4).ngClassPristine,r.Eb(t,4).ngClassDirty,r.Eb(t,4).ngClassValid,r.Eb(t,4).ngClassInvalid,r.Eb(t,4).ngClassPending),e(t,11,0,r.Eb(t,13).required?"":null,r.Eb(t,18).ngClassUntouched,r.Eb(t,18).ngClassTouched,r.Eb(t,18).ngClassPristine,r.Eb(t,18).ngClassDirty,r.Eb(t,18).ngClassValid,r.Eb(t,18).ngClassInvalid,r.Eb(t,18).ngClassPending),e(t,20,0,n.codeForm.invalid)}))}function iA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,12,"div",[["class","col-lg-6 col-md-12 "]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,11,"div",[["class","login-box"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,eA)),r.sb(4,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,tA)),r.sb(6,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,nA)),r.sb(8,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,rA)),r.sb(10,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(11,0,null,null,2,"div",[["class","signup-link"]],null,null,null,null,null)),(e()(),r.tb(12,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Al continuar, aceptas las Condiciones de uso y el Aviso de privacidad de Almacenes Universal S.A.S."])),(e()(),r.tb(14,0,null,null,17,"div",[["class","col-lg-6 col-md-12 "]],null,null,null,null,null)),(e()(),r.tb(15,0,null,null,16,"div",[["class","form-social"]],null,null,null,null,null)),(e()(),r.tb(16,0,null,null,2,"div",[["class","form-title"]],null,null,null,null,null)),(e()(),r.tb(17,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Tambien puedes"])),(e()(),r.tb(19,0,null,null,3,"div",[["class","form-group pos_rel"]],null,null,null,null,null)),(e()(),r.tb(20,0,null,null,2,"button",[["class","login-btn-face"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loginFacebook()&&r),r}),null,null)),(e()(),r.tb(21,0,null,null,0,"i",[["class","fab fa-facebook-f"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Continuar con Facebook"])),(e()(),r.tb(23,0,null,null,3,"div",[["class","form-group pos_rel"]],null,null,null,null,null)),(e()(),r.tb(24,0,null,null,2,"button",[["class","login-btn-google"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loginGoogle()&&r),r}),null,null)),(e()(),r.tb(25,0,null,null,0,"i",[["class","fab fa-google"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Continuar con Google"])),(e()(),r.tb(27,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Continua sin registro como"])),(e()(),r.tb(29,0,null,null,2,"button",[["class","login-btn-ocasional"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.loginAnonymous()&&r),r}),null,null)),(e()(),r.tb(30,0,null,null,0,"i",[["class","fas fa-ghost"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Cliente Final"])),(e()(),r.tb(32,0,null,null,0,"div",[["id","recaptcha-container"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.showMe),e(t,6,0,n.showPass),e(t,8,0,n.showPassLogIn),e(t,10,0,n.showCode)}),null)}var oA=n("n6bG");function sA(e,t,n,r){return Object(oA.a)(n)&&(r=n,n=void 0),r?sA(e,t,n).pipe(Object(le.a)(e=>Object(Z.a)(e)?r(...e):r(e))):new Q.a(r=>{!function e(t,n,r,i,o){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,r,o),s=()=>e.removeEventListener(n,r,o)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,r),s=()=>e.off(n,r)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,r),s=()=>e.removeListener(n,r)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,a=t.length;s<a;s++)e(t[s],n,r,i,o)}i.add(s)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)})}function aA(e,t=pl.a){return n=>n.lift(new lA(e,t))}class lA{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new uA(e,this.dueTime,this.scheduler))}}class uA extends he.a{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cA,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function cA(e){e.debouncedNext()}class hA{constructor(e,t,n,r,i){this.cartService=e,this.renderer=t,this.router=n,this.productSearchService=r,this.funcionesService=i,this.isLogged=!1,this.mostrarBusqueda=!0,this.user={displayName:"",photoURL:""},this.locations=["Pronto m\xe1s ciudades"],this.categories=[{icon:"icon-1.svg",name:"Fruits and Vegetables"},{icon:"icon-2.svg",name:"Grocery & Staples"},{icon:"icon-3.svg",name:"Dairy & Eggs"},{icon:"icon-4.svg",name:"Beverages"},{icon:"icon-5.svg",name:"Snacks"},{icon:"icon-6.svg",name:"Home Care"},{icon:"icon-7.svg",name:"Noodles & Sauces"},{icon:"icon-8.svg",name:"Personal Care"},{icon:"icon-9.svg",name:"Pet Care"}],this.productos=[],this.productosBusqueda=[],this.productosBusquedaMobile=[]}ngOnInit(){this.getCurrentUser(),this.metodoPago=this.cartService.getMetodoDePago()}ngAfterViewInit(){this.iniciarCarrusel(),this.productos=this.productSearchService.productos}iniciarCarrusel(){$(".offers-banner").owlCarousel({loop:!0,margin:30,nav:!1,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},600:{items:2},1e3:{items:2},1200:{items:3},1400:{items:3}}}),$(".cate-slider").owlCarousel({loop:!0,margin:30,nav:!0,dots:!1,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:2},600:{items:2},1e3:{items:4},1200:{items:6},1400:{items:6}}}),$(".featured-slider").owlCarousel({items:8,loop:!1,margin:10,nav:!0,dots:!1,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:1},600:{items:2},1e3:{items:3},1200:{items:4},1400:{items:5}}}),$(".date-slider").owlCarousel({loop:!1,margin:10,nav:!1,dots:!1,responsive:{0:{items:3},600:{items:4},1e3:{items:5},1200:{items:6},1400:{items:7}}}),$(".life-slider").owlCarousel({loop:!0,margin:30,nav:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:1},600:{items:2},1e3:{items:2},1200:{items:3},1400:{items:3}}}),$(".testimonial-slider").owlCarousel({loop:!0,margin:30,nav:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:1},600:{items:2},1e3:{items:2},1200:{items:3},1400:{items:3}}}),$(".team-slider").owlCarousel({loop:!0,margin:30,nav:!1,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3},1200:{items:4},1400:{items:4}}})}onLoginGoogle(){}onLoginFacebook(){}getCurrentUser(){}onLogout(){}cerrarCarrito(){this.renderer.selectRootElement(this.btnCerrarCarrito.nativeElement).click()}clickVirt(){this.renderer.removeClass(this.clickVirtual.nativeElement,"open")}cerrarModal(){this.renderer.selectRootElement(this.btnCerrarModal.nativeElement).click()}irAlProducto(e){this.productQuery.nativeElement.value="",this.productosBusqueda=[];let t=this.funcionesService.stringToSlug(e.plu+"-"+e.nombreTienda);this.router.navigate(["/producto/"+t])}irAlProductoMobile(e){this.productQueryMobile.nativeElement.value="",this.productosBusquedaMobile=[];let t=this.funcionesService.stringToSlug(e.plu+"-"+e.nombreTienda);this.router.navigate(["/producto/"+t]),this.cerrarModal()}inputEnFoco(){this.mostrarBusqueda=!0,this.productosBusqueda=[],sA(this.productQuery.nativeElement,"keyup").pipe(aA(400),yl(),Object(le.a)(e=>e.target.value),Ve(e=>this.productSearchService.buscarProducto(e))).subscribe(e=>{this.productosBusqueda=e})}inputEnFocoMobile(){this.productosBusquedaMobile=[],sA(this.productQueryMobile.nativeElement,"keyup").pipe(aA(400),yl(),Object(le.a)(e=>e.target.value),Ve(e=>this.productSearchService.buscarProducto(e))).subscribe(e=>{this.productosBusquedaMobile=e})}perdioElFoco(){this.productQuery.nativeElement.value="",setTimeout(()=>{this.mostrarBusqueda=!1},500)}cambioMetodoDePago(e){this.cartService.metodoDePagoCarrito=e,console.log({metodoPago:this.metodoPago}),console.log({newMetodo:e}),console.log({metodoDePagoCarrito:this.cartService.metodoDePagoCarrito})}}let dA=(()=>{class e{constructor(e){this.apiService=e,this.productos=[],this.productosFiltrados=[],this.apiService.peticionGet("productos-mostrar-en-tienda").subscribe(e=>{this.productos=e.productos},e=>{},()=>{})}buscarProducto(e){return""===e?Object(H.a)([]):Object(H.a)(this.filtrarProductos(e))}filtrarProductos(e){let t=0;return e?this.productos.filter(n=>!!(t<5&&(n.nombreTienda.toLowerCase().includes(e.toLowerCase())||n.Description.toLowerCase().includes(e.toLowerCase())))&&(t++,!0)):[]}}return e.ngInjectableDef=r.Qb({factory:function(){return new e(r.Rb(Jo))},token:e,providedIn:"root"}),e})(),fA=(()=>{class e{constructor(){}stringToSlug(e){return e.toLowerCase().replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"").replace(/[^a-z0-9]/g,"-")}}return e.ngInjectableDef=r.Qb({factory:function(){return new e},token:e,providedIn:"root"}),e})();var pA=r.rb({encapsulation:0,styles:[['.top-header[_ngcontent-%COMP%]{background:#10519f;color:#fff}.ui.inline.dropdown.loc-title[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{color:#fff}.menu.dropdown_account[_ngcontent-%COMP%]{left:initial!important;right:0}.offer-link[_ngcontent-%COMP%], .select_location[_ngcontent-%COMP%]{color:#fff}.menu.dropdown_loc[_ngcontent-%COMP%]{width:200px;min-width:200px!important}.bs-canvas-footer[_ngcontent-%COMP%]{padding-top:13px}.saving-total[_ngcontent-%COMP%]{padding:5px 20px 0}.main-total-cart[_ngcontent-%COMP%]{padding:5px 20px 12px}.result-search[_ngcontent-%COMP%]   .content-search[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]{font-size:20px;color:#000!important;padding-left:10px}.checkout-cart[_ngcontent-%COMP%]{padding:0}.cart-checkout-btn[_ngcontent-%COMP%]{padding:20px 15px;width:100%;border-radius:0;text-align:center}.search-btn[_ngcontent-%COMP%]{background:#f5792c;border:0;color:#fff;height:40px;padding:0 10px;font-weight:500;border-top-right-radius:5px;border-bottom-right-radius:5px}.ui.search[_ngcontent-%COMP%] > .results[_ngcontent-%COMP%]{z-index:9999;width:50em}.content-search[_ngcontent-%COMP%]:hover{background:#c9c2c2}.cart-top-total[_ngcontent-%COMP%]{padding:15px}.form-control[_ngcontent-%COMP%]{width:100%;border-radius:0!important;border:1px solid #efefef!important}.form-control-lg[_ngcontent-%COMP%]{height:30px;padding-top:8px;padding-left:0;font-size:1.25rem;line-height:1.5;border-radius:.3rem}select[_ngcontent-%COMP%]{background:#f7f7f7;color:#1e1c38;height:40px;font-weight:500;padding-left:10px;border:0;border-top-left-radius:5px;border-bottom-left-radius:5px}.modal-header[_ngcontent-%COMP%]{border-bottom:0}.ui[class*="left icon"].swdh10.input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{padding-left:1.2em!important;padding-right:1em!important;height:40px;width:400px;font-size:14px;font-weight:500;border:0!important;border-radius:0!important}select[_ngcontent-%COMP%]:focus{outline:0}.icon__1[_ngcontent-%COMP%]{font-size:18px;margin-right:10px}.menu_toggle_btn[_ngcontent-%COMP%]{padding:5px 5px 5px 20px!important;background:0 0!important;color:#fff!important}']],data:{}});function gA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,3,"a",[["class","result-search"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,2,"div",[["class","content-search"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,1,"div",[["class","title-search"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.irAlProducto(e.context.$implicit)&&r),r}),null,null)),(e()(),r.Kb(3,null,["",""]))],null,(function(e,t){e(t,3,0,t.context.$implicit.nombreTienda)}))}function mA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"div",[["class","results transition visible"],["style","display: block !important;"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,gA)),r.sb(2,278528,null,0,k,[r.O,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.productosBusqueda)}),null)}function vA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,9,"li",[["class","ui dropdown"],["suiDropdown",""]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,4,"a",[["class","opts_account"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(e()(),r.tb(3,0,null,null,1,"span",[["class","user__name"]],null,null,null,null,null)),(e()(),r.Kb(4,null,["",""])),(e()(),r.tb(5,0,null,null,0,"i",[["class","uil uil-angle-down"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,3,"div",[["class","menu dropdown_account"],["suiDropdownMenu",""]],null,null,null,null,null)),(e()(),r.tb(7,0,null,null,2,"a",[["class","item channel_item"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onLogout()&&r),r}),null,null)),(e()(),r.tb(8,0,null,null,0,"i",[["class","uil uil-lock-alt icon__1"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Salir"]))],null,(function(e,t){var n=t.component;e(t,2,0,n.user.photoURL),e(t,4,0,n.user.displayName)}))}function yA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,22,"li",[["class","ui dropdown"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,3,"a",[["class","opts_account"],["data-target","#exampleModal"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,0,"img",[["alt",""],["src","assets/images/avatar/img-5.jpg"]],null,null,null,null,null)),(e()(),r.tb(3,0,null,null,1,"span",[["class","user__name"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Ingresar"])),(e()(),r.tb(5,0,null,null,17,"div",[["aria-labelledby","dropdownMenuButton34"],["class","dropdown-menu"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,3,"a",[["class","dropdown-item"],["routerLink","/user/id"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,7).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(7,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(8,0,null,null,0,"i",[["class","uil uil-apps icon__1"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Perfil "])),(e()(),r.tb(10,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,3,"a",[["class","dropdown-item"],["routerLink","/user/id/pedidos"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(12,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(13,0,null,null,0,"i",[["class","uil uil-box icon__1"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Mis pedidos "])),(e()(),r.tb(15,0,null,null,3,"a",[["class","dropdown-item"],["routerLink","/user/id/direcciones"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(16,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(17,0,null,null,0,"i",[["class","uil uil-location-point icon__1"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Mis direcciones "])),(e()(),r.tb(19,0,null,null,0,"div",[["class","dropdown-divider"]],null,null,null,null,null)),(e()(),r.tb(20,0,null,null,2,"a",[["class","dropdown-item"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onLoginGoogle()&&r),r}),null,null)),(e()(),r.tb(21,0,null,null,0,"i",[["class","uil uil-lock-alt icon__1"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Salir "]))],(function(e,t){e(t,7,0,"/user/id"),e(t,12,0,"/user/id/pedidos"),e(t,16,0,"/user/id/direcciones")}),(function(e,t){e(t,6,0,r.Eb(t,7).target,r.Eb(t,7).href),e(t,11,0,r.Eb(t,12).target,r.Eb(t,12).href),e(t,15,0,r.Eb(t,16).target,r.Eb(t,16).href)}))}function bA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,12,"div",[["class","search-by-cat"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,5,"a",[["class","single-cat"],["routerLink","/001-ventiladores"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Eb(e,2).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarModal()&&i),i}),null,null)),r.sb(2,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(3,0,null,null,1,"div",[["class","icon"]],null,null,null,null,null)),(e()(),r.tb(4,0,null,null,0,"img",[["alt",""],["src","assets/images/category/ventilador.jpg"]],null,null,null,null,null)),(e()(),r.tb(5,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Ventiladores "])),(e()(),r.tb(7,0,null,null,5,"a",[["class","single-cat"],["routerLink","/043-licuadoras"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Eb(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarModal()&&i),i}),null,null)),r.sb(8,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(9,0,null,null,1,"div",[["class","icon"]],null,null,null,null,null)),(e()(),r.tb(10,0,null,null,0,"img",[["alt",""],["src","assets/images/category/licuadora.jpg"]],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Licuadoras "]))],(function(e,t){e(t,2,0,"/001-ventiladores"),e(t,8,0,"/043-licuadoras")}),(function(e,t){e(t,1,0,r.Eb(t,2).target,r.Eb(t,2).href),e(t,7,0,r.Eb(t,8).target,r.Eb(t,8).href)}))}function _A(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"a",[["class","single-cat"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.irAlProductoMobile(e.context.$implicit)&&r),r}),null,null)),(e()(),r.tb(1,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(e()(),r.Kb(2,null,[" "," "]))],null,(function(e,t){e(t,2,0,t.context.$implicit.nombreTienda)}))}function wA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"div",[["class","search-by-cat"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,_A)),r.sb(2,278528,null,0,k,[r.O,r.K,r.r],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.productosBusquedaMobile)}),null)}function SA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-product-item-cart",[],null,null,null,Wa,Ba)),r.sb(1,114688,null,0,Sa,[Ua],{productoCarrito:[0,"productoCarrito"],metodoPago:[1,"metodoPago"]},null)],(function(e,t){e(t,1,0,t.context.$implicit,t.component.metodoPago)}),null)}function AA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.cartService.subtotal,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function CA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.cartService.subtotalTarjeta,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function EA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.cartService.iva,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function kA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.cartService.ivaTarjeta,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function TA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.cartService.total,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function xA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),r.Kb(1,null,["",""])),r.Gb(2,5)],null,(function(e,t){var n=t.component,i=r.Lb(t,1,0,e(t,2,0,r.Eb(t.parent,0),n.cartService.totalTarjeta,void 0,"symbol-narrow","1.0-0","es-Co"));e(t,1,0,i)}))}function IA(e){return r.Mb(0,[r.Fb(0,O,[r.t]),r.Ib(671088640,1,{btnCerrarCarrito:0}),r.Ib(671088640,2,{clickVirtual:0}),r.Ib(671088640,3,{searchModal:0}),r.Ib(671088640,4,{btnCerrarModal:0}),r.Ib(402653184,5,{productQuery:0}),r.Ib(402653184,6,{productQueryMobile:0}),(e()(),r.tb(7,0,null,null,42,"header",[["class","header clearfix"]],null,null,null,null,null)),(e()(),r.tb(8,0,null,null,41,"div",[["class","top-header-group"]],null,null,null,null,null)),(e()(),r.tb(9,0,null,null,40,"div",[["class","top-header"]],null,null,null,null,null)),(e()(),r.tb(10,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),r.tb(11,0,null,null,1,"button",[["class","navbar-toggler menu_toggle_btn"],["data-target","#navbarSupportedContent"],["type","button"]],null,null,null,null,null)),(e()(),r.tb(12,0,null,null,0,"i",[["class","uil uil-bars"]],null,null,null,null,null)),(e()(),r.tb(13,0,null,null,0,"div",[["class","collapse navbar-collapse d-flex flex-column flex-lg-row flex-xl-row justify-content-lg-end bg-dark1 p-3 p-lg-0 mt1-5 mt-lg-0 mobileMenu"],["id","navbarSupportedContent"]],null,null,null,null,null)),(e()(),r.tb(14,0,null,null,3,"div",[["class","res_main_logo"]],null,null,null,null,null)),(e()(),r.tb(15,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,16).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(16,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(17,0,null,null,0,"img",[["alt",""],["src","assets/images/logo-mobile.png"]],null,null,null,null,null)),(e()(),r.tb(18,0,null,null,6,"div",[["class","main_logo"],["id","logo"]],null,null,null,null,null)),(e()(),r.tb(19,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,20).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(20,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(21,0,null,null,0,"img",[["alt",""],["src","assets/images/logo.png"]],null,null,null,null,null)),(e()(),r.tb(22,0,null,null,2,"a",[["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,23).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(23,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.tb(24,0,null,null,0,"img",[["alt",""],["class","logo-inverse"],["src","assets/images/dark-logo.svg"]],null,null,null,null,null)),(e()(),r.tb(25,0,null,null,4,"div",[["class","select_location"]],null,null,null,null,null)),(e()(),r.tb(26,0,null,null,3,"div",[["class","ui inline dropdown loc-title"]],null,null,null,null,null)),(e()(),r.tb(27,0,null,null,2,"div",[["class","text"]],null,null,null,null,null)),(e()(),r.tb(28,0,null,null,0,"i",[["class","uil uil-location-point"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Neiva "])),(e()(),r.tb(30,0,null,null,7,"div",[["class","search120"]],null,null,null,null,null)),(e()(),r.tb(31,0,null,null,6,"div",[["class","ui search"]],null,null,null,null,null)),(e()(),r.tb(32,0,null,null,3,"div",[["class","ui left icon input swdh10"]],null,null,null,null,null)),(e()(),r.tb(33,0,[[5,0],["productQuery",1]],null,0,"input",[["class","prompt srch10"],["placeholder","Buscar Productos"],["type","text"]],null,[[null,"focus"],[null,"blur"]],(function(e,t,n){var r=!0,i=e.component;return"focus"===t&&(r=!1!==i.inputEnFoco()&&r),"blur"===t&&(r=!1!==i.perdioElFoco()&&r),r}),null,null)),(e()(),r.tb(34,0,null,null,1,"button",[["class","search-btn"]],null,null,null,null,null)),(e()(),r.tb(35,0,null,null,0,"i",[["class","uil uil-search-alt icon icon1"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,mA)),r.sb(37,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(38,0,null,null,11,"div",[["class","header_right"]],null,null,null,null,null)),(e()(),r.tb(39,0,null,null,10,"ul",[],null,null,null,null,null)),(e()(),r.tb(40,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(41,0,null,null,2,"a",[["class","offer-link"],["href","http://wa.me/573202520442"],["target","_blank"]],null,null,null,null,null)),(e()(),r.tb(42,0,null,null,0,"i",[["class","uil uil-phone-alt"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["320-252-04-42 "])),(e()(),r.tb(44,0,null,null,0,"li",[],null,null,null,null,null)),(e()(),r.tb(45,0,null,null,0,"li",[],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,vA)),r.sb(47,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,yA)),r.sb(49,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(50,0,null,null,8,"div",[["aria-hidden","true"],["aria-labelledby","exampleModalLabel"],["class","modal fade"],["id","exampleModal"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.tb(51,0,null,null,7,"div",[["class","modal-dialog modal-lg"],["role","document"]],null,null,null,null,null)),(e()(),r.tb(52,0,null,null,6,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),r.tb(53,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.tb(54,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.tb(55,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["\xd7"])),(e()(),r.tb(57,0,null,null,1,"app-login",[],null,null,null,iA,ZS)),r.sb(58,4308992,null,0,Qa,[ba,JS,wi],null,null),(e()(),r.tb(59,0,[[3,0],["searchModal",1]],null,19,"div",[["aria-modal","false"],["class","header-cate-model main-gambo-model modal fade"],["id","search_model"],["role","dialog"],["tabindex","-1"]],null,null,null,null,null)),(e()(),r.tb(60,0,null,null,18,"div",[["class","modal-dialog search-ground-area"],["role","document"]],null,null,null,null,null)),(e()(),r.tb(61,0,null,null,17,"div",[["class","category-area-inner"]],null,null,null,null,null)),(e()(),r.tb(62,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),r.tb(63,0,[[4,0],["btnCerrarModal",1]],null,1,"button",[["aria-label","Close"],["class","close btn-close"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),r.tb(64,0,null,null,0,"i",[["class","uil uil-multiply"]],null,null,null,null,null)),(e()(),r.tb(65,0,null,null,13,"div",[["class","category-model-content modal-content"]],null,null,null,null,null)),(e()(),r.tb(66,0,null,null,8,"div",[["class","search-header"]],null,null,null,null,null)),(e()(),r.tb(67,0,null,null,7,"form",[["action","#"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.Eb(e,69).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.Eb(e,69).onReset()&&i),i}),null,null)),r.sb(68,16384,null,0,ca,[],null,null),r.sb(69,4210688,null,0,ra,[[8,null],[8,null]],null,null),r.Hb(2048,null,cs,null,[ra]),r.sb(71,16384,null,0,gs,[[4,cs]],null,null),(e()(),r.tb(72,0,[[6,0],["productQueryMobile",1]],null,0,"input",[["placeholder","Buscar Producto..."],["type","search"]],null,null,null,null,null)),(e()(),r.tb(73,0,null,null,1,"button",[["type","submit"]],null,null,null,null,null)),(e()(),r.tb(74,0,null,null,0,"i",[["class","uil uil-search"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,bA)),r.sb(76,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,wA)),r.sb(78,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(79,0,null,null,55,"div",[["class","bs-canvas bs-canvas-left position-fixed bg-cart h-100"]],null,null,null,null,null)),(e()(),r.tb(80,0,null,null,6,"div",[["class","bs-canvas-header side-cart-header p-3 "]],null,null,null,null,null)),(e()(),r.tb(81,0,null,null,3,"div",[["class","d-inline-block  main-cart-title"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,[" Mi Carrito "])),(e()(),r.tb(83,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),r.Kb(84,null,["("," ",")"])),(e()(),r.tb(85,0,[[1,0],["btnCerrarCarrito",1]],null,1,"button",[["aria-label","Close"],["class","bs-canvas-close close"],["type","button"]],null,null,null,null,null)),(e()(),r.tb(86,0,null,null,0,"i",[["class","uil uil-multiply"]],null,null,null,null,null)),(e()(),r.tb(87,0,null,null,21,"div",[["class","bs-canvas-body"]],null,null,null,null,null)),(e()(),r.tb(88,0,null,null,17,"div",[["class","cart-top-total"]],null,null,null,null,null)),(e()(),r.tb(89,0,null,null,16,"div",[["class","cart-total-dil"]],null,null,null,null,null)),(e()(),r.tb(90,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Precios para pago"])),(e()(),r.tb(92,0,null,null,13,"select",[["class","form-control form-control-lg"],["name","metodoPago"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.Eb(e,93).onChange(n.target.value)&&i),"blur"===t&&(i=!1!==r.Eb(e,93).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(o.metodoPago=n)&&i),"change"===t&&(i=!1!==o.cambioMetodoDePago(n.target.value)&&i),i}),null,null)),r.sb(93,16384,null,0,Rs,[r.C,r.k],null,null),r.Hb(1024,null,ss,(function(e){return[e]}),[Rs]),r.sb(95,671744,null,0,ua,[[8,null],[8,null],[8,null],[6,ss]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Hb(2048,null,ds,null,[ua]),r.sb(97,16384,null,0,ps,[[4,ds]],null,null),(e()(),r.tb(98,0,null,null,3,"option",[["value","efectivo"]],null,null,null,null,null)),r.sb(99,147456,null,0,Ns,[r.k,r.C,[2,Rs]],{value:[0,"value"]},null),r.sb(100,147456,null,0,Ls,[r.k,r.C,[8,null]],{value:[0,"value"]},null),(e()(),r.Kb(-1,null,["en Efectivo"])),(e()(),r.tb(102,0,null,null,3,"option",[["value","tarjeta"]],null,null,null,null,null)),r.sb(103,147456,null,0,Ns,[r.k,r.C,[2,Rs]],{value:[0,"value"]},null),r.sb(104,147456,null,0,Ls,[r.k,r.C,[8,null]],{value:[0,"value"]},null),(e()(),r.Kb(-1,null,["con Tarjeta D\xe9bito/Cr\xe9dito"])),(e()(),r.tb(106,0,null,null,2,"div",[["class","side-cart-items"]],null,null,null,null,null)),(e()(),r.ib(16777216,null,null,1,null,SA)),r.sb(108,278528,null,0,k,[r.O,r.K,r.r],{ngForOf:[0,"ngForOf"]},null),(e()(),r.tb(109,0,null,null,25,"div",[["class","bs-canvas-footer"]],null,null,null,null,null)),(e()(),r.tb(110,0,null,null,6,"div",[["class","cart-total-dil saving-total "]],null,null,null,null,null)),(e()(),r.tb(111,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Subtotal"])),(e()(),r.ib(16777216,null,null,1,null,AA)),r.sb(114,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,CA)),r.sb(116,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(117,0,null,null,6,"div",[["class","cart-total-dil saving-total "]],null,null,null,null,null)),(e()(),r.tb(118,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["I.V.A."])),(e()(),r.ib(16777216,null,null,1,null,EA)),r.sb(121,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,kA)),r.sb(123,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(124,0,null,null,6,"div",[["class","main-total-cart"]],null,null,null,null,null)),(e()(),r.tb(125,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Total"])),(e()(),r.ib(16777216,null,null,1,null,TA)),r.sb(128,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,xA)),r.sb(130,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.tb(131,0,null,null,3,"div",[["class","checkout-cart"]],null,null,null,null,null)),(e()(),r.tb(132,0,null,null,2,"a",[["class","cart-checkout-btn hover-btn"],["routerLink","/pagos/checkout"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Eb(e,133).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),"click"===t&&(i=!1!==o.cerrarCarrito()&&i),i}),null,null)),r.sb(133,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.Kb(-1,null,["Pagar Compra"]))],(function(e,t){var n=t.component;e(t,16,0,"/"),e(t,20,0,"/"),e(t,23,0,"/"),e(t,37,0,n.productosBusqueda.length>0&&n.mostrarBusqueda),e(t,47,0,n.isLogged),e(t,49,0,!n.isLogged),e(t,58,0),e(t,76,0,0===n.productosBusquedaMobile.length),e(t,78,0,n.productosBusquedaMobile.length>0),e(t,95,0,"metodoPago",n.metodoPago),e(t,99,0,"efectivo"),e(t,100,0,"efectivo"),e(t,103,0,"tarjeta"),e(t,104,0,"tarjeta"),e(t,108,0,n.cartService.productosCarrito),e(t,114,0,"efectivo"===n.metodoPago),e(t,116,0,"tarjeta"===n.metodoPago),e(t,121,0,"efectivo"===n.metodoPago),e(t,123,0,"tarjeta"===n.metodoPago),e(t,128,0,"efectivo"===n.metodoPago),e(t,130,0,"tarjeta"===n.metodoPago),e(t,133,0,"/pagos/checkout")}),(function(e,t){var n=t.component;e(t,15,0,r.Eb(t,16).target,r.Eb(t,16).href),e(t,19,0,r.Eb(t,20).target,r.Eb(t,20).href),e(t,22,0,r.Eb(t,23).target,r.Eb(t,23).href),e(t,67,0,r.Eb(t,71).ngClassUntouched,r.Eb(t,71).ngClassTouched,r.Eb(t,71).ngClassPristine,r.Eb(t,71).ngClassDirty,r.Eb(t,71).ngClassValid,r.Eb(t,71).ngClassInvalid,r.Eb(t,71).ngClassPending),e(t,84,0,n.cartService.productosCarrito.length,1===n.cartService.productosCarrito.length?"Producto":"Productos"),e(t,92,0,r.Eb(t,97).ngClassUntouched,r.Eb(t,97).ngClassTouched,r.Eb(t,97).ngClassPristine,r.Eb(t,97).ngClassDirty,r.Eb(t,97).ngClassValid,r.Eb(t,97).ngClassInvalid,r.Eb(t,97).ngClassPending),e(t,132,0,r.Eb(t,133).target,r.Eb(t,133).href)}))}class PA{constructor(){}ngOnInit(){}}var OA=r.rb({encapsulation:0,styles:[[""]],data:{}});function RA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,159,"footer",[["class","footer"]],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,60,"div",[["class","footer-first-row"]],null,null,null,null,null)),(e()(),r.tb(2,0,null,null,59,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.tb(3,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.tb(4,0,null,null,7,"div",[["class","col-lg-3"]],null,null,null,null,null)),(e()(),r.tb(5,0,null,null,6,"div",[["class","about-step"]],null,null,null,null,null)),(e()(),r.tb(6,0,null,null,1,"div",[["class","how-order-icon"]],null,null,null,null,null)),(e()(),r.tb(7,0,null,null,0,"i",[["class","uil uil-truck"]],null,null,null,null,null)),(e()(),r.tb(8,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Env\xedo inmediato y gratis"])),(e()(),r.tb(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Recibe tus compras en menos de 24 horas."])),(e()(),r.tb(12,0,null,null,7,"div",[["class","col-lg-3"]],null,null,null,null,null)),(e()(),r.tb(13,0,null,null,6,"div",[["class","about-step"]],null,null,null,null,null)),(e()(),r.tb(14,0,null,null,1,"div",[["class","how-order-icon"]],null,null,null,null,null)),(e()(),r.tb(15,0,null,null,0,"i",[["class","uil uil-money-bill"]],null,null,null,null,null)),(e()(),r.tb(16,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["M\xfaltiples formas de pago"])),(e()(),r.tb(18,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Paga \xfanicamente cuando recibas tus compras con el m\xe9todo de pago de tu preferencia."])),(e()(),r.tb(20,0,null,null,7,"div",[["class","col-lg-3"]],null,null,null,null,null)),(e()(),r.tb(21,0,null,null,6,"div",[["class","about-step"]],null,null,null,null,null)),(e()(),r.tb(22,0,null,null,1,"div",[["class","how-order-icon"]],null,null,null,null,null)),(e()(),r.tb(23,0,null,null,0,"i",[["class","uil uil-shopping-basket"]],null,null,null,null,null)),(e()(),r.tb(24,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Compra segura"])),(e()(),r.tb(26,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Tus pagos, datos personales y los de tus tarjetas, estar\xe1n siempre seguros en cada transacci\xf3n que realices."])),(e()(),r.tb(28,0,null,null,7,"div",[["class","col-lg-3"]],null,null,null,null,null)),(e()(),r.tb(29,0,null,null,6,"div",[["class","about-step"]],null,null,null,null,null)),(e()(),r.tb(30,0,null,null,1,"div",[["class","how-order-icon"]],null,null,null,null,null)),(e()(),r.tb(31,0,null,null,0,"i",[["class","uil uil-smile"]],null,null,null,null,null)),(e()(),r.tb(32,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Garant\xeda y Devoluciones"])),(e()(),r.tb(34,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Gestionamos tus inconformidades en el menor tiempo posible."])),(e()(),r.tb(36,0,null,null,25,"div",[["class","row social-networks"]],null,null,null,null,null)),(e()(),r.tb(37,0,null,null,9,"div",[["class","col-md-6 col-sm-6"]],null,null,null,null,null)),(e()(),r.tb(38,0,null,null,8,"ul",[["class","call-email-alt"]],null,null,null,null,null)),(e()(),r.tb(39,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(40,0,null,null,2,"a",[["class","callemail"],["href","http://wa.me/573202520442"],["target","_blank"]],null,null,null,null,null)),(e()(),r.tb(41,0,null,null,0,"i",[["class","uil uil-dialpad-alt"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["320-252-04-42"])),(e()(),r.tb(43,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(44,0,null,null,2,"a",[["class","callemail"],["href","mailto:info@almacenesuniversal.com"]],null,null,null,null,null)),(e()(),r.tb(45,0,null,null,0,"i",[["class","uil uil-envelope-alt"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["info@almacenesuniversal.com"])),(e()(),r.tb(47,0,null,null,14,"div",[["class","col-md-6 col-sm-6"]],null,null,null,null,null)),(e()(),r.tb(48,0,null,null,13,"div",[["class","social-links-footer"]],null,null,null,null,null)),(e()(),r.tb(49,0,null,null,12,"ul",[],null,null,null,null,null)),(e()(),r.tb(50,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(51,0,null,null,1,"a",[["href","https://www.facebook.com/AlmacenesUniversal/posts/"],["target","_blank"]],null,null,null,null,null)),(e()(),r.tb(52,0,null,null,0,"i",[["class","fab fa-facebook-f"]],null,null,null,null,null)),(e()(),r.tb(53,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(54,0,null,null,1,"a",[["href","https://twitter.com/universalcol"]],null,null,null,null,null)),(e()(),r.tb(55,0,null,null,0,"i",[["class","fab fa-twitter"]],null,null,null,null,null)),(e()(),r.tb(56,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(57,0,null,null,1,"a",[["href","https://www.linkedin.com/company/almacenesuniversal"]],null,null,null,null,null)),(e()(),r.tb(58,0,null,null,0,"i",[["class","fab fa-linkedin-in"]],null,null,null,null,null)),(e()(),r.tb(59,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(60,0,null,null,1,"a",[["href","https://www.instagram.com/AlmacenesUniversal/"],["target","_blank"]],null,null,null,null,null)),(e()(),r.tb(61,0,null,null,0,"i",[["class","fab fa-instagram"]],null,null,null,null,null)),(e()(),r.tb(62,0,null,null,66,"div",[["class","footer-second-row"]],null,null,null,null,null)),(e()(),r.tb(63,0,null,null,65,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.tb(64,0,null,null,64,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.tb(65,0,null,null,10,"div",[["class","col-lg-3 col-md-6 col-sm-6"]],null,null,null,null,null)),(e()(),r.tb(66,0,null,null,9,"div",[["class","second-row-item"]],null,null,null,null,null)),(e()(),r.tb(67,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Almacenes Universal"])),(e()(),r.tb(69,0,null,null,6,"ul",[],null,null,null,null,null)),(e()(),r.tb(70,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(71,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["\xbfQui\xe9nes somos?"])),(e()(),r.tb(73,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(74,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Factura Electr\xf3nica"])),(e()(),r.tb(76,0,null,null,10,"div",[["class","col-lg-3 col-md-6 col-sm-6"]],null,null,null,null,null)),(e()(),r.tb(77,0,null,null,9,"div",[["class","second-row-item"]],null,null,null,null,null)),(e()(),r.tb(78,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Marketplace"])),(e()(),r.tb(80,0,null,null,6,"ul",[],null,null,null,null,null)),(e()(),r.tb(81,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(82,0,null,null,1,"a",[["href","universal-seller.html"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Vende en Universal"])),(e()(),r.tb(84,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(85,0,null,null,1,"a",[["href","marketplace_policy.html"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["T\xe9rminos de Martketplace"])),(e()(),r.tb(87,0,null,null,13,"div",[["class","col-lg-3 col-md-6 col-sm-6"]],null,null,null,null,null)),(e()(),r.tb(88,0,null,null,12,"div",[["class","second-row-item"]],null,null,null,null,null)),(e()(),r.tb(89,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Ventas"])),(e()(),r.tb(91,0,null,null,9,"ul",[],null,null,null,null,null)),(e()(),r.tb(92,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(93,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Afiliados"])),(e()(),r.tb(95,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(96,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Mayoristas"])),(e()(),r.tb(98,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),r.tb(99,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Empresariales"])),(e()(),r.tb(101,0,null,null,27,"div",[["class","col-lg-3 col-md-6 col-sm-6"]],null,null,null,null,null)),(e()(),r.tb(102,0,null,null,26,"div",[["class","second-row-item-payment"]],null,null,null,null,null)),(e()(),r.tb(103,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["M\xe9todos de pago"])),(e()(),r.tb(105,0,null,null,23,"div",[["class","footer-payments"]],null,null,null,null,null)),(e()(),r.tb(106,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Efectivo contra entrega"])),(e()(),r.tb(108,0,null,null,2,"ul",[["class","financial-institutes"],["id","paypal-gateway"]],null,null,null,null,null)),(e()(),r.tb(109,0,null,null,1,"li",[["class","financial-institutes__logo"]],null,null,null,null,null)),(e()(),r.tb(110,0,null,null,0,"img",[["alt","COP"],["src","assets/images/footer-icons/monei.png"],["title","COP"]],null,null,null,null,null)),(e()(),r.tb(111,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Billeteras digitales"])),(e()(),r.tb(113,0,null,null,4,"ul",[["class","financial-institutes"],["id","paypal-gateway"]],null,null,null,null,null)),(e()(),r.tb(114,0,null,null,1,"li",[["class","financial-institutes__logo"]],null,null,null,null,null)),(e()(),r.tb(115,0,null,null,0,"img",[["alt","Nequi"],["src","assets/images/footer-icons/nequi.png"],["title","Nequi"]],null,null,null,null,null)),(e()(),r.tb(116,0,null,null,1,"li",[["class","financial-institutes__logo"]],null,null,null,null,null)),(e()(),r.tb(117,0,null,null,0,"img",[["alt","Daviplata"],["src","assets/images/footer-icons/daviplata.png"],["title","Daviplata"]],null,null,null,null,null)),(e()(),r.tb(118,0,null,null,1,"h6",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Datafono"])),(e()(),r.tb(120,0,null,null,8,"ul",[["class","financial-institutes"],["id","paypal-gateway"]],null,null,null,null,null)),(e()(),r.tb(121,0,null,null,1,"li",[["class","financial-institutes__logo"]],null,null,null,null,null)),(e()(),r.tb(122,0,null,null,0,"img",[["alt","Visa"],["src","assets/images/footer-icons/pyicon-1.svg"],["title","Visa"]],null,null,null,null,null)),(e()(),r.tb(123,0,null,null,1,"li",[["class","financial-institutes__logo"]],null,null,null,null,null)),(e()(),r.tb(124,0,null,null,0,"img",[["alt","MasterCard"],["src","assets/images/footer-icons/pyicon-2.svg"],["title","MasterCard"]],null,null,null,null,null)),(e()(),r.tb(125,0,null,null,1,"li",[["class","financial-institutes__logo"]],null,null,null,null,null)),(e()(),r.tb(126,0,null,null,0,"img",[["alt","American Express"],["src","assets/images/footer-icons/pyicon-3.svg"],["title","American Express"]],null,null,null,null,null)),(e()(),r.tb(127,0,null,null,1,"li",[["class","financial-institutes__logo"]],null,null,null,null,null)),(e()(),r.tb(128,0,null,null,0,"img",[["alt","Discover"],["src","assets/images/footer-icons/diners.jpg"],["title","Discover"]],null,null,null,null,null)),(e()(),r.tb(129,0,null,null,30,"div",[["class","footer-last-row"]],null,null,null,null,null)),(e()(),r.tb(130,0,null,null,29,"div",[["class","container"]],null,null,null,null,null)),(e()(),r.tb(131,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.tb(132,0,null,null,27,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),r.tb(133,0,null,null,17,"div",[["class","footer-bottom-links"]],null,null,null,null,null)),(e()(),r.tb(134,0,null,null,16,"ul",[],null,null,null,null,null)),(e()(),r.tb(135,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(136,0,null,null,2,"a",[["routerLink","/politicas/politicas-de-privacidad"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,137).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(137,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.Kb(-1,null,["Pol\xedticas de privacidad"])),(e()(),r.tb(139,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(140,0,null,null,2,"a",[["routerLink","/politicas/terminos-y-condiciones"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,141).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(141,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.Kb(-1,null,["T\xe9rminos y condiciones"])),(e()(),r.tb(143,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(144,0,null,null,2,"a",[["routerLink","/politicas/derecho-de-retracto"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,145).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(145,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.Kb(-1,null,["Derecho de Retracto"])),(e()(),r.tb(147,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.tb(148,0,null,null,2,"a",[["routerLink","/politicas/cambio-y-devoluciones"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,149).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),r.sb(149,671744,null,0,Si,[wi,hr,a],{routerLink:[0,"routerLink"]},null),(e()(),r.Kb(-1,null,["Pol\xedticas de Cambios y Devoluciones"])),(e()(),r.tb(151,0,null,null,8,"div",[["class","copyright-text"]],null,null,null,null,null)),(e()(),r.tb(152,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Almacenes Universal S.A.S."])),(e()(),r.tb(154,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["NIT 901 260 162 - 8"])),(e()(),r.tb(156,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.tb(157,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),r.Kb(-1,null,["Sede principal: "])),(e()(),r.Kb(-1,null,["Carrera 3 # 9 - 101 Neiva - Huila "]))],(function(e,t){e(t,137,0,"/politicas/politicas-de-privacidad"),e(t,141,0,"/politicas/terminos-y-condiciones"),e(t,145,0,"/politicas/derecho-de-retracto"),e(t,149,0,"/politicas/cambio-y-devoluciones")}),(function(e,t){e(t,136,0,r.Eb(t,137).target,r.Eb(t,137).href),e(t,140,0,r.Eb(t,141).target,r.Eb(t,141).href),e(t,144,0,r.Eb(t,145).target,r.Eb(t,145).href),e(t,148,0,r.Eb(t,149).target,r.Eb(t,149).href)}))}class NA{constructor(){}ngOnInit(){}}var DA=r.rb({encapsulation:0,styles:[[""]],data:{}});function LA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-header",[],null,null,null,IA,pA)),r.sb(1,4308992,null,0,hA,[Ua,r.C,wi,dA,fA],null,null),(e()(),r.tb(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.sb(3,212992,null,0,ki,[Ei,r.O,r.j,[8,null],r.h],null,null),(e()(),r.tb(4,0,null,null,1,"app-footer",[],null,null,null,RA,OA)),r.sb(5,114688,null,0,PA,[],null,null)],(function(e,t){e(t,1,0),e(t,3,0),e(t,5,0)}),null)}function MA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-main-wrapper",[],null,null,null,LA,DA)),r.sb(1,114688,null,0,NA,[],null,null)],(function(e,t){e(t,1,0)}),null)}var FA=r.pb("app-main-wrapper",NA,MA,{},{},[]);class jA{constructor(e,t,n){this.homeService=e,this.funcionesService=t,this.apiService=n,this.environment=i,this.offers=[],this.categories=[],this.productsTop=[],this.ventiladores=[],this.masVentiladores=[],this.licuadoras=[],this.masLicuadoras=[],this.cargando=!0}ngOnChanges(e){}ngOnInit(){}ngAfterViewInit(){this.iniciarCarrusel()}iniciarCarrusel(){$(".offers-banner").owlCarousel({loop:!0,margin:30,nav:!1,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,responsive:{0:{items:1},600:{items:2},1e3:{items:2},1200:{items:3},1400:{items:3}}}),$(".cate-slider").owlCarousel({loop:!0,margin:30,nav:!0,dots:!1,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:2},600:{items:2},1e3:{items:4},1200:{items:6},1400:{items:6}}}),$(".featured-slider").owlCarousel({items:8,loop:!1,margin:10,nav:!0,dots:!1,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:1},600:{items:2},1e3:{items:3},1200:{items:4},1400:{items:5}}}),$(".date-slider").owlCarousel({loop:!1,margin:10,nav:!1,dots:!1,responsive:{0:{items:3},600:{items:4},1e3:{items:5},1200:{items:6},1400:{items:7}}}),$(".life-slider").owlCarousel({loop:!0,margin:30,nav:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:1},600:{items:2},1e3:{items:2},1200:{items:3},1400:{items:3}}}),$(".testimonial-slider").owlCarousel({loop:!0,margin:30,nav:!0,dots:!1,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navText:["<i class='uil uil-angle-left'></i>","<i class='uil uil-angle-right'></i>"],responsive:{0:{items:1},600:{items:2},1e3:{items:2},1200:{items:3},1400:{items:3}}}),$(".team-slider").owlCarousel({loop:!0,margin:30,nav:!1,dots:!1,responsive:{0:{items:1},600:{items:2},1e3:{items:3},1200:{items:4},1400:{items:4}}})}cargarProductos(){this.apiService.peticionGet("productos/categoria/5bb05ddc0f50942f28a3515b?ordenPor=popularidad&productosPorPagina=5").subscribe(e=>{this.licuadoras=e.productos.map(e=>({marca:e.marca.nombre,_id:e.Code,image:i.production?e.pictures.large[e.pictures.pp-1]:"http://localhost:3001/images/"+e._id+".png",plu:e.plu,name:e.nombreTienda,price1:e.precioEfectivoEnTienda,price2:e.precioTarjetaEnTienda,qty:1}))},e=>{},()=>{this.apiService.peticionGet("productos/categoria/5ba6799f10b34e0c2cf8f334?ordenPor=popularidad&productosPorPagina=6").subscribe(e=>{this.ventiladores=e.productos.map(e=>({marca:e.marca.nombre,_id:e.Code,image:i.production?e.pictures.large[e.pictures.pp-1]:"http://localhost:3001/images/"+e._id+".png",plu:e.plu,name:e.nombreTienda,price1:e.precioEfectivoEnTienda,price2:e.precioTarjetaEnTienda,qty:1}))},e=>{},()=>{this.apiService.peticionGet("productos/categoria/5ba6799f10b34e0c2cf8f334?ordenPor=popularidad&productosPorPagina=6&pagina=2").subscribe(e=>{this.masVentiladores=e.productos.map(e=>({marca:e.marca.nombre,_id:e.Code,image:i.production?e.pictures.large[e.pictures.pp-1]:"http://localhost:3001/images/"+e._id+".png",plu:e.plu,name:e.nombreTienda,price1:e.precioEfectivoEnTienda,price2:e.precioTarjetaEnTienda,qty:1}))},e=>{},()=>{this.apiService.peticionGet("productos/categoria/5bb05ddc0f50942f28a3515b?ordenPor=popularidad&productosPorPagina=5&pagina=2").subscribe(e=>{this.masLicuadoras=e.productos.map(e=>({marca:e.marca.nombre,_id:e.Code,image:i.production?e.pictures.large[e.pictures.pp-1]:"http://localhost:3001/images/"+e._id+".png",plu:e.plu,name:e.nombreTienda,price1:e.precioEfectivoEnTienda,price2:e.precioTarjetaEnTienda,qty:1}))},e=>{},()=>{this.cargando=!1,setTimeout(()=>{this.iniciarCarrusel()},50)})})})})}}let VA=(()=>{class e{constructor(e){this.funcionesService=e,this.categorias=[{id:"001",_id:"5ba6799f10b34e0c2cf8f334",nombre:"Ventiladores",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ventiladores",link:"/001-ventiladores"}]},{id:"002",_id:"5baea309c2ea35141ccf2789",nombre:"Ventiladores de Mesa, Pared \xf3 Piso",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ventiladores",link:"/001-ventiladores"},{nombre:"Mesa, Pared \xf3 Piso",link:"/002-ventiladores-mesa-pared-y-piso"}]},{id:"003",_id:"5baea48ec2ea35141ccf278a",nombre:"Ventiladores de Pedestal \xf3 Multiusos",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ventiladores",link:"/001-ventiladores"},{nombre:"Pedestal \xf3 Multiusos",link:"/003-ventiladores-pedestal-o-multiusos"}]},{id:"004",_id:"5bb016190f50942f28a35116",nombre:"Ventiladores de Techo",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ventiladores",link:"/001-ventiladores"},{nombre:"Techo",link:"/003-ventiladores-de-techo"}]},{id:"005",_id:"5baeadf1c2ea35141ccf278e",nombre:"Ventiladores de Torre",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ventiladores",link:"/001-ventiladores"},{nombre:"Torre",link:"/003-ventiladores-de-torre"}]},{id:"006",_id:"5b9c9f7b4e8f84362c77dbcd",nombre:"ElectroHogar",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"}]},{id:"007",_id:"5cbcbd274c958536d4255d58",nombre:"Aspiradoras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Electrohogar",link:"/006-electrohogar"},{nombre:"Aspiradoras",link:"/007-aspiradoras"}]},{id:"008",_id:"5c9073c6f9e0fc1bd4ba8ef0",nombre:"Batidoras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Electrohogar",link:"/006-electrohogar"},{nombre:"Batidoras",link:"/008-batidoras"}]},{id:"009",_id:"5bb03b170f50942f28a35136",nombre:"Cafeteras y Hervidoras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Electrohogar",link:"/006-electrohogar"},{nombre:"Batidoras",link:"/009-cafeteras-y-hervidoras"}]},{id:"010",_id:"5c9ae3a88dbac8336465f94a",nombre:"Dispensadores de Agua",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Electrohogar",link:"/006-electrohogar"},{nombre:"Dispensadores de Agua",link:"/010-dispensadoras-de-agua"}]},{id:"011",_id:"5bae4ffdec6557310c2f67bb",nombre:"Estufas",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Estufas",link:"/011-estufas"}]},{id:"012",_id:"5e983053bc5d4b05afa7cf0e",nombre:"Estufas Industriales",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Estufas",link:"/011-estufas"},{nombre:"Estufas Industriales",link:"/012-estufas-industriales"}]},{id:"013",_id:"5e983053bc5d4b05afa7cf0e",nombre:"Estufas con Gabinete",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Estufas",link:"/011-estufas"},{nombre:"Estufas con Gabinete",link:"/013-estufas-con-gabinete"}]},{id:"014",_id:"5c97fa8c48a18330d8bc993b",nombre:"Estufas con Horno",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Estufas",link:"/011-estufas"},{nombre:"Estufas con Horno",link:"/014-estufas-con-horno"}]},{id:"015",_id:"5c92143db918ea1d9ccc9657",nombre:"Estufas El\xe9ctricas",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Estufas",link:"/011-estufas"},{nombre:"Estufas El\xe9ctricas",link:"/015-estufas-electricas"}]},{id:"016",_id:"5c92143db918ea1d9ccc9657",nombre:"Estufas a Gasolina",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Estufas",link:"/011-estufas"},{nombre:"Estufas a Gasolina",link:"/016-estufas-a-gasolina"}]},{id:"017",_id:"5bb04ff70f50942f28a35148",nombre:"Estufas Sobremesa",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Estufas",link:"/011-estufas"},{nombre:"Estufas Sobremesa",link:"/017-estufas-sobremesa"}]},{id:"018",_id:"5bb292cbc214051450d3bbc8",nombre:"Bater\xedas de Cocina",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Bater\xedas de Cocina",link:"/018-baterias-de-cocina"}]},{id:"019",_id:"5cd13318de55cc2b345c69ed",nombre:"Calderos",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Calderos",link:"/019-calderos"}]},{id:"020",_id:"5bb2970cc214051450d3bbcb",nombre:"Cacerolas",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Cacerolas",link:"/020-cacerolas"}]},{id:"021",_id:"5cd13341de55cc2b345c69ee",nombre:"Chocolateras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Chocolateras",link:"/021-chocolateras"}]},{id:"022",_id:"5bb28b38c214051450d3bbc1",nombre:"Ollas",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ollas",link:"/022-ollas"}]},{id:"023",_id:"5ba968319299a031cced5fdf",nombre:"Ollas a Presi\xf3n",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ollas a Presi\xf3n",link:"/023-ollas-a-presion"}]},{id:"024",_id:"5e76e7e9841e3033063139e0",nombre:"Pailas",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Pailas",link:"/024-pailas"}]},{id:"025",_id:"5cd1341ade55cc2b345c69ef",nombre:"Planchas Asadoras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Planchas Asadoras",link:"/025-planchas-asadoras"}]},{id:"026",_id:"5bb2895ac214051450d3bbc0",nombre:"Sartenes",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Sartenes",link:"/026-sartenes"}]},{id:"027",_id:"5d5cd105dd51b379baed8bad",nombre:"Coladores",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Coladores",link:"/027-coladores"}]},{id:"028",_id:"5cd1357bde55cc2b345c69f1",nombre:"Cuchillos",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Cuchillos",link:"/028-cuchillos"}]},{id:"029",_id:"5cc3105646892122404f4391",nombre:"Exprimidores Manuales",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Exprimidores Manuales",link:"/029-exprimidores-manuales"}]},{id:"030",_id:"5caa6cdb7f77cf1bd015e9c3",nombre:"Gabinetes",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Gabinetes",link:"/030-gabinetes"}]},{id:"031",_id:"5cba814462f65623a477a2bf",nombre:"Grameras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Grameras",link:"/031-grameras"}]},{id:"032",_id:"5bb28cfec214051450d3bbc2",nombre:"Molinos",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Molinos",link:"/032-molinos"}]},{id:"033",_id:"5d373c4990aa1a0851f6f866",nombre:"Ralladores",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Ralladores",link:"/033-ralladores"}]},{id:"034",_id:"5cd1035357c77f0b3cff879d",nombre:"Refractarias",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Refractarias",link:"/034-refractarias"}]},{id:"035",_id:"5e7ef4d89fb80b05230c22a0",nombre:"Tablas de Picar",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Tablas de Picar",link:"/035-tablas-de-picar"}]},{id:"036",_id:"5bb010f00f50942f28a35113",nombre:"Termos y Portacomidas",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Termos y Portacomidas",link:"/036-termos-y-portacomidas"}]},{id:"037",_id:"5caa7e536e4f5a2174528ff8",nombre:"Utensilios de Cocina",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Utensilios de Cocina",link:"/037-utensilios-de-cocina"}]},{id:"038",_id:"5ca16f93134e1033ccb7c75a",nombre:"Vajillas",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Vajillas",link:"/038-vajillas"}]},{id:"039",_id:"5ca12d5cdae1193240d79f71",nombre:"Exprimidores de C\xedtricos",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Exprimidores de C\xedtricos",link:"/039-exprimidores-de-citricos"}]},{id:"040",_id:"5c9ae25d8dbac8336465f948",nombre:"Extractores de Jugo",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Extractores de Jugo",link:"/040-extractores-de-jugo"}]},{id:"041",_id:"5d085b685ca8ea067137a877",nombre:"Freidoras de Aire",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Freidoras de Aire",link:"/041-freidoras-de-aire"}]},{id:"042",_id:"5caa80886e4f5a2174528ffc",nombre:"Hornos",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Hornos",link:"/042-hornos"}]},{id:"043",_id:"5bb05ddc0f50942f28a3515b",nombre:"Licuadoras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"Licuadoras",link:"/043-licuadoras"}]},{id:"044",_id:"5ca2c9065c251101e8a7fdf3",nombre:"Loncheras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Loncheras",link:"/044-loncheras"}]},{id:"045",_id:"5cc618b4e603d732b47c6a20",nombre:"Neveras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Neveras",link:"/045-neveras"}]},{id:"046",_id:"5ba975f19299a031cced5fe4",nombre:"Ollas Arroceras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Ollas Arroceras",link:"/046-ollas-arroceras"}]},{id:"047",_id:"5bb057b40f50942f28a35154",nombre:"Plachas de Ropa",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Plachas de Ropa",link:"/047-planchas"}]},{id:"048",_id:"5bb2d2b89f2f6126b834e607",nombre:"Procesadores de Alimentos",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Procesadores de Alimentos",link:"/048-procesadores-de-alimentos"}]},{id:"049",_id:"5ca19d69134e1033ccb7c78f",nombre:"Sanducheras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Sanducheras",link:"/049-sanducheras"}]},{id:"050",_id:"5cc13f537c0a3b513058942c",nombre:"Tostadoras",breadcrumb:[{nombre:"Home",link:"/"},{nombre:"ElectroHogar",link:"/006-electrohogar"},{nombre:"Tostadoras",link:"/050-tostadoras"}]}],this.offers=[{image:"offer-1.jpg",discount:"6% Off",msg:"Buy More & Save More",category:"Fresh Vegetables",msgButton:"Shop Now"},{image:"offer-2.jpg",discount:"5% Off",msg:"Buy More & Save More",category:"Fresh Fruits",msgButton:"Shop Now"},{image:"offer-3.jpg",discount:"3% Off",msg:"Hot Deals on New Items",category:"Daily Essentials Eggs & Dairy",msgButton:"Shop Now"},{image:"offer-4.jpg",discount:"2% Off",msg:"Buy More & Save More",category:"Beverages",msgButton:"Shop Now"},{image:"offer-5.jpg",discount:"3% Off",msg:"Buy More & Save More",category:"Nuts & Snacks",msgButton:"Shop Now"}],this.categories1=[{icon:"icon-1.svg",name:"egetables & Fruit"},{icon:"icon-2.svg",name:"Grocery & Staples"},{icon:"icon-3.svg",name:"Dairy & Eggs"},{icon:"icon-4.svg",name:"Beverages"},{icon:"icon-5.svg",name:"Snacks"},{icon:"icon-6.svg",name:"Home Care"},{icon:"icon-7.svg",name:"Noodles & Sauces"},{icon:"icon-8.svg",name:"Personal Care"},{icon:"icon-9.svg",name:"Pet Care"},{icon:"icon-10.svg",name:"Meat & Seafood"},{icon:"icon-11.svg",name:"Electronics"}],this.productsTop=[{_id:"1",image:"5bb005e90f50942f28a3510e",discount:"Pago Contraentrega",availability1:"Available",availability2:"(In Stock)",name:'Ventilador Samurai 3 en 1 Turbo Silence Maxx 18"',price1:185e3,price2:195e3,qty:1,opciones:[{valor:"Negro",image:""},{valor:"Blanco",image:""},{valor:"Gris",image:""}]},{_id:"2",image:"5bb0397c0f50942f28a35133",discount:"Pago Contraentrega",availability1:"Available",availability2:"(In Stock)",name:'Ventilador Samurai 3 en 1 Comfort Maxx 18"',price1:155e3,price2:165e3,qty:1,opciones:[{valor:"Negro",image:""},{valor:"Blanco",image:""},{valor:"Gris",image:""}]},{_id:"3",image:"5bb01ede0f50942f28a35125",discount:"Pago Contraentrega",availability1:"Available",availability2:"(In Stock)",name:'Ventilador Samurai Pared Turbo Silence Maxx 18"',price1:145e3,price2:155e3,qty:1,opciones:[{valor:"Negro",image:""},{valor:"Blanco",image:""},{valor:"Gris",image:""}]},{_id:"4",image:"5bb82697b06abc0c781dd0a5",discount:"Pago Contraentrega",availability1:"Available",availability2:"(In Stock)",name:'Ventilador Samurai 2 en 1 Turbo Silence Compact 14"',price1:145e3,price2:155e3,qty:1,opciones:[{valor:"Negro",image:""},{valor:"Blanco",image:""},{valor:"Gris",image:""}]},{_id:"5",image:"5c8ed93445094221f8026719",discount:"Pago Contraentrega",availability1:"Available",availability2:"(In Stock)",name:"Licuadora Oster Cl\xe1sica",price1:17e4,price2:18e4,qty:1,opciones:[{valor:"Negro",image:""},{valor:"Blanco",image:""},{valor:"Gris",image:""}]}],this.categories=[{_id:"5c921682b918ea1d9ccc9658",nombre:"Abba",icon:"abba.jpg",categorias:["Estufas"]},{_id:"5baa876a0f7f9b3344ca0949",nombre:"Altezza",icon:"altezza.jpg",categorias:["Ventiladores"]},{_id:"5bae772ebaebd02d50bb89c6",nombre:"Bionaire",icon:"bionaire.png",categorias:["Ventiladores"]},{_id:"5ca174f9134e1033ccb7c75f",nombre:"Black & Decker",icon:"balckanddecker.png",categorias:["Batidoras","Extractores de jugos"]},{_id:"5cba61ee62f65623a477a2a9",nombre:"Coldelec",icon:"coldelec.png",categorias:["Cafeteras y hervidoras"]},{_id:"5bb04b620f50942f28a35142",nombre:"Continental",icon:"continental.jpg",categorias:["Estufas","Exprimidores manuales","Calderos"]},{_id:"5bae7766baebd02d50bb89c8",nombre:"Corona",icon:"corona.png",categorias:["Ventiladores","Ollas a Presi\xf3n","Planchas de ropa","Molinos","Cafeteras y hervidoras","Procesadores de alimentos","Calderos","Licuadoras","Sandwicheras","Ollas Arroceras"]},{_id:"5bae7773baebd02d50bb89c9",nombre:"Dkasa",icon:"dkasa.png",categorias:["Ventiladores","Ollas Arroceras","Procesadores de alimentos","Calderos"]},{nombre:"G-Shark",icon:"gshark.jpg",categorias:["Ventiladores"]},{nombre:"Haceb",icon:"haceb.jpg",categorias:["Estufas"]},{nombre:"Home Elements",icon:"homelements.png",categorias:["Termos y Portacomidas","Cubiertos","Ventiladores","Ollas a Presi\xf3n","Cafeteras y hervidoras","Sandwicheras","Extractores de jugos","Licuadoras","Loncheras","Ollas Arroceras","Planchas de ropa","Sartenes","Procesadores de alimentos","Batidoras","Cacerolas","Chocolateras","Estufas","Exprimidores de c\xedtricos","Hornos","Ollas y Calderos","B\xe1sculas de cocina","Calderos","Bater\xedas de cocina","Refractarias"]},{nombre:"Imusa",icon:"imusa.png",categorias:["Licuadoras","Procesadores de alimentos","Exprimidores de c\xedtricos","Batidoras","Ollas a Presi\xf3n","Termos y Portacomidas","Ollas y Calderos","Sartenes","Planchas asadoras","Cacerolas","Chocolateras","Bater\xedas de cocina"]},{nombre:"Incametal",icon:"incametal.png",categorias:["Cuchillos","Utensilios"]},{nombre:"India",icon:"india.jpg",categorias:["Ollas a Presi\xf3n"]},{nombre:"Kalley",icon:"kalley.png",categorias:["Ventiladores","Batidoras","Cafeteras y hervidoras","Planchas de ropa","Extractores de jugos","Dispensadores de agua","Hornos","Sandwicheras","Aspiradoras","Licuadoras","Cuchillos"]},{nombre:"Oster",icon:"oster.jpg",categorias:["Planchas de ropa","Licuadoras","Cubiertos","Batidoras","Sandwicheras","Cafeteras y hervidoras","Extractores de jugos","Procesadores de alimentos","Ollas Arroceras","Exprimidores de c\xedtricos"]},{nombre:"Samurai",icon:"samurai.png",categorias:["Ventiladores","Licuadoras","Planchas de ropa"]},{nombre:"Shimasu",icon:"shimasu.png",categorias:["Ventiladores"]},{nombre:"Sueco",icon:"sueco.png",categorias:["Estufas"]},{nombre:"Universal",icon:"universal.jpg",categorias:["Ventiladores","Ollas a Presi\xf3n","Sartenes","Bater\xedas de cocina","Cacerolas","Licuadoras","Planchas de ropa","Termos y Portacomidas","Cafeteras y hervidoras","Hornos","Calderos","Sandwicheras","Ollas Arroceras","Procesadores de alimentos","Exprimidores de c\xedtricos","Planchas de Cabello","Batidoras","Cubiertos","Asadores El\xe9ctricos","Ollas y Calderos"]},{nombre:"Vajillas Corona",icon:"vajillascorona.png",categorias:["Vajillas"]},{nombre:"Visivo",icon:"visivo.jpg",categorias:["Hornos"]},{nombre:"Yamagas",icon:"yamagas.png",categorias:["Estufas"]}],this.marcas=[{_id:"5c921682b918ea1d9ccc9658",nombre:"Abba",icon:"abba.jpg",categorias:["Estufas"]},{_id:"5baa876a0f7f9b3344ca0949",nombre:"Altezza",icon:"altezza.jpg",categorias:["Ventiladores"]},{_id:"5bae772ebaebd02d50bb89c6",nombre:"Bionaire",icon:"bionaire.png",categorias:["Ventiladores"]},{_id:"5ca174f9134e1033ccb7c75f",nombre:"Black & Decker",icon:"balckanddecker.png",categorias:["Batidoras","Extractores de jugos"]},{_id:"5cba61ee62f65623a477a2a9",nombre:"Coldelec",icon:"coldelec.png",categorias:["Cafeteras y hervidoras"]},{_id:"5bb04b620f50942f28a35142",nombre:"Continental",icon:"continental.jpg",categorias:["Estufas","Exprimidores manuales","Calderos"]},{_id:"5bae7766baebd02d50bb89c8",nombre:"Corona",icon:"corona.png",categorias:["Ventiladores","Ollas a Presi\xf3n","Planchas de ropa","Molinos","Cafeteras y hervidoras","Procesadores de alimentos","Calderos","Licuadoras","Sandwicheras","Ollas Arroceras"]},{_id:"5bae7773baebd02d50bb89c9",nombre:"Dkasa",icon:"dkasa.png",categorias:["Ventiladores","Ollas Arroceras","Procesadores de alimentos","Calderos"]},{nombre:"G-Shark",icon:"gshark.jpg",categorias:["Ventiladores"]},{nombre:"Haceb",icon:"haceb.jpg",categorias:["Estufas"]},{nombre:"Home Elements",icon:"homelements.png",categorias:["Termos y Portacomidas","Cubiertos","Ventiladores","Ollas a Presi\xf3n","Cafeteras y hervidoras","Sandwicheras","Extractores de jugos","Licuadoras","Loncheras","Ollas Arroceras","Planchas de ropa","Sartenes","Procesadores de alimentos","Batidoras","Cacerolas","Chocolateras","Estufas","Exprimidores de c\xedtricos","Hornos","Ollas y Calderos","B\xe1sculas de cocina","Calderos","Bater\xedas de cocina","Refractarias"]},{nombre:"Imusa",icon:"imusa.png",categorias:["Licuadoras","Procesadores de alimentos","Exprimidores de c\xedtricos","Batidoras","Ollas a Presi\xf3n","Termos y Portacomidas","Ollas y Calderos","Sartenes","Planchas asadoras","Cacerolas","Chocolateras","Bater\xedas de cocina"]},{nombre:"Incametal",icon:"incametal.png",categorias:["Cuchillos","Utensilios"]},{nombre:"India",icon:"india.jpg",categorias:["Ollas a Presi\xf3n"]},{nombre:"Kalley",icon:"kalley.png",categorias:["Ventiladores","Batidoras","Cafeteras y hervidoras","Planchas de ropa","Extractores de jugos","Dispensadores de agua","Hornos","Sandwicheras","Aspiradoras","Licuadoras","Cuchillos"]},{nombre:"Oster",icon:"oster.jpg",categorias:["Planchas de ropa","Licuadoras","Cubiertos","Batidoras","Sandwicheras","Cafeteras y hervidoras","Extractores de jugos","Procesadores de alimentos","Ollas Arroceras","Exprimidores de c\xedtricos"]},{nombre:"Samurai",icon:"samurai.png",categorias:["Ventiladores","Licuadoras","Planchas de ropa"]},{nombre:"Shimasu",icon:"shimasu.png",categorias:["Ventiladores"]},{nombre:"Sueco",icon:"sueco.png",categorias:["Estufas"]},{nombre:"Universal",icon:"universal.jpg",categorias:["Ventiladores","Ollas a Presi\xf3n","Sartenes","Bater\xedas de cocina","Cacerolas","Licuadoras","Planchas de ropa","Termos y Portacomidas","Cafeteras y hervidoras","Hornos","Calderos","Sandwicheras","Ollas Arroceras","Procesadores de alimentos","Exprimidores de c\xedtricos","Planchas de Cabello","Batidoras","Cubiertos","Asadores El\xe9ctricos","Ollas y Calderos"]},{nombre:"Vajillas Corona",icon:"vajillascorona.png",categorias:["Vajillas"]},{nombre:"Visivo",icon:"visivo.jpg",categorias:["Hornos"]},{nombre:"Yamagas",icon:"yamagas.png",categorias:["Estufas"]}]}encuentraMarca(e){return this.categories.find(t=>this.funcionesService.stringToSlug(t.nombre)===e)}}return e.ngInjectableDef=r.Qb({factory:function(){return new e(r.Rb(fA))},token:e,providedIn:"root"}),e})();var UA=r.rb({encapsulation:0,styles:[[".cate-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:30px}.owl-carousel[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{border:1px solid #bbd7fc}"]],data:{}});function BA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,0,"div",[["class","wrapper"]],null,null,null,null,null))],null,null)}function qA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-home",[],null,null,null,BA,UA)),r.sb(1,4833280,null,0,jA,[VA,fA,Jo],null,null)],(function(e,t){e(t,1,0)}),null)}var HA=r.pb("app-home",jA,qA,{},{},[]),zA=r.rb({encapsulation:2,styles:[],data:{animation:[{type:7,name:"flyInOut",definitions:[{type:0,name:"inactive",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:0,name:"active",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:0,name:"removed",styles:{type:6,styles:{opacity:0},offset:null},options:void 0},{type:1,expr:"inactive => active",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null},{type:1,expr:"active => removed",animation:{type:4,styles:null,timings:"{{ easeTime }}ms {{ easing }}"},options:null}],options:{}}]}});function GA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,2,"button",[["aria-label","Close"],["class","toast-close-button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.remove()&&r),r}),null,null)),(e()(),r.tb(1,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(e()(),r.Kb(-1,null,["\xd7"]))],null,null)}function WA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),r.Kb(1,null,["[","]"]))],null,(function(e,t){e(t,1,0,t.component.duplicatesCount+1)}))}function KA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,3,"div",[],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(e()(),r.Kb(1,null,[" "," "])),(e()(),r.ib(16777216,null,null,1,null,WA)),r.sb(3,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.duplicatesCount)}),(function(e,t){var n=t.component;e(t,0,0,n.options.titleClass,n.title),e(t,1,0,n.title)}))}function QA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,0,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,0,0,n.options.messageClass,n.message)}))}function $A(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"div",[["aria-live","polite"],["role","alertdialog"]],[[8,"className",0],[1,"aria-label",0]],null,null,null,null)),(e()(),r.Kb(1,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,n.options.messageClass,n.message),e(t,1,0,n.message)}))}function YA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),r.tb(1,0,null,null,0,"div",[["class","toast-progress"]],[[4,"width",null]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.component.width+"%")}))}function XA(e){return r.Mb(0,[(e()(),r.ib(16777216,null,null,1,null,GA)),r.sb(1,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,KA)),r.sb(3,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,QA)),r.sb(5,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,$A)),r.sb(7,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null),(e()(),r.ib(16777216,null,null,1,null,YA)),r.sb(9,16384,null,0,x,[r.O,r.K],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.options.closeButton),e(t,3,0,n.title),e(t,5,0,n.message&&n.options.enableHtml),e(t,7,0,n.message&&!n.options.enableHtml),e(t,9,0,n.options.progressBar)}),null)}function JA(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"div",[["toast-component",""]],[[8,"className",0],[40,"@flyInOut",0],[4,"display",null]],[[null,"click"],[null,"mouseenter"],[null,"mouseleave"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Eb(e,1).tapToast()&&i),"mouseenter"===t&&(i=!1!==r.Eb(e,1).stickAround()&&i),"mouseleave"===t&&(i=!1!==r.Eb(e,1).delayedHideToast()&&i),i}),XA,zA)),r.sb(1,180224,null,0,Da,[Na,Aa,r.y],null,null)],null,(function(e,t){e(t,0,0,r.Eb(t,1).toastClasses,r.Eb(t,1).state,r.Eb(t,1).displayStyle)}))}var ZA=r.pb("[toast-component]",Da,JA,{},{},[]),eC=r.rb({encapsulation:0,styles:[[""]],data:{}});function tC(e){return r.Mb(0,[(e()(),r.tb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.sb(1,212992,null,0,ki,[Ei,r.O,r.j,[8,null],r.h],null,null)],(function(e,t){e(t,1,0)}),null)}function nC(e){return r.Mb(0,[(e()(),r.tb(0,0,null,null,1,"app-root",[],null,null,null,tC,eC)),r.sb(1,49152,null,0,q,[],null,null)],null,null)}var rC=r.pb("app-root",q,nC,{},{},[]);class iC{}function oC(e,t=null){return{type:2,steps:e,options:t}}function sC(e){return{type:6,styles:e,offset:null}}function aC(e){Promise.resolve(null).then(e)}class lC{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){aC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class uC{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?aC(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function cC(){return"undefined"!=typeof process}function hC(e){switch(e.length){case 0:return new lC;case 1:return e[0];default:return new uC(e)}}function dC(e,t,n,r,i={},o={}){const s=[],a=[];let l=-1,u=null;if(r.forEach(e=>{const n=e.offset,r=n==l,c=r&&u||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),u=c,l=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function fC(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&pC(n,"start",e)));break;case"done":e.onDone(()=>r(n&&pC(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&pC(n,"destroy",e)))}}function pC(e,t,n){const r=n.totalTime,i=gC(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function gC(e,t,n,r,i="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function mC(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function vC(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let yC=(e,t)=>!1,bC=(e,t)=>!1,_C=(e,t,n)=>[];const wC=cC();(wC||"undefined"!=typeof Element)&&(yC=(e,t)=>e.contains(t),bC=(()=>{if(wC||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):bC}})(),_C=(e,t,n)=>{let r=[];if(n)r.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&r.push(n)}return r});let SC=null,AC=!1;function CC(e){SC||(SC=("undefined"!=typeof document?document.body:null)||{},AC=!!SC.style&&"WebkitAppearance"in SC.style);let t=!0;return SC.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in SC.style,!t&&AC)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in SC.style),t}const EC=bC,kC=yC,TC=_C;function xC(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}class IC{validateStyleProperty(e){return CC(e)}matchesElement(e,t){return EC(e,t)}containsElement(e,t){return kC(e,t)}query(e,t,n){return TC(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,o=[],s){return new lC(n,r)}}let PC=(()=>{class e{}return e.NOOP=new IC,e})();function OC(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:RC(parseFloat(t[1]),t[2])}function RC(e,t){switch(t){case"s":return 1e3*e;default:return e}}function NC(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,o="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=RC(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=RC(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=e;if(!n){let n=!1,o=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(o,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:o}}(e,t,n)}function DC(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function LC(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else DC(e,n);return n}function MC(e,t,n){return n?t+":"+n+";":""}function FC(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=MC(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=MC(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function jC(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=WC(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),cC()&&FC(e))}function VC(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=WC(t);e.style[n]=""}),cC()&&FC(e))}function UC(e){return Array.isArray(e)?1==e.length?e[0]:oC(e):e}const BC=new RegExp("{{\\s*(.+?)\\s*}}","g");function qC(e){let t=[];if("string"==typeof e){const n=e.toString();let r;for(;r=BC.exec(n);)t.push(r[1]);BC.lastIndex=0}return t}function HC(e,t,n){const r=e.toString(),i=r.replace(BC,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?e:i}function zC(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const GC=/-+([a-z0-9])/g;function WC(e){return e.replace(GC,(...e)=>e[1].toUpperCase())}function KC(e,t){return 0===e||0===t}function QC(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let o=t[0],s=[];if(r.forEach(e=>{o.hasOwnProperty(e)||s.push(e),o[e]=n[e]}),s.length)for(var i=1;i<t.length;i++){let n=t[i];s.forEach((function(t){n[t]=YC(e,t)}))}}return t}function $C(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function YC(e,t){return window.getComputedStyle(e)[t]}function XC(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],o=r[2],s=r[3];t.push(eE(i,s)),"<"!=o[0]||"*"==i&&"*"==s||t.push(eE(s,i))}(e,n,t)):n.push(e),n}const JC=new Set(["true","1"]),ZC=new Set(["false","0"]);function eE(e,t){const n=JC.has(e)||ZC.has(e),r=JC.has(t)||ZC.has(t);return(i,o)=>{let s="*"==e||e==i,a="*"==t||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?JC.has(e):ZC.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?JC.has(t):ZC.has(t)),s&&a}}const tE=new RegExp("s*:selfs*,?","g");function nE(e,t,n){return new rE(e).build(t,n)}class rE{constructor(e){this._driver=e}build(e,t){const n=new iE(t);return this._resetContextStyleTimingState(n),$C(this,UC(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,o.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(e=>{if(oE(e)){const t=e;Object.keys(t).forEach(e=>{qC(t[e]).forEach(e=>{o.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=zC(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=$C(this,UC(e.animation),t);return{type:1,matchers:XC(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:sE(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>$C(this,e,t)),options:sE(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=$C(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:sE(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return aE(NC(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=aE(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||NC(r,t),aE(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:sC({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};n.easing&&(e.easing=n.easing),i=sC(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,t);s.isEmptyStep=o,r=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(oE(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=t.collectedStyles[t.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=qC(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(oE(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(oE(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");const u=e.steps.length;let c=0;r>0&&r<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return l.forEach((e,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*p;t.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(e,t),e.offset=o,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:$C(this,UC(e.animation),t),options:sE(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:sE(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:sE(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,o]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(tE,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,mC(t.collectedStyles,t.currentQuerySelector,{});const s=$C(this,UC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:sE(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:NC(e.timings,t.errors,!0);return{type:12,animation:$C(this,UC(e.animation),t),timings:n,options:null}}}class iE{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function oE(e){return!Array.isArray(e)&&"object"==typeof e}function sE(e){var t;return e?(e=DC(e)).params&&(e.params=(t=e.params)?DC(t):null):e={},e}function aE(e,t,n){return{duration:e,delay:t,easing:n}}function lE(e,t,n,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class uE{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const cE=new RegExp(":enter","g"),hE=new RegExp(":leave","g");function dE(e,t,n,r,i,o={},s={},a,l,u=[]){return(new fE).buildKeyframes(e,t,n,r,i,o,s,a,l,u)}class fE{buildKeyframes(e,t,n,r,i,o,s,a,l,u=[]){l=l||new uE;const c=new gE(e,t,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),$C(this,n,c);const h=c.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(s).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,c.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[lE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?OC(n.duration):null,o=null!=n.delay?OC(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),$C(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=pE);const e=OC(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>$C(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?OC(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);i&&s.delayNextStep(i),$C(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return NC(t.params?HC(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(e=>{o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?OC(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pE);let o=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{t.currentQueryIndex=r;const s=t.createSubContext(e.options,n);i&&s.delayNextStep(i),n===t.element&&(a=s.currentTimeline),$C(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;$C(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const pE={};class gE{constructor(e,t,n,r,i,o,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new mE(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=OC(n.duration)),null!=n.delay&&(r.delay=OC(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=HC(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new gE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=pE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new vE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,o){let s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(cE,"."+this._enterClassName)).replace(hE,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return i||0!=s.length||o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class mE{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new mE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]="*"})):LC(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=HC(o[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=LC(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?e.add(n):"*"==r&&t.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=e.size?zC(e.values()):[],o=t.size?zC(t.values()):[];if(n){const e=r[0],t=DC(e);e.offset=0,t.offset=1,r=[e,t]}return lE(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class vE extends mE{constructor(e,t,n,r,i,o,s=!1){super(e,t,o.delay),this.element=t,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],o=n+t,s=t/o,a=LC(e[0],!1);a.offset=0,i.push(a);const l=LC(e[0],!1);l.offset=yE(s),i.push(l);const u=e.length-1;for(let r=1;r<=u;r++){let s=LC(e[r],!1);s.offset=yE((t+s.offset*n)/o),i.push(s)}n=o,t=0,r="",e=i}return lE(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function yE(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class bE{}class _E extends bE{normalizePropertyName(e,t){return WC(e)}normalizeStyleValue(e,t,n,r){let i="";const o=n.toString().trim();if(wE[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+i}}const wE=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function SE(e,t,n,r,i,o,s,a,l,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const AE={};class CE{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}build(e,t,n,r,i,o,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||AE,d=this.buildStyles(n,s&&s.params||AE,c),f=a&&a.params||AE,p=this.buildStyles(r,f,c),g=new Set,m=new Map,v=new Map,y="void"===r,b={params:Object.assign({},h,f)},_=u?[]:dE(e,t,this.ast.animation,i,o,d,p,b,l,c);let w=0;if(_.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),c.length)return SE(t,this._triggerName,n,r,y,d,p,[],[],m,v,w,c);_.forEach(e=>{const n=e.element,r=mC(m,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=mC(v,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const S=zC(g.values());return SE(t,this._triggerName,n,r,y,d,p,_,S,m,v,w)}}class EE{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},r=DC(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let o=i[e];o.length>1&&(o=HC(o,r,t)),n[e]=o})}}),n}}class kE{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new EE(e.style,e.options&&e.options.params||{})}),TE(this.states,"true","1"),TE(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new CE(e,t,this.states))}),this.fallbackTransition=new CE(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function TE(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const xE=new uE;class IE{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=nE(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=dC(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const s=new Map;if(i?(o=dE(this._driver,t,i,"ng-enter","ng-leave",{},{},n,xE,r),o.forEach(e=>{const t=mC(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=hC(o.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,r){const i=gC(t,"","","");return fC(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const PE=[],OE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class NE{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=DC(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const DE=new NE("void");class LE{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qE(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const o=mC(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);const a=mC(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(qE(e,"ng-trigger"),qE(e,"ng-trigger-"+t),a[t]=DE),()=>{this._engine.afterFlush(()=>{const e=o.indexOf(s);e>=0&&o.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),o=new FE(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(qE(e,"ng-trigger"),qE(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const l=new NE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[t]=l,a||(a=DE),"void"!==l.value&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{VC(e,n),jC(e,r)})}return}const u=mC(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(qE(e,"ng-animate-queued"),o.onStart(()=>{HE(e,"ng-animate-queued")})),o.onDone(()=>{let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(o);e>=0&&n.splice(e,1)}}),this.players.push(o),u.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,".ng-trigger",!0).forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const o=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&hC(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const r=t.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(e)[r]||DE,s=new NE("void"),a=new FE(this.id,r,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}this.prepareLeaveAnimationListeners(e),r?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){qE(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(t=>{if(t.name==n.triggerName){const r=gC(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,fC(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class ME{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new LE(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(jE(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!jE(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qE(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),HE(e,"ng-animate-disabled"))}removeNode(e,t,n,r){if(jE(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return jE(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hC(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=OE,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)qE(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?hC(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new uE,r=[],i=new Map,o=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(e=>{u.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)u.add(t[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=BE(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const n="ng-enter"+p++;f.set(t,n),e.forEach(e=>qE(e,n))});const g=[],m=new Set,v=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const e=this.collectedLeaveElements[P],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):v.add(e))}const y=new Map,b=BE(h,Array.from(m));b.forEach((e,t)=>{const n="ng-leave"+p++;y.set(t,n),e.forEach(e=>qE(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>HE(e,n))}),b.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>HE(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const _=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(_.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const u=!c||!this.driver.containsElement(c,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(e,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return t.onStart(()=>VC(i,p.fromStyles)),t.onDestroy(()=>jC(i,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>VC(i,p.fromStyles)),t.onDestroy(()=>jC(i,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:t,element:i}),p.queriedElements.forEach(e=>mC(s,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),_.forEach(e=>e.destroy()),this.reportError(e)}const S=new Map,A=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(A.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{mC(S,t,[]).push(e),e.destroy()})});const C=g.filter(e=>GE(e,a,l)),E=new Map;UE(E,this.driver,v,l,"*").forEach(e=>{GE(e,a,l)&&C.push(e)});const k=new Map;d.forEach((e,t)=>{UE(k,this.driver,new Set(e),a,"!")}),C.forEach(e=>{const t=E.get(e),n=k.get(e);E.set(e,Object.assign({},t,n))});const T=[],x=[],I={};o.forEach(e=>{const{element:t,player:o,instruction:s}=e;if(n.has(t)){if(u.has(t))return o.onDestroy(()=>jC(t,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let e=I;if(A.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=A.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>A.set(t,e))}const n=this._buildAnimation(o.namespaceId,s,S,i,k,E);if(o.setRealPlayer(n),e===I)T.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=hC(t)),r.push(o)}}else VC(t,s.fromStyles),o.onDestroy(()=>jC(t,s.toStyles)),x.push(o),u.has(t)&&r.push(o)}),x.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=hC(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let P=0;P<g.length;P++){const e=g[P],t=e.__ng_removed;if(HE(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,".ng-animating",!0);for(let e=0;e<r.length;e++){let t=s.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?zE(this,e,r):this.processLeaveNode(e)}return g.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let o=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(o=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||"void"==i;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),o}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==r,l=mC(n,e,[]);this._getPreviousPlayers(e,a,i,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}VC(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const s=t.triggerName,a=t.element,l=[],u=new Set,c=new Set,h=t.timelines.map(t=>{const h=t.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new lC(t.duration,t.delay);const f=h!==a,p=function(e){const t=[];return function e(t,n){for(let r=0;r<t.length;r++){const i=t[r];i instanceof uC?e(i.players,n):n.push(i)}}(e,t),t}((n.get(h)||PE).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=i.get(h),m=o.get(h),v=dC(0,this._normalizer,0,t.keyframes,g,m),y=this._buildPlayer(t,v,p);if(t.subTimeline&&r&&c.add(h),f){const t=new FE(e,s,h);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{mC(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),u.forEach(e=>qE(e,"ng-animating"));const d=hC(h);return d.onDestroy(()=>{u.forEach(e=>HE(e,"ng-animating")),jC(a,t.toStyles)}),c.forEach(e=>{mC(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new lC(e.duration,e.delay)}}class FE{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new lC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>fC(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){mC(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jE(e){return e&&1===e.nodeType}function VE(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function UE(e,t,n,r,i){const o=[];n.forEach(e=>o.push(VE(e)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(e=>{const n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=RE,s.push(r))}),e.set(r,o)});let a=0;return n.forEach(e=>VE(e,o[a++])),s}function BE(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let o=i.get(t);if(o)return o;const s=t.parentNode;return o=n.has(s)?s:r.has(s)?1:e(s),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)}),n}function qE(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function HE(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function zE(e,t,n){hC(n).onDone(()=>e.processLeaveNode(t))}function GE(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class WE{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new ME(e,t,n),this._timelineEngine=new IE(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const o=e+"-"+r;let s=this._triggerCache[o];if(!s){const e=[],t=nE(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new kE(e,t)}(r,t),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=vC(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=vC(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function KE(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=$E(t[0]),t.length>1&&(r=$E(t[t.length-1]))):t&&(n=$E(t)),n||r?new QE(e,n,r):null}let QE=(()=>{class e{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&jC(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jC(this._element,this._initialStyles),this._endStyles&&(jC(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(VC(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(VC(this._element,this._endStyles),this._endStyles=null),jC(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function $E(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];YE(i)&&(t=t||{},t[i]=e[i])}return t}function YE(e){return"display"===e||"position"===e}class XE{constructor(e,t,n,r,i,o,s){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=rk(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),nk(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){JE(this._element,this._name,"paused")}resume(){JE(this._element,this._name,"running")}setPosition(e){const t=ZE(this._element,this._name);this._position=e*this._duration,nk(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=rk(e,"").split(","),r=ek(n,t);r>=0&&(n.splice(r,1),nk(e,"",n.join(",")))}(this._element,this._name))}}function JE(e,t,n){nk(e,"PlayState",n,ZE(e,t))}function ZE(e,t){const n=rk(e,"");return n.indexOf(",")>0?ek(n.split(","),t):ek([n],t)}function ek(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function tk(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function nk(e,t,n,r){const i="animation"+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function rk(e,t){return e.style["animation"+t]}class ik{constructor(e,t,n,r,i,o,s,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new XE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:YC(this.element,n))})}this.currentSnapshot=e}}class ok extends lC{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=xC(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class sk{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return CC(e)}matchesElement(e,t){return EC(e,t)}containsElement(e,t){return kC(e,t)}query(e,t,n){return TC(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>xC(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(e,t,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(e=>e instanceof ik),l={};KC(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=QC(e,t,l));if(0==n)return new ok(e,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);const d=KE(e,t),f=new ik(e,t,c,n,r,i,u,d);return f.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ak{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:YC(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class lk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(uk().toString()),this._cssKeyframesDriver=new sk}validateStyleProperty(e){return CC(e)}matchesElement(e,t){return EC(e,t)}containsElement(e,t){return kC(e,t)}query(e,t,n){return TC(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=o.filter(e=>e instanceof ak);KC(n,r)&&u.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=KE(e,t=QC(e,t=t.map(e=>LC(e,!1)),l));return new ak(e,t,a,c)}}function uk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class ck extends iC{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.P.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?oC(e):e;return fk(this._renderer,null,t,"register",[n]),new hk(t,this._renderer)}}class hk extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new dk(this._id,e,t||{},this._renderer)}}class dk{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return fk(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function fk(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}class pk{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new gk("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,e),t.data.animation.forEach(t=>this.engine.registerTrigger(r,i,e,t.name,t)),new mk(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class gk{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mk extends gk{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}class vk extends WE{constructor(e,t,n){super(e.body,t,n)}}function yk(){return"function"==typeof uk()?new lk:new sk}function bk(){return new _E}function _k(e,t,n){return new pk(e,t,n)}const wk=new r.p("AnimationModuleType");class Sk{}class Ak{}var Ck=r.qb(B,[q],(function(e){return r.Cb([r.Db(512,r.j,r.bb,[[8,[Xi,oo,is,FA,HA,ZA,rC]],[3,r.j],r.w]),r.Db(5120,r.t,r.nb,[[3,r.t]]),r.Db(4608,S,A,[r.t,[2,w]]),r.Db(5120,r.jb,r.ob,[r.y]),r.Db(5120,r.c,r.kb,[]),r.Db(5120,r.r,r.lb,[]),r.Db(5120,r.s,r.mb,[]),r.Db(4608,Wt,Kt,[N]),r.Db(6144,r.F,null,[Wt]),r.Db(4608,Vt,Bt,[]),r.Db(5120,pt,(function(e,t,n,r,i,o,s,a){return[new Ft(e,t,n),new Gt(r),new qt(i,o,s,a)]}),[N,r.y,r.A,N,N,Vt,r.cb,[2,Ut]]),r.Db(4608,gt,gt,[pt,r.y]),r.Db(135680,yt,yt,[N]),r.Db(4608,At,At,[gt,yt,r.c]),r.Db(5120,PC,yk,[]),r.Db(5120,bE,bk,[]),r.Db(4608,WE,vk,[N,PC,bE]),r.Db(5120,r.D,_k,[At,WE,r.y]),r.Db(6144,vt,null,[yt]),r.Db(4608,r.L,r.L,[r.y]),r.Db(5120,hr,Hi,[wi]),r.Db(4608,Pi,Pi,[]),r.Db(6144,xi,null,[Pi]),r.Db(135680,Oi,Oi,[wi,r.v,r.i,r.q,xi]),r.Db(4608,Ii,Ii,[]),r.Db(5120,Ri,ji,[wi,L,Ni]),r.Db(5120,Ki,Wi,[zi]),r.Db(5120,r.b,(function(e){return[e]}),[Ki]),r.Db(4608,ks,ks,[]),r.Db(4608,ba,ba,[]),r.Db(4608,Wo,Ko,[N,r.A,zo]),r.Db(4608,Qo,Qo,[Wo,Go]),r.Db(5120,jo,(function(e){return[e]}),[Qo]),r.Db(4608,qo,qo,[]),r.Db(6144,Bo,null,[qo]),r.Db(4608,Ho,Ho,[Bo]),r.Db(6144,wo,null,[Ho]),r.Db(4608,_o,$o,[wo,r.q]),r.Db(4608,Mo,Mo,[_o]),r.Db(5120,ol.d,ol.h,[ol.c,r.y,[2,ol.b]]),r.Db(4608,YS,YS,[ol.c,[2,ol.b],[2,GS],[2,KS],r.A,r.y,[2,WS],[2,QS],[2,sl]]),r.Db(4608,dl,dl,[ol.c,[2,ol.b],r.A,r.y,[2,sl],[2,al],[2,ll],[2,ul],[2,cl],[2,hl]]),r.Db(4608,iC,ck,[r.D,N]),r.Db(4608,JS,JS,[Mo,dl,YS]),r.Db(1073742336,R,R,[]),r.Db(1024,r.l,nn,[]),r.Db(1024,r.x,(function(){return[Mi()]}),[]),r.Db(512,zi,zi,[r.q]),r.Db(1024,r.d,(function(e,t){return[(n=e,ht("probe",ft),ht("coreTokens",Object.assign({},dt,(n||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>ft),Gi(t)];var n}),[[2,r.x],zi]),r.Db(512,r.e,r.e,[[2,r.d]]),r.Db(131584,r.g,r.g,[r.y,r.cb,r.q,r.l,r.j,r.e]),r.Db(1073742336,r.f,r.f,[r.g]),r.Db(1073742336,rn,rn,[[3,rn]]),r.Db(1024,Di,Ui,[[3,wi]]),r.Db(512,Hn,zn,[]),r.Db(512,Ei,Ei,[]),r.Db(256,Ni,{scrollPositionRestoration:"enabled",useHash:!0},[]),r.Db(1024,a,Vi,[o,[2,l],Ni]),r.Db(512,u,u,[a,o]),r.Db(512,r.i,r.i,[]),r.Db(512,r.v,r.I,[r.i,[2,r.J]]),r.Db(1024,pi,(function(){return[[{path:"factura",component:to,children:[{path:":codigoWeb",component:bo}]},{path:"",component:NA,children:[{path:"",component:jA}]},{path:"**",redirectTo:""}]]}),[]),r.Db(1024,wi,qi,[r.g,Hn,Ei,u,r.q,r.v,r.i,pi,Ni,[2,mi],[2,di]]),r.Db(1073742336,Fi,Fi,[[2,Di],[2,wi]]),r.Db(1073742336,Ak,Ak,[]),r.Db(1073742336,ya,ya,[]),r.Db(1073742336,_a,_a,[]),r.Db(1073742336,wa,wa,[]),r.Db(1073742336,Yo,Yo,[]),r.Db(1073742336,Xo,Xo,[]),r.Db(1073742336,ol.a,ol.a,[r.A]),r.Db(1073742336,XS,XS,[]),r.Db(1073742336,fl,fl,[]),r.Db(1073742336,Sk,Sk,[]),r.Db(1073742336,Fa,Fa,[]),r.Db(1073742336,go,go,[]),r.Db(1073742336,B,B,[]),r.Db(256,r.ab,!0,[]),r.Db(256,zo,"XSRF-TOKEN",[]),r.Db(256,Go,"X-XSRF-TOKEN",[]),r.Db(256,ol.c,{apiKey:"AIzaSyApasa7tg_CeXaPRcmTCLDkwBcmgXl_-LE",authDomain:"bigsaledev.firebaseapp.com",databaseURL:"https://bigsaledev.firebaseio.com",projectId:"bigsaledev",storageBucket:"bigsaledev.appspot.com",messagingSenderId:"1072537226666",appId:"1:1072537226666:web:2303e589ac96a472"},[]),r.Db(256,ol.b,void 0,[]),r.Db(256,wk,"BrowserAnimations",[]),r.Db(256,Ea,{default:Ma,config:{}},[])])}));i.production&&Object(r.T)(),tn().bootstrapModuleFactory(Ck).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);